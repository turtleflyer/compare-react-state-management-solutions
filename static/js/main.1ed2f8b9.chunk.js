(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),i=c(12),r=c.n(i),j=c(0),b=c(4),o=c(3),l=new Map;function O(e){var t=0;return l.has(e)&&(t=l.get(e)+1),l.set(e,t),"".concat(e,"-").concat(t)}var u=5e3;function s(e,t,c,a){return void 0===e||clearTimeout(e),a.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&a.finish()}),u):t.disconnect()}function d(e,t,c,a){var n=null!==a&&void 0!==a?a:{startTime:t,duration:0},i=n.startTime,r=n.duration,j=t-i,b=-j>=u;return{TTI:b?0:Math.max(0,c-t),TBT:b?0:e+Math.max(0,j<50?r-50:r-j)}}var h=PerformanceObserver.supportedEntryTypes,v=h&&h.includes("mark")&&h.includes("longtask");function f(e){return v}var x=function(e){var t=e.children,c=e.settings,a=e.updateStartMeasureCallback,i=c.measureFromCreating,r=c.name,b=Object(n.useState)((function(){return O(null!==r&&void 0!==r?r:"start-use-perf-metrics")})),l=Object(o.a)(b,1)[0],h=Object(n.useState)((function(){return v?{data:null,status:"never"}:{data:null,status:"error"}})),x=Object(o.a)(h,2),p=x[0],m=x[1],y=Object(n.useRef)(!0),g=Object(n.useState)((function(){return v?function(e,t,c){var a,n,i,r=!0,b=0,l=0,O={useEffectRegistered:!1};function h(){t({data:d(b,n.startTime,l,i),status:"done"})}var v=new PerformanceObserver((function(c,d){var v=O.useEffectRegistered;if(a=s(a,d,O,{scheduleNext:!0,finish:h}),r||v){if(r=!1,!n){var f=c.getEntriesByName(e);if(!(f.length>0))return t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})})),void(a=s(a,d,O,{scheduleNext:!1}));var x=Object(o.a)(f,1);n=x[0],d.observe({entryTypes:["longtask"]})}var p=c.getEntriesByType("longtask");p.length>0&&p.every((function(e){var t=e.startTime,c=e.duration;if(i){if(t-l>=u)return a=s(a,d,O,{scheduleNext:!1}),h(),!1;b+=c-50}else i=e;return l=t+c,!0}))}else s(a,d,O,{scheduleNext:!1})}));return c((function(){b=0,l=0,n=void 0,i=void 0,t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),v.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[v,function(){return O.useEffectRegistered=!0,function(){v.disconnect(),a=s(a,v,O,{scheduleNext:!1})}}]}(l,m,a):null})),C=Object(o.a)(g,1)[0];f()&&y.current&&i&&(Object(o.a)(C,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(l));return Object(n.useEffect)((function(){if(f()){var e=Object(o.a)(C,2)[1];return y.current=!1,i&&m((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),e()}}),[]),Object(n.useMemo)((function(){return Object(n.cloneElement)(t,p)}),[p])},p={measureFromCreating:!1};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},p),e),c=Object(n.useRef)((function(){})),i=Object(n.useState)([function(e){var n=e.children;return Object(a.jsx)(x,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:n}))},function(){return c.current()}]),r=Object(o.a)(i,1),b=r[0];return b}var y=c(13),g=16777215;function C(e){var t=Math.round(parseInt(e.slice(1),16)+g*(Math.random()/4+.5));return"#".concat((t=t>g?t-g:t).toString(16).padStart(6,"0"))}function S(e,t){return Object(b.b)({key:O(e),default:t})}var E="choice-for-pixel",T="color-for-alternative",w="#AAAAAA",I=Object(b.b)({key:E,default:0}),k=Object(b.b)({key:T,default:w});function A(e){return S("".concat(T,"-").concat(e),C(w))}var R=[0,1].map((function(e){return Object(b.b)({key:"".concat("alternative-for-choice","-").concat(e),default:{atom:A(e)}})})),_=Object(b.b)({key:"grid-size",default:32}),M=Object(b.b)({key:"remember-active-choice",default:0}),z=function(e){var t=e.label,c=e.onChange,n=e.value,i=void 0===n?"":n,r=e.width,b=void 0===r?65:r,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:O}))]})}))},N={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},P=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},N),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},N),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},N),{},{animationDelay:"0.2s"})}))]}):null}))},F=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,b=e.width,l=void 0===b?65:b,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(y.a)({inputValue:r,showSpin:!1}),h=Object(o.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(z,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(P,Object(j.a)({},{toShow:v.showSpin}))]}))},B={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},D=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,i=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:B}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(i),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:B}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:B}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},B),{},{backgroundColor:"transparent"})}))},H=[],V=0,L=function(e){H.push(e)},W=function(e){return H[e]},G=function(){return H[V++]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;V=e},U=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=Object(b.e)(_),i=Object(b.e)(M),r=[0,1].map((function(e){return Object(b.e)(R[e])})),l=m({measureFromCreating:!0}),O=Object(o.a)(l,2),u=O[0],s=O[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(F,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){s(),X(),n(parseInt(e,10)),i(0),r.forEach((function(e,t){e((function(e){return e||{atom:A(t)}}))}))},value:"".concat(32),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(u,{children:Object(a.jsx)(D,Object(j.a)({},{data:null}))})]}))},Y={width:200,height:20,display:"block",marginRight:5},J=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},Y),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},q={display:"flex",margin:"5px 5px 5px 0"},K=function(){var e=Object(b.e)(M),t=[0,1].map((function(e){return Object(b.c)(R[e])})),c=[0,1].map((function(){return m()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(i,r){var b,o=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:q}),{},{key:i}),Object(a.jsx)(J,Object(j.a)({},{callback:(b=r,function(){var a=t[b][0];c[b][1](),a?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:A(b)}))}),name:i})),Object(a.jsx)(o,{children:Object(a.jsx)(D,Object(j.a)({},{data:null}))}))}))})};function Q(e){var t=Math.floor(Math.random()*e),c=W(t);if(!c)throw Error("It should be defined");return c}var Z={margin:"-5px 0 0 5px",height:20},$=function(e){var t=e.pixelChoiceAtom,c=Object(b.e)(t);return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[]),Object(a.jsx)(a.Fragment,{})},ee=function(){var e=Object(b.d)(_),t=Object(n.useState)("".concat(30)),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(n.useState)([]),O=Object(o.a)(l,2),u=O[0],s=O[1],d=m(),h=Object(o.a)(d,2),v=h[0],f=h[1];return Object(n.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:q}),{},{children:[Object(a.jsx)(J,Object(j.a)({},{callback:function(){f();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;r("".concat(c));for(var n=Math.pow(e,2),b=n*c/100,o=[],l=0;l<b;l++){var O=void 0;do{O=Q(n)}while(o.includes(O));o.push(O)}s(o.map((function(e){return Object(a.jsx)($,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(a.jsx)(z,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;r(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Z}),{},{children:Object(a.jsx)(v,{children:Object(a.jsx)(D,Object(j.a)({},{data:null}))})}))]}),u]})},te=function(){var e=Object(b.d)(_),t=Object(n.useState)([I]),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(b.e)(i[0]),O=m(),u=Object(o.a)(O,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){l((function(e){return 1-e}))}),[l,i]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:q}),{},{children:[Object(a.jsx)(J,Object(j.a)({},{callback:function(){d(),r([Q(Math.pow(e,2))])},name:"paint random pixel"})),Object(a.jsx)(s,{children:Object(a.jsx)(D,Object(j.a)({},{data:null}))})]}))},ce=function(){var e=[0,1].map((function(e){return Object(b.d)(R[e])})),t=[0,1].map((function(t){var c,a;return Object(b.c)(null!==(c=null===(a=e[t])||void 0===a?void 0:a.atom)&&void 0!==c?c:k)})),c=Object(b.c)(M),n=Object(o.a)(c,2),i=n[0],r=n[1],l=m(),O=Object(o.a)(l,2),u=O[0],s=O[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:q}),{},{children:[Object(a.jsx)(J,Object(j.a)({},{callback:function(){s();var c=t[i][0],a=1-i;null!==e[a]&&r(a),null!==e[i]&&t[i][1](C(c))},name:"re-paint"})),Object(a.jsx)(u,{children:Object(a.jsx)(D,Object(j.a)({},{data:null}))})]}))},ae=c(8),ne={height:"100%",width:"100%"},ie=function(e){var t=e.altControlAtom,c=Object(b.d)(t),n=Object(j.a)(Object(j.a)({},ne),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},re=function(e){var t=e.pixelSize,c=e.defChoice,i={height:t,width:t},r=Object(n.useState)(I),l=Object(o.a)(r,2),O=l[0],u=l[1],s=Object(b.c)(O),d=Object(o.a)(s,2),h=d[0],v=d[1],f=Object(b.d)(R[h]);return Object(n.useEffect)((function(){if(O===I){var e=G();e||(e=S(E,c),L(e)),u(e)}else v(c)}),[c,O,v]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:f&&O!==I&&Object(a.jsx)(ie,Object(j.a)({},{altControlAtom:f.atom}))}))},je={display:"flex"},be=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,b=Object(n.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(n.createElement)(re,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:O("c-key")}))}))}),[r,c,i]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:je}),{},{children:b})),t]})},oe=function(){var e=Object(b.d)(_),t=Object(n.useState)(0),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(ae.a)((function(){if(!i)return null;for(var t="".concat(i/e,"px"),c=null,n=0;n<e;n++)c=Object(a.jsx)(be,Object(j.a)(Object(j.a)({},{length:e,pixelSize:t,defChoice:(e+n+1)%2}),{},{children:c}));return c}),[e,i]);return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){var t=e.getBoundingClientRect().height;r(t)}}}),{},{children:l}))},le=function(){return Object(a.jsx)(b.a,{children:Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(oe,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(a.jsx)(ce,{}),Object(a.jsx)(K,{}),Object(a.jsx)(te,{}),Object(a.jsx)(ee,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(U,{})]}))]}))}))})},Oe=c(5),ue=c(29);function se(e,t){return[O(e),t]}var de="choice-for-pixel",he="color-for-alternative",ve="#AAAAAA",fe=[de,0],xe=[he,ve];function pe(e){return se("".concat(he,"-").concat(e),C(ve))}var me=[0,1].map((function(e){return["".concat("alternative-for-choice","-").concat(e),pe(e)]})),ye=["grid-size",32],ge=["remember-active-choice",0],Ce=Object(ue.a)().useInterstate,Se=function(e){var t=e.label,c=e.onChange,n=e.value,i=void 0===n?"":n,r=e.width,b=void 0===r?65:r,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:O}))]})}))},Ee={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},Te=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ee),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ee),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ee),{},{animationDelay:"0.2s"})}))]}):null}))},we=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,b=e.width,l=void 0===b?65:b,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(y.a)({inputValue:r,showSpin:!1}),h=Object(o.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(Se,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(Te,Object(j.a)({},{toShow:v.showSpin}))]}))},Ie={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},ke=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,i=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ie}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(i),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ie}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ie}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ie),{},{backgroundColor:"transparent"})}))},Ae=[],Re=0,_e=function(e){Ae.push(e)},Me=function(e){return Ae[e]},ze=function(){return Ae[Re++]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Re=e},Pe=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=Ce.apply(void 0,Object(Oe.a)(ye)).set(),i=Ce.apply(void 0,Object(Oe.a)(ge)).set(),r=[0,1].map((function(e){return Ce.apply(void 0,Object(Oe.a)(me[e])).set()})),b=m({measureFromCreating:!0}),l=Object(o.a)(b,2),O=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(we,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u(),Ne(),n(parseInt(e,10)),i(0),r.forEach((function(e,t){e((function(e){return e||pe(t)}))}))},value:"".concat(32),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(O,{children:Object(a.jsx)(ke,Object(j.a)({},{data:null}))})]}))},Fe={width:200,height:20,display:"block",marginRight:5},Be=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},Fe),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},De={display:"flex",margin:"5px 5px 5px 0"},He=function(){var e=Ce.apply(void 0,Object(Oe.a)(ge)).set(),t=[0,1].map((function(e){return Ce.apply(void 0,Object(Oe.a)(me[e])).set()})),c=[0,1].map((function(){return m()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(i,r){var b,o=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:De}),{},{key:i}),Object(a.jsx)(Be,Object(j.a)({},{callback:(b=r,function(){c[b][1](),t[b]((function(t){return t?(e(1-b),null):(e(b),pe(b))}))}),name:i})),Object(a.jsx)(o,{children:Object(a.jsx)(ke,Object(j.a)({},{data:null}))}))}))})};function Ve(e){var t=Math.floor(Math.random()*e),c=Me(t);if(!c)throw Error("It should be defined");return c}var Le={margin:"-5px 0 0 5px",height:20},We=function(e){var t=e.pixelChoiceAtom,c=Ce.apply(void 0,Object(Oe.a)(t)).set();return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[]),Object(a.jsx)(a.Fragment,{})},Ge=function(){var e=Ce.apply(void 0,Object(Oe.a)(ye)).get(),t=Object(n.useState)("".concat(30)),c=Object(o.a)(t,2),i=c[0],r=c[1],b=Object(n.useState)([]),l=Object(o.a)(b,2),O=l[0],u=l[1],s=m(),d=Object(o.a)(s,2),h=d[0],v=d[1];return Object(n.useEffect)((function(){return u((function(e){return e.length>0?[]:e}))}),[O]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:De}),{},{children:[Object(a.jsx)(Be,Object(j.a)({},{callback:function(){v();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;r("".concat(c));for(var n=Math.pow(e,2),b=n*c/100,o=[],l=0;l<b;l++){var O=void 0;do{O=Ve(n)}while(o.includes(O));o.push(O)}u(o.map((function(e){return Object(a.jsx)(We,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(a.jsx)(Se,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;r(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Le}),{},{children:Object(a.jsx)(h,{children:Object(a.jsx)(ke,Object(j.a)({},{data:null}))})}))]}),O]})},Xe=function(){var e=Ce.apply(void 0,Object(Oe.a)(ye)).get(),t=Object(n.useState)([fe]),c=Object(o.a)(t,2),i=c[0],r=c[1],b=Ce.apply(void 0,Object(Oe.a)(i[0])).set(),l=m(),O=Object(o.a)(l,2),u=O[0],s=O[1];return Object(n.useEffect)((function(){b((function(e){return 1-e}))}),[b,i]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:De}),{},{children:[Object(a.jsx)(Be,Object(j.a)({},{callback:function(){s(),r([Ve(Math.pow(e,2))])},name:"paint random pixel"})),Object(a.jsx)(u,{children:Object(a.jsx)(ke,Object(j.a)({},{data:null}))})]}))},Ue=function(){var e=[0,1].map((function(e){return Ce.apply(void 0,Object(Oe.a)(me[e])).get()})),t=[0,1].map((function(t){var c;return Ce.apply(void 0,Object(Oe.a)(null!==(c=e[t])&&void 0!==c?c:xe)).set()})),c=Ce.apply(void 0,Object(Oe.a)(ge)).both(),n=Object(o.a)(c,2),i=n[0],r=n[1],b=m(),l=Object(o.a)(b,2),O=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:De}),{},{children:[Object(a.jsx)(Be,Object(j.a)({},{callback:function(){u(),t[i]((function(t){var c=1-i;return null!==e[c]&&r(c),null!==e[i]?C(t):t}))},name:"re-paint"})),Object(a.jsx)(O,{children:Object(a.jsx)(ke,Object(j.a)({},{data:null}))})]}))},Ye={height:"100%",width:"100%"},Je=function(e){var t=e.altControlAtom,c=Ce.apply(void 0,Object(Oe.a)(t)).get(),n=Object(j.a)(Object(j.a)({},Ye),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},qe=function(e){var t=e.pixelSize,c=e.defChoice,i={height:t,width:t},r=Object(n.useState)(fe),b=Object(o.a)(r,2),l=b[0],O=b[1],u=Ce.apply(void 0,Object(Oe.a)(l)).both(),s=Object(o.a)(u,2),d=s[0],h=s[1],v=Ce.apply(void 0,Object(Oe.a)(me[d])).get();return Object(n.useEffect)((function(){if(l===fe){var e=ze();e||(e=se(de,c),_e(e)),O(e)}else h(c)}),[c,l,h]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:v&&l!==fe&&Object(a.jsx)(Je,Object(j.a)({},{altControlAtom:v}))}))},Ke={display:"flex"},Qe=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,b=Object(n.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(n.createElement)(qe,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:O("c-key")}))}))}),[r,c,i]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ke}),{},{children:b})),t&&Object(a.jsx)("div",{children:t})]})},Ze=function(){var e=Ce.apply(void 0,Object(Oe.a)(ye)).get(),t=Object(n.useState)(0),c=Object(o.a)(t,2),i=c[0],r=c[1],b=Object(ae.a)((function(){if(!i)return null;for(var t="".concat(i/e,"px"),c=null,n=0;n<e;n++)c=Object(a.jsx)(Qe,Object(j.a)(Object(j.a)({},{length:e,pixelSize:t,defChoice:(e+n+1)%2}),{},{children:c}));return c}),[e,i]);return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){var t=e.getBoundingClientRect().height;r(t)}}}),{},{children:b}))},$e=function(){return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Ze,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(a.jsx)(Ue,{}),Object(a.jsx)(He,{}),Object(a.jsx)(Xe,{}),Object(a.jsx)(Ge,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(Pe,{})]}))]}))}))},et=c(7),tt=c(6);var ct,at="color-for-alternative",nt="choice-for-pixel";function it(e){return t="".concat(at,"-").concat(e),c=C("#AAAAAA"),[O(t),c];var t,c}var rt,jt=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)})),bt=jt.reduce((function(e,t,c){var a,n=it(c),i=Object(o.a)(n,2),r=i[0],b=i[1];return Object(j.a)(Object(j.a)({},e),{},(a={},Object(tt.a)(a,t,r),Object(tt.a)(a,r,b),a))}),{}),ot=Object(j.a)(Object(j.a)({},(ct={},Object(tt.a)(ct,nt,0),Object(tt.a)(ct,"gridSize",32),Object(tt.a)(ct,"rememberActiveChoice",0),ct)),bt),lt=function(e){var t=e.label,c=e.onChange,n=e.value,i=void 0===n?"":n,r=e.width,b=void 0===r?65:r,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:O}))]})}))},Ot={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},ut=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ot),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ot),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Ot),{},{animationDelay:"0.2s"})}))]}):null}))},st=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,b=e.width,l=void 0===b?65:b,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(y.a)({inputValue:r,showSpin:!1}),h=Object(o.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(lt,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(ut,Object(j.a)({},{toShow:v.showSpin}))]}))},dt={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},ht=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,i=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:dt}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(i),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:dt}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:dt}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},dt),{},{backgroundColor:"transparent"})}))};function vt(e){return{type:rt.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.SET_CHOICE_FOR_PIXEL="pixels/setChoiceForPixel",e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(rt||(rt={}));var ft=[],xt=0,pt=function(e){ft.push(e)},mt=function(e){return ft[e]},yt=function(){return ft[xt++]},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;xt=e},Ct=Object(et.b)(null,{setGridSize:function(e){return{type:rt.CHOOSE_GRID,payload:{gridSize:e}}},setActiveChoice:function(e){return{type:rt.REMEMBER_ACTIVE_CHOICE,payload:{rememberActiveChoice:e}}},setAlternative:function(e){return{type:rt.TURN_ON_ALTERNATIVE,payload:{alternativeOfChoice:e}}}})((function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.setGridSize,i=e.setActiveChoice,r=e.setAlternative,b=m({measureFromCreating:!0}),l=Object(o.a)(b,2),O=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(st,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u(),gt(),n(parseInt(e,10)),i(0),[0,1].forEach((function(e){r(e)}))},value:"".concat(32),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(O,{children:Object(a.jsx)(ht,Object(j.a)({},{data:null}))})]}))})),St={width:200,height:20,display:"block",marginRight:5},Et=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},St),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},Tt={display:"flex",margin:"5px 5px 5px 0"},wt=Object(et.b)(null,{switchAlternatives:function(e){return{type:rt.SWITCH_ALTERNATIVES,payload:{alternativeOfChoice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return m()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,i){var r,b=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{key:e}),Object(a.jsx)(Et,Object(j.a)({},{callback:(r=i,function(){c[r][1](),t(r)}),name:e})),Object(a.jsx)(b,{children:Object(a.jsx)(ht,Object(j.a)({},{data:null}))}))}))})}));function It(e){var t=Math.floor(Math.random()*e),c=mt(t);if(!c)throw Error("It should be defined");return c}var kt=function(e,t){return e[t]},At=function(e,t){return e[t]},Rt=function(e,t){return e[t]};function _t(e){return e.gridSize}var Mt={margin:"-5px 0 0 5px",height:20},zt=Object(et.b)((function(e){return{gridSize:_t(e)}}),{switchPixelChoice:vt})((function(e){var t=e.gridSize,c=e.switchPixelChoice,i=Object(n.useState)("".concat(30)),r=Object(o.a)(i,2),b=r[0],l=r[1],O=Object(n.useState)([]),u=Object(o.a)(O,2),s=u[0],d=u[1],h=m(),v=Object(o.a)(h,2),f=v[0],x=v[1];return Object(n.useEffect)((function(){s.forEach((function(e){return c(e)})),d((function(e){return e.length>0?[]:e}))}),[s,c]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{children:[Object(a.jsx)(Et,Object(j.a)({},{callback:function(){x();var e=parseInt(b,10),c=e>=0&&e<=100?e:0;l("".concat(c));for(var a=Math.pow(t,2),n=a*c/100,i=[],r=0;r<n;r++){var j=void 0;do{j=It(a)}while(i.includes(j));i.push(j)}d(i)},name:"paint n% random pixels"})),Object(a.jsx)(lt,Object(j.a)({},{label:"n: ",value:b,onChange:function(e){var t=e.target.value;l(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Mt}),{},{children:Object(a.jsx)(f,{children:Object(a.jsx)(ht,Object(j.a)({},{data:null}))})}))]})})),Nt=Object(et.b)((function(e){return{gridSize:_t(e)}}),{switchPixelChoice:vt})((function(e){var t=e.gridSize,c=e.switchPixelChoice,n=m(),i=Object(o.a)(n,2),r=i[0],b=i[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{children:[Object(a.jsx)(Et,Object(j.a)({},{callback:function(){b(),c(It(Math.pow(t,2)))},name:"paint random pixel"})),Object(a.jsx)(r,{children:Object(a.jsx)(ht,Object(j.a)({},{data:null}))})]}))})),Pt=Object(et.b)(null,{repaintRow:function(){return{type:rt.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=m(),n=Object(o.a)(c,2),i=n[0],r=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{children:[Object(a.jsx)(Et,Object(j.a)({},{callback:function(){r(),t()},name:"re-paint"})),Object(a.jsx)(i,{children:Object(a.jsx)(ht,Object(j.a)({},{data:null}))})]}))})),Ft={height:"100%",width:"100%"},Bt=Object(et.b)((function(e,t){var c=t.altControl;return{color:At(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},Ft),{},{backgroundColor:t});return Object(a.jsx)("div",Object(j.a)({},{style:c}))})),Dt=Object(et.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:Rt(e,jt[kt(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(a.jsx)(Bt,Object(j.a)({},{altControl:t})):null})),Ht=Object(et.b)(null,{setChoice:function(e,t){return{type:rt.SET_CHOICE_FOR_PIXEL,payload:{pixel:e,choice:t}}},createPixel:function(e,t){return{type:rt.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,i=e.setChoice,r=e.createPixel,b={height:t,width:t},l=Object(n.useState)(nt),u=Object(o.a)(l,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){if(s===nt){var e=yt();e||(e=O(nt),r(e,c),pt(e)),d(e)}else i(s,c)}),[r,c,s,i]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:b}),{},{children:s===nt?null:Object(a.jsx)(Dt,Object(j.a)({},{choiceForPixel:s}))}))})),Vt={display:"flex"},Lt=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,b=Object(n.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(n.createElement)(Ht,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:O("c-key")}))}))}),[r,c,i]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Vt}),{},{children:b})),t&&Object(a.jsx)("div",{children:t})]})},Wt=Object(et.b)((function(e){return{gridSize:_t(e)}}))((function(e){var t=e.gridSize,c=Object(n.useState)(0),i=Object(o.a)(c,2),r=i[0],b=i[1],l=Object(ae.a)((function(){if(!r)return null;for(var e="".concat(r/t,"px"),c=null,n=0;n<t;n++)c=Object(a.jsx)(Lt,Object(j.a)(Object(j.a)({},{length:t,pixelSize:e,defChoice:(t+n+1)%2}),{},{children:c}));return c}),[t,r]);return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!r){var t=e.getBoundingClientRect().height;b(t)}}}),{},{children:l}))})),Gt=c(22);var Xt=Object(Gt.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt.SET_CHOICE_FOR_PIXEL:case rt.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,a=c.choice,n=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(tt.a)({},n,a));case rt.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel,r=e[i];return Object(j.a)(Object(j.a)({},e),{},Object(tt.a)({},i,1-r));case rt.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case rt.REMEMBER_ACTIVE_CHOICE:var l=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:l});case rt.TURN_ON_ALTERNATIVE:var O=t.payload.alternativeOfChoice,u=e[jt[O]];if(!u){var s,d=it(O),h=Object(o.a)(d,2),v=h[0],f=h[1];return Object(j.a)(Object(j.a)({},e),{},(s={},Object(tt.a)(s,jt[O],v),Object(tt.a)(s,v,f),s))}return e;case rt.SWITCH_ALTERNATIVES:var x,p=t.payload.alternativeOfChoice,m=e[jt[p]];if(!m){var y,g=it(p),S=Object(o.a)(g,2),E=S[0],T=S[1];return Object(j.a)(Object(j.a)({},e),{},(y={},Object(tt.a)(y,jt[p],E),Object(tt.a)(y,E,T),Object(tt.a)(y,"rememberActiveChoice",p),y))}var w=e.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},(x={},Object(tt.a)(x,jt[p],null),Object(tt.a)(x,"rememberActiveChoice",1-w),x));case rt.REPAINT_ROW:var I=e.rememberActiveChoice,k=e[jt[I]],A=1-I;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[jt[A]]?A:I},k?Object(tt.a)({},k,C(e[k])):{});default:return e}})),Ut=function(){return Object(a.jsx)(et.a,Object(j.a)(Object(j.a)({},{store:Xt}),{},{children:Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Wt,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (connect components) library"})})),Object(a.jsx)(Pt,{}),Object(a.jsx)(wt,{}),Object(a.jsx)(Nt,{}),Object(a.jsx)(zt,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(Ct,{})]}))]}))}))}))},Yt=function(){return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex"}}),{},{children:[Object(a.jsx)("div",{children:Object(a.jsx)(le,{})}),Object(a.jsx)("div",{children:Object(a.jsx)($e,{})}),Object(a.jsx)("div",{children:Object(a.jsx)(Ut,{})})]}))};c(44);r.a.render(Object(a.jsx)(Yt,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.1ed2f8b9.chunk.js.map