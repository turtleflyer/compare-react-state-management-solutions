(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),r=c(13),i=c.n(r),j=c(0),o=c(3),b={display:"flex",width:170,height:20,color:"white",backgroundColor:"gray",borderRadius:5,justifyContent:"center",alignItems:"center"},l={display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap"},u={margin:"0 5px"},O=function(e){var t=e.info,c=Object(a.useState)(null),r=Object(o.a)(c,2),i=r[0],O=r[1];return t?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{ref:function(e){if(e&&!i){var t=e.getBoundingClientRect().width;t>164&&O(1968/t)}},style:Object(j.a)(Object(j.a)(Object(j.a)({},b),l),{},{fontSize:null!==i&&void 0!==i?i:12})}),{},{children:t.map((function(e){var t;return"string"===typeof e?Object(n.jsx)("span",Object(j.a)(Object(j.a)({},{style:u}),{},{children:e})):Object(a.cloneElement)(e,Object(j.a)(Object(j.a)({},e.props),{},{style:Object(j.a)(Object(j.a)({},null!==(t=e.props.style)&&void 0!==t?t:{}),u)}))}))})):Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},b),{},{backgroundColor:"transparent"})}))},s=c(6),d=function(){var e=[];return{addInfoTipBoxPositionDispatcher:function(t){e=[].concat(Object(s.a)(e),[t])},removeInfoTipBoxPositionDispatcher:function(t){e=e.filter((function(e){return e!==t}))},zeroInfoTipBoxPositions:function(t){e.forEach((function(e){return e!==t&&e(null)}))}}},f=Object(a.createContext)(d()),h=function(e){var t=e.children,c=Object(a.useMemo)(d,[]);return Object(n.jsx)(f.Provider,Object(j.a)(Object(j.a)({},{value:c}),{},{children:t}))},v={display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,fontSize:"1.2em",fontWeight:"bolder",color:"gray",backgroundColor:"rgb(228, 232, 255)",width:"1.2em",height:"1.2em",borderRadius:"0.6em",cursor:"default"},x={position:"absolute",whiteSpace:"normal",width:200,padding:10,color:"black",backgroundColor:"rgb(228, 232, 255)",fontSize:"14px",boxShadow:"3px 3px rgb(141, 144, 166)"},p=function(e){var t=e.popupInfo,c=e.left,a=e.bottom,r=e.clearDelay,i=e.toHide;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)(Object(j.a)({},x),{},{left:c,bottom:a}),onMouseOver:r,onFocus:r,onMouseLeave:i,onBlur:i}),{},{children:t}))},m=function(e){var t=e.style,c=void 0===t?{}:t,r=e.popupInfo,i=Object(a.useRef)(null),b=Object(a.useRef)(null),l=Object(a.useState)(null),u=Object(o.a)(l,2),O=u[0],s=u[1],d=Object(a.useContext)(f),h=function(){b.current=setTimeout((function(){return s(null)}),1e3)},x=function(){b.current&&clearTimeout(b.current),b.current=null},m=function(){if(O)x();else{if(!i.current)throw Error("(PerformanceInfo) Info tip mark must exist");d.zeroInfoTipBoxPositions(s);var e=i.current.getBoundingClientRect(),t=e.x,c=e.y;s({x:t,y:c})}};return Object(a.useEffect)((function(){return d.addInfoTipBoxPositionDispatcher(s),function(){return d.removeInfoTipBoxPositionDispatcher(s)}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{ref:i,style:Object(j.a)(Object(j.a)({},v),c),onMouseOver:m,onFocus:m,onMouseLeave:h,onBlur:h,role:"link",tabIndex:0}),{},{children:"i"})),O?Object(n.jsx)(p,Object(j.a)({},{popupInfo:r,left:O.x+10,bottom:document.documentElement.clientHeight-document.documentElement.scrollTop-O.y+5,clearDelay:x,toHide:h})):null]})},y=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("strong",{children:"TTI (Time to Interactive)"})," metric measures the time until the main sub-resources of the page have rendered and it is capable of reliably responding to user input quickly (similar to ",Object(n.jsx)("a",Object(j.a)(Object(j.a)({},{href:"https://web.dev/tti/",target:"blank"}),{},{children:"that"})),").",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:"TBT (Total Blocking Time)"})," measures the total amount of time until TTI in the chunks where the main thread was blocked for long enough to prevent input responsiveness (similar to ",Object(n.jsx)("a",Object(j.a)(Object(j.a)({},{href:"https://web.dev/tbt/",target:"blank"}),{},{children:"that"})),")."]})},g=function(e){switch(e.status){case"done":var t=e.data,c=t.TTI,a=t.TBT;return Object(n.jsx)(O,Object(j.a)({},{info:["TTI: ".concat(Math.round(c),"ms - TBT: ").concat(Math.round(a),"ms"),Object(n.jsx)(m,Object(j.a)({},{popupInfo:Object(n.jsx)(y,{})}),"InfoTip")]}));case"pending":return Object(n.jsx)(O,Object(j.a)({},{info:["performance measuring..."]}));case"error":return Object(n.jsx)(O,Object(j.a)({},{info:["error",Object(n.jsx)(m,Object(j.a)({},{popupInfo:e.error.message}),"InfoTip")]}))}return Object(n.jsx)(O,{})},C=c(5),S=new Map;function E(e){var t,c=(null!==(t=S.get(e))&&void 0!==t?t:-1)+1;return S.set(e,c),"".concat(e,"-").concat(c)}var w=5e3;function I(e,t,c,n){return void 0===e||clearTimeout(e),n.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&n.finish()}),w):t.disconnect()}function T(e,t,c,n){var a=null!==n&&void 0!==n?n:{startTime:t,duration:0},r=a.startTime,i=a.duration,j=t-r,o=-j>=w;return{TTI:o?0:Math.max(0,c-t),TBT:o?0:e+Math.max(0,j<50?i-50:i-j)}}var A=PerformanceObserver.supportedEntryTypes,k=A&&A.includes("mark")&&A.includes("longtask");function R(e){return k}var _=function(e){var t=e.children,c=e.settings,n=e.updateStartMeasureCallback,r=c.measureFromCreating,i=c.name,j=Object(a.useState)((function(){return E(null!==i&&void 0!==i?i:"start-use-perf-metrics")})),b=Object(o.a)(j,1)[0],l=Object(a.useState)((function(){return k?{data:null,status:"never"}:{data:null,status:"error",error:Error("(usePerfObserver) The browser does not support the library")}})),u=Object(o.a)(l,2),O=u[0],s=u[1],d=Object(a.useRef)(!0),f=Object(a.useState)((function(){return k?function(e,t,c){var n,a,r,i=!0,j=0,b=0,l={useEffectRegistered:!1};function u(){t({data:T(j,a.startTime,b,r),status:"done"})}var O=new PerformanceObserver((function(c,O){var s=l.useEffectRegistered;if(n=I(n,O,l,{scheduleNext:!0,finish:u}),i||s){if(i=!1,!a){var d=c.getEntriesByName(e);if(!(d.length>0))return t({status:"error",data:null,error:Error("(usePerfObserver) No long task has been registered")}),void(n=I(n,O,l,{scheduleNext:!1}));var f=Object(o.a)(d,1);a=f[0],O.observe({entryTypes:["longtask"]})}var h=c.getEntriesByType("longtask");h.length>0&&h.every((function(e){var t=e.startTime,c=e.duration;if(r){if(t-b>=w)return n=I(n,O,l,{scheduleNext:!1}),u(),!1;j+=c-50}else r=e;return b=t+c,!0}))}else I(n,O,l,{scheduleNext:!1})}));return c((function(){j=0,b=0,a=void 0,r=void 0,t({status:"pending",data:null}),O.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[O,function(){return l.useEffectRegistered=!0,function(){O.disconnect(),n=I(n,O,l,{scheduleNext:!1})}}]}(b,s,n):null})),h=Object(o.a)(f,1)[0];R()&&d.current&&r&&(Object(o.a)(h,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(b));return Object(a.useEffect)((function(){if(R()){var e=Object(o.a)(h,2)[1];return d.current=!1,r&&s({status:"pending",data:null}),e()}}),[]),Object(a.useMemo)((function(){return Object(a.cloneElement)(t,O)}),[O])},P={measureFromCreating:!1};function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},P),e),c=Object(a.useRef)((function(){})),r=Object(a.useState)([function(e){var a=e.children;return Object(n.jsx)(_,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:a}))},function(){return c.current()}]),i=Object(o.a)(r,1),b=i[0];return b}var M=c(8),N=16777215;function L(e){var t=Math.round(parseInt(e.slice(1),16)+N*(Math.random()/4+.5));return"#".concat((t=t>N?t-N:t).toString(16).padStart(6,"0"))}function W(e,t){return Object(C.b)({key:E(e),default:t})}var H="choice-for-pixel",D="color-for-alternative",B="alternative-for-choice",F="#AAAAAA";function V(e){return W("".concat(D,"-").concat(e),L(F))}var X=Object(C.b)({key:H,default:0}),G=Object(C.b)({key:D,default:F}),U=Object(C.b)({key:"grid-size",default:32}),K=Object(C.b)({key:"remember-active-choice",default:0}),Y=[0,1].map((function(e){return Object(C.b)({key:"".concat(B,"-").concat(e),default:{atom:V(e)}})}));function J(){return E("refresh-key")}var q=function(e){var t=e.label,c=e.onChange,a=e.value,r=void 0===a?"":a,i=e.width,o=void 0===i?65:i,b=e.addStyle,l=void 0===b?{}:b,u={width:o};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:u}))]})}))},Q={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},Z=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Q),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Q),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},Q),{},{animationDelay:"0.2s"})}))]}):null}))},$=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(M.a)({inputValue:i,showSpin:!1}),f=Object(o.a)(d,2),h=f[0],v=f[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(q,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;v.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(Z,Object(j.a)({},{toShow:h.showSpin}))]}))},ee=function(e){var t=e.addStyle,c=void 0===t?{}:t,a=e.beAwareWhenChosen,r=Object(C.d)(U),i=z({measureFromCreating:!0}),b=Object(o.a)(i,2),l=b[0],u=b[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)($,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;a({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(l,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},te={width:200,height:20,display:"block",marginRight:5},ce=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,o=Object(j.a)(Object(j.a)({},te),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:o,type:"button",onClick:t}),{},{children:i}))},ne={display:"flex",margin:"5px 5px 5px 0"},ae=function(){var e=Object(C.e)(K),t=Y.map((function(e){return Object(C.c)(e)})),c=[0,1].map((function(){return z()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var o,b=c[i][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:ne}),{},{key:r}),Object(n.jsx)(ce,Object(j.a)({},{callback:(o=i,function(){var n=t[o][0];c[o][1](),n?(e(1-o),t[o][1](null)):(e(o),t[o][1]({atom:V(o)}))}),name:r})),Object(n.jsx)(b,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))}))}))})};function re(e,t){if(e<t)throw Error("Number to draw must be less than total");for(var c=t<e/2?[!0,e-t]:[!1,t],n=Object(o.a)(c,2),a=n[0],r=n[1],i=Array(e).fill(null).map((function(e,t){return t})),j=[];i.length>r;){var b=Math.floor(Math.random()*i.length);a&&j.push(i[b]),b<i.length-1?i[b]=i.pop():i.pop()}return a?j:i}var ie=[],je=function(e){ie.push(e)},oe=function(e){return ie[e]},be=function(){ie=[]},le={margin:"-5px 0 0 5px",height:20},ue=function(e){var t=e.pixelChoiceAtom,c=Object(C.e)(t);return Object(a.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(n.jsx)(n.Fragment,{})},Oe=function(){var e=Object(C.d)(U),t=Object(a.useState)("".concat(30)),c=Object(o.a)(t,2),r=c[0],i=c[1],b=Object(a.useState)([]),l=Object(o.a)(b,2),u=l[0],O=l[1],s=z(),d=Object(o.a)(s,2),f=d[0],h=d[1];return Object(a.useEffect)((function(){return O((function(e){return e.length>0?[]:e}))}),[u]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:ne}),{},{children:[Object(n.jsx)(ce,Object(j.a)({},{callback:function(){h();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));var a=Math.pow(e,2);O(re(a,a*c/100).map((function(e){var t;return Object(n.jsx)(ue,Object(j.a)({},{pixelChoiceAtom:null!==(t=oe(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()}))})))},name:"paint n% random pixels"})),Object(n.jsx)(q,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:le}),{},{children:Object(n.jsx)(f,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})}))]}),u]})};function se(e){var t=Math.floor(Math.random()*e),c=oe(t);if(!c)throw Error("It should be defined");return c}var de=function(){var e=Object(C.d)(U),t=Object(a.useState)({atom:X}),c=Object(o.a)(t,2),r=c[0],i=c[1],b=Object(C.e)(r.atom),l=z(),u=Object(o.a)(l,2),O=u[0],s=u[1];return Object(a.useEffect)((function(){b((function(e){return 1-e}))}),[b,r]),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:ne}),{},{children:[Object(n.jsx)(ce,Object(j.a)({},{callback:function(){s(),i({atom:se(Math.pow(e,2))})},name:"paint random pixel"})),Object(n.jsx)(O,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},fe=function(){var e=Y.map((function(e){return Object(C.d)(e)})),t=[0,1].map((function(t){var c,n;return Object(C.c)(null!==(c=null===(n=e[t])||void 0===n?void 0:n.atom)&&void 0!==c?c:G)})),c=Object(C.c)(K),a=Object(o.a)(c,2),r=a[0],i=a[1],b=z(),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:ne}),{},{children:[Object(n.jsx)(ce,Object(j.a)({},{callback:function(){O();var c=t[r][0],n=1-r;null!==e[n]&&i(n),null!==e[r]&&t[r][1](L(c))},name:"re-paint"})),Object(n.jsx)(u,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},he={height:"100%",width:"100%"},ve=function(e){var t=e.altControlAtom,c=Object(C.d)(t),a=Object(j.a)(Object(j.a)({},he),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},xe=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(a.useState)(X),b=Object(o.a)(i,2),l=b[0],u=b[1],O=Object(C.d)(l),s=Object(C.d)(Y[O]);return Object(a.useEffect)((function(){var e=W(H,c);je(e),u(e)}),[c]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:s&&l!==X&&Object(n.jsx)(ve,Object(j.a)({},{altControlAtom:s.atom}))}))},pe={display:"flex"},me=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,b=Object(a.useState)(null),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(a.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(a.createElement)(xe,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:E("c-key")}))}));O(e)}),[i,c,r]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:pe}),{},{children:u})),t]})},ye=function(){var e=Object(C.d)(U),t=Object(a.useState)(null),c=Object(o.a)(t,2),r=c[0],i=c[1];return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,a="".concat(c/e,"px"),o=null,b=0;b<e;b++)o=Object(n.jsx)(me,Object(j.a)(Object(j.a)({},{length:e,pixelSize:a,defChoice:(e+b+1)%2}),{},{children:o}));be(),i(o)}}}),{},{children:r}))},ge=function(){var e=function(){var e=Object(a.useState)(J),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Y.map((function(e){return Object(C.e)(e)})),i=Object(C.e)(U);return[c,function(e){var t=e.gridSize;r.every((function(e,t){return e({atom:V(t)})})),i(t),n(J)}]}(),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"},key:c}),{},{children:[Object(n.jsx)(ye,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(n.jsx)(fe,{}),Object(n.jsx)(ae,{}),Object(n.jsx)(de,{}),Object(n.jsx)(Oe,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(ee,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))},Ce=function(){return Object(n.jsx)(C.a,{children:Object(n.jsx)(ge,{})})},Se=c(4),Ee=c(7);var we="choice-for-pixel",Ie=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function Te(e){return t="".concat("color-for-alternative","-").concat(e),c=L("#AAAAAA"),[E(t),c];var t,c}function Ae(e){var t,c=Te(e),n=Object(o.a)(c,2),a=n[0],r=n[1];return t={},Object(Ee.a)(t,Ie[e],a),Object(Ee.a)(t,a,r),t}var ke={rememberActiveChoice:0},Re=function(e){var t=e.label,c=e.onChange,a=e.value,r=void 0===a?"":a,i=e.width,o=void 0===i?65:i,b=e.addStyle,l=void 0===b?{}:b,u={width:o};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:u}))]})}))},_e={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},Pe=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},_e),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},_e),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},_e),{},{animationDelay:"0.2s"})}))]}):null}))},ze=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(M.a)({inputValue:i,showSpin:!1}),f=Object(o.a)(d,2),h=f[0],v=f[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(Re,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;v.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(Pe,Object(j.a)({},{toShow:h.showSpin}))]}))};var Me=function(e,t){return e[t]},Ne=function(e,t){return e[t]},Le=function(e,t){return e[t]};function We(e){return e.gridSize}var He,De=Object(Se.b)((function(e){return{gridSize:We(e)}}))((function(e){var t=e.addStyle,c=void 0===t?{}:t,a=e.beAwareWhenChosen,r=e.gridSize,i=z({measureFromCreating:!0}),b=Object(o.a)(i,2),l=b[0],u=b[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(ze,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;a({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(l,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))})),Be={width:200,height:20,display:"block",marginRight:5},Fe=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,o=Object(j.a)(Object(j.a)({},Be),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:o,type:"button",onClick:t}),{},{children:i}))};!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.SWITCH_MULTIPLE_PIXELS="pixels/switchMultiplePixels",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(He||(He={}));var Ve={display:"flex",margin:"5px 5px 5px 0"},Xe=Object(Se.b)(null,{switchAlternatives:function(e){return{type:He.SWITCH_ALTERNATIVES,payload:{choice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return z()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i,o=c[r][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:Ve}),{},{key:e}),Object(n.jsx)(Fe,Object(j.a)({},{callback:(i=r,function(){c[i][1](),t(i)}),name:e})),Object(n.jsx)(o,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))}))}))})})),Ge=[],Ue=function(e){Ge.push(e)},Ke=function(e){return Ge[e]},Ye=function(){Ge=[]},Je={margin:"-5px 0 0 5px",height:20},qe=Object(Se.b)((function(e){return{gridSize:We(e)}}),{switchMultiplePixels:function(e){return{type:He.SWITCH_MULTIPLE_PIXELS,payload:{pixels:e}}}})((function(e){var t=e.gridSize,c=e.switchMultiplePixels,r=Object(a.useState)("".concat(30)),i=Object(o.a)(r,2),b=i[0],l=i[1],u=z(),O=Object(o.a)(u,2),s=O[0],d=O[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Ve}),{},{children:[Object(n.jsx)(Fe,Object(j.a)({},{callback:function(){d();var e=parseInt(b,10),n=e>=0&&e<=100?e:0;l("".concat(n));var a=Math.pow(t,2);c(re(a,a*n/100).map((function(e){var t;return null!==(t=Ke(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()})))},name:"paint n% random pixels"})),Object(n.jsx)(Re,Object(j.a)({},{label:"n: ",value:b,onChange:function(e){var t=e.target.value;l(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Je}),{},{children:Object(n.jsx)(s,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})}))]})}));var Qe,Ze=Object(Se.b)((function(e){return{gridSize:We(e)}}),{switchPixelChoice:function(e){return{type:He.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}})((function(e){var t=e.gridSize,c=e.switchPixelChoice,a=z(),r=Object(o.a)(a,2),i=r[0],b=r[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Ve}),{},{children:[Object(n.jsx)(Fe,Object(j.a)({},{callback:function(){b(),c(function(e){var t=Math.floor(Math.random()*e),c=Ke(t);if(!c)throw Error("It should be defined");return c}(Math.pow(t,2)))},name:"paint random pixel"})),Object(n.jsx)(i,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))})),$e=Object(Se.b)(null,{repaintRow:function(){return{type:He.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=z(),a=Object(o.a)(c,2),r=a[0],i=a[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Ve}),{},{children:[Object(n.jsx)(Fe,Object(j.a)({},{callback:function(){i(),t()},name:"re-paint"})),Object(n.jsx)(r,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))})),et={height:"100%",width:"100%"},tt=Object(Se.b)((function(e,t){var c=t.altControl;return{color:Ne(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},et),{},{backgroundColor:t});return Object(n.jsx)("div",Object(j.a)({},{style:c}))})),ct=Object(Se.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:Le(e,Ie[Me(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(n.jsx)(tt,Object(j.a)({},{altControl:t})):null})),nt=Object(Se.b)(null,{createPixel:function(e,t){return{type:He.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,r=e.createPixel,i={height:t,width:t},b=Object(a.useState)(we),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(a.useEffect)((function(){var e=E(we);r(e,c),Ue(e),O(e)}),[r,c]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:u===we?null:Object(n.jsx)(ct,Object(j.a)({},{choiceForPixel:u}))}))})),at={display:"flex"},rt=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,b=Object(a.useState)(null),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(a.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(a.createElement)(nt,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:E("c-key")}))}));O(e)}),[i,c,r]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:at}),{},{children:u})),t&&Object(n.jsx)("div",{children:t})]})},it=Object(Se.b)((function(e){return{gridSize:We(e)}}))((function(e){var t=e.gridSize,c=Object(a.useState)(null),r=Object(o.a)(c,2),i=r[0],b=r[1];return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){for(var c=e.getBoundingClientRect().height,a="".concat(c/t,"px"),r=null,o=0;o<t;o++)r=Object(n.jsx)(rt,Object(j.a)(Object(j.a)({},{length:t,pixelSize:a,defChoice:(t+o+1)%2}),{},{children:r}));Ye(),b(r)}}}),{},{children:i}))})),jt=c(11);function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;function c(t,c){var n=e[c];return Object(j.a)(Object(j.a)({},t),{},Object(Ee.a)({},c,1-n))}switch(t.type){case He.CREATE_NEW_PIXEL_ENTRY:var n=t.payload,a=n.choice,r=n.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(Ee.a)({},r,a));case He.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel;return Object(j.a)(Object(j.a)({},e),c({},i));case He.SWITCH_MULTIPLE_PIXELS:var o=t.payload.pixels,b=o.reduce(c,{});return Object(j.a)(Object(j.a)({},e),b);case He.CHOOSE_GRID:var l=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:l});case He.REMEMBER_ACTIVE_CHOICE:var u=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:u});case He.TURN_ON_ALTERNATIVE:var O=t.payload.choice,s=e[Ie[O]];if(!s){var d=Ae(O);return Object(j.a)(Object(j.a)({},e),d)}return e;case He.SWITCH_ALTERNATIVES:var f,h=t.payload.choice,v=e[Ie[h]];if(!v){var x=Ae(h);return Object(j.a)(Object(j.a)(Object(j.a)({},e),x),{},{rememberActiveChoice:h})}return Object(j.a)(Object(j.a)({},e),{},(f={},Object(Ee.a)(f,Ie[h],null),Object(Ee.a)(f,"rememberActiveChoice",1-h),f));case He.REPAINT_ROW:var p=e.rememberActiveChoice,m=e[Ie[p]],y=1-p;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[Ie[y]]?y:p},m?Object(Ee.a)({},m,L(e[m])):{});default:return e}}function bt(e){Qe=Object(j.a)(Object(j.a)({},ke),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),Ae(t))}),{}))}function lt(){return E("refresh-key")}var ut=function(){var e=function(){var e=Object(M.a)({store:function(){return bt(32),Object(jt.b)(ot)},refreshKey:lt}),t=Object(o.a)(e,2),c=t[0],n=c.store,a=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[n,a,function(e){bt(e.gridSize),i(Object(jt.b)(ot)),j(lt)}]}(),t=Object(o.a)(e,3),c=t[0],a=t[1],r=t[2];return Object(n.jsx)(Se.a,Object(j.a)(Object(j.a)({},{store:c,key:a}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(it,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'react-redux' (connect) library"})})),Object(n.jsx)($e,{}),Object(n.jsx)(Xe,{}),Object(n.jsx)(Ze,{}),Object(n.jsx)(qe,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(De,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))};var Ot="choice-for-pixel",st=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function dt(e){return t="".concat("color-for-alternative","-").concat(e),c=L("#AAAAAA"),[E(t),c];var t,c}function ft(e){var t,c=dt(e),n=Object(o.a)(c,2),a=n[0],r=n[1];return t={},Object(Ee.a)(t,st[e],a),Object(Ee.a)(t,a,r),t}var ht={rememberActiveChoice:0},vt=function(e){var t=e.label,c=e.onChange,a=e.value,r=void 0===a?"":a,i=e.width,o=void 0===i?65:i,b=e.addStyle,l=void 0===b?{}:b,u={width:o};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:u}))]})}))},xt={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},pt=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},xt),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},xt),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},xt),{},{animationDelay:"0.2s"})}))]}):null}))},mt=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(M.a)({inputValue:i,showSpin:!1}),f=Object(o.a)(d,2),h=f[0],v=f[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(vt,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;v.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(pt,Object(j.a)({},{toShow:h.showSpin}))]}))};var yt=function(e,t){return e[t]},gt=function(e,t){return e[t]},Ct=function(e,t){return e[t]};function St(e){return e.gridSize}var Et,wt=function(e){var t=e.addStyle,c=void 0===t?{}:t,a=e.beAwareWhenChosen,r=Object(Se.d)(St),i=z({measureFromCreating:!0}),b=Object(o.a)(i,2),l=b[0],u=b[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(mt,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;a({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(l,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},It={width:200,height:20,display:"block",marginRight:5},Tt=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,o=Object(j.a)(Object(j.a)({},It),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:o,type:"button",onClick:t}),{},{children:i}))};!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.SWITCH_MULTIPLE_PIXELS="pixels/switchMultiplePixels",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(Et||(Et={}));var At={display:"flex",margin:"5px 5px 5px 0"},kt=function(){var e=Object(Se.c)(),t=[0,1].map((function(){return z()}));function c(c){return function(){var n;t[c][1](),e((n=c,{type:Et.SWITCH_ALTERNATIVES,payload:{choice:n}}))}}return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i=t[r][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:At}),{},{key:e}),Object(n.jsx)(Tt,Object(j.a)({},{callback:c(r),name:e})),Object(n.jsx)(i,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))}))}))})},Rt=[],_t=function(e){Rt.push(e)},Pt=function(e){return Rt[e]},zt=function(){Rt=[]},Mt={margin:"-5px 0 0 5px",height:20},Nt=function(){var e=Object(Se.d)(St),t=Object(Se.c)(),c=Object(a.useState)("".concat(30)),r=Object(o.a)(c,2),i=r[0],b=r[1],l=z(),u=Object(o.a)(l,2),O=u[0],s=u[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:At}),{},{children:[Object(n.jsx)(Tt,Object(j.a)({},{callback:function(){s();var c=parseInt(i,10),n=c>=0&&c<=100?c:0;b("".concat(n));var a,r=Math.pow(e,2);t((a=re(r,r*n/100).map((function(e){var t;return null!==(t=Pt(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()})),{type:Et.SWITCH_MULTIPLE_PIXELS,payload:{pixels:a}}))},name:"paint n% random pixels"})),Object(n.jsx)(vt,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;b(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Mt}),{},{children:Object(n.jsx)(O,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})}))]})};var Lt,Wt=function(){var e=Object(Se.d)(St),t=Object(Se.c)(),c=z(),a=Object(o.a)(c,2),r=a[0],i=a[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:At}),{},{children:[Object(n.jsx)(Tt,Object(j.a)({},{callback:function(){var c;i(),t((c=function(e){var t=Math.floor(Math.random()*e),c=Pt(t);if(!c)throw Error("It should be defined");return c}(Math.pow(e,2)),{type:Et.SWITCH_PIXEL_CHOICE,payload:{pixel:c}}))},name:"paint random pixel"})),Object(n.jsx)(r,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},Ht=function(){var e=Object(Se.c)(),t=z(),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:At}),{},{children:[Object(n.jsx)(Tt,Object(j.a)({},{callback:function(){r(),e({type:Et.REPAINT_ROW})},name:"re-paint"})),Object(n.jsx)(a,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},Dt={height:"100%",width:"100%"},Bt=function(e){var t=e.altControl,c=Object(Se.d)((function(e){return gt(e,t)})),a=Object(j.a)(Object(j.a)({},Dt),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},Ft=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(a.useState)(Ot),b=Object(o.a)(i,2),l=b[0],u=b[1],O=Object(Se.d)((function(e){return yt(e,l)})),s=Object(Se.d)((function(e){return Ct(e,st[O])})),d=Object(Se.c)();return Object(a.useEffect)((function(){var e=E(Ot);d(function(e,t){return{type:Et.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}(e,c)),_t(e),u(e)}),[c,d]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:s&&l[0]!==Ot&&Object(n.jsx)(Bt,Object(j.a)({},{altControl:s}))}))},Vt={display:"flex"},Xt=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,b=Object(a.useState)(null),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(a.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(a.createElement)(Ft,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:E("c-key")}))}));O(e)}),[i,c,r]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Vt}),{},{children:u})),t&&Object(n.jsx)("div",{children:t})]})},Gt=function(){var e=Object(Se.d)(St),t=Object(a.useState)(null),c=Object(o.a)(t,2),r=c[0],i=c[1];return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,a="".concat(c/e,"px"),o=null,b=0;b<e;b++)o=Object(n.jsx)(Xt,Object(j.a)(Object(j.a)({},{length:e,pixelSize:a,defChoice:(e+b+1)%2}),{},{children:o}));zt(),i(o)}}}),{},{children:r}))};function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;function c(t,c){var n=e[c];return Object(j.a)(Object(j.a)({},t),{},Object(Ee.a)({},c,1-n))}switch(t.type){case Et.CREATE_NEW_PIXEL_ENTRY:var n=t.payload,a=n.choice,r=n.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(Ee.a)({},r,a));case Et.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel;return Object(j.a)(Object(j.a)({},e),c({},i));case Et.SWITCH_MULTIPLE_PIXELS:var o=t.payload.pixels,b=o.reduce(c,{});return Object(j.a)(Object(j.a)({},e),b);case Et.CHOOSE_GRID:var l=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:l});case Et.REMEMBER_ACTIVE_CHOICE:var u=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:u});case Et.TURN_ON_ALTERNATIVE:var O=t.payload.choice,s=e[st[O]];if(!s){var d=ft(O);return Object(j.a)(Object(j.a)({},e),d)}return e;case Et.SWITCH_ALTERNATIVES:var f,h=t.payload.choice,v=e[st[h]];if(!v){var x=ft(h);return Object(j.a)(Object(j.a)(Object(j.a)({},e),x),{},{rememberActiveChoice:h})}return Object(j.a)(Object(j.a)({},e),{},(f={},Object(Ee.a)(f,st[h],null),Object(Ee.a)(f,"rememberActiveChoice",1-h),f));case Et.REPAINT_ROW:var p=e.rememberActiveChoice,m=e[st[p]],y=1-p;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[st[y]]?y:p},m?Object(Ee.a)({},m,L(e[m])):{});default:return e}}function Kt(e){Lt=Object(j.a)(Object(j.a)({},ht),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),ft(t))}),{}))}function Yt(){return E("refresh-key")}var Jt=function(){var e=function(){var e=Object(M.a)({store:function(){return Kt(32),Object(jt.b)(Ut)},refreshKey:Yt}),t=Object(o.a)(e,2),c=t[0],n=c.store,a=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[n,a,function(e){Kt(e.gridSize),i(Object(jt.b)(Ut)),j(Yt)}]}(),t=Object(o.a)(e,3),c=t[0],a=t[1],r=t[2];return Object(n.jsx)(Se.a,Object(j.a)(Object(j.a)({},{store:c,key:a}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(Gt,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'react-redux' (hooks) library"})})),Object(n.jsx)(Ht,{}),Object(n.jsx)(kt,{}),Object(n.jsx)(Wt,{}),Object(n.jsx)(Nt,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(wt,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},qt=c(28);function Qt(e,t){return[E(e),t]}var Zt,$t="choice-for-pixel",ec="color-for-alternative",tc="grid-size",cc="remember-active-choice",nc="#AAAAAA",ac=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function rc(e){return Qt("".concat(ec,"-").concat(e),L(nc))}function ic(){return ac.map((function(e,t){return[e,rc(t)]}))}var jc=(Zt={},Object(Ee.a)(Zt,$t,0),Object(Ee.a)(Zt,ec,nc),Object(Ee.a)(Zt,tc,32),Object(Ee.a)(Zt,cc,0),Zt),oc=Object(j.a)({},jc);function bc(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];t.forEach((function(e){var t=Object(o.a)(e,2),c=t[0],n=t[1];oc=Object(j.a)(Object(j.a)({},oc),{},Object(Ee.a)({},c,n))}))}function lc(e){return[e,oc[e]]}bc.apply(void 0,Object(s.a)(ic()));var uc=Object(qt.a)(),Oc=uc.useInterstate,sc=uc.Scope;function dc(){return E("refresh-key")}var fc=function(e){var t=e.label,c=e.onChange,a=e.value,r=void 0===a?"":a,i=e.width,o=void 0===i?65:i,b=e.addStyle,l=void 0===b?{}:b,u={width:o};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:u}))]})}))},hc={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},vc=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},hc),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},hc),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},hc),{},{animationDelay:"0.2s"})}))]}):null}))},xc=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(M.a)({inputValue:i,showSpin:!1}),f=Object(o.a)(d,2),h=f[0],v=f[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(fc,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;v.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(vc,Object(j.a)({},{toShow:h.showSpin}))]}))},pc=function(e){var t=e.addStyle,c=void 0===t?{}:t,a=e.beAwareWhenChosen,r=Oc.apply(void 0,Object(s.a)(lc(tc))).get(),i=z({measureFromCreating:!0}),b=Object(o.a)(i,2),l=b[0],u=b[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(xc,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;a({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(l,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},mc={width:200,height:20,display:"block",marginRight:5},yc=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,o=Object(j.a)(Object(j.a)({},mc),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:o,type:"button",onClick:t}),{},{children:i}))},gc={display:"flex",margin:"5px 5px 5px 0"},Cc=function(){var e=Oc.apply(void 0,Object(s.a)(lc(cc))).set(),t=ac.map((function(e){return Oc.apply(void 0,Object(s.a)(lc(e))).set()})),c=[0,1].map((function(){return z()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var o,b=c[i][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:gc}),{},{key:r}),Object(n.jsx)(yc,Object(j.a)({},{callback:(o=i,function(){c[o][1](),t[o]((function(t){return t?(e(1-o),null):(e(o),rc(o))}))}),name:r})),Object(n.jsx)(b,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))}))}))})},Sc=[],Ec=function(e){Sc.push(e)},wc=function(e){return Sc[e]},Ic=function(){Sc=[]},Tc={margin:"-5px 0 0 5px",height:20},Ac=function(e){var t=e.pixelChoiceAtom,c=Oc.apply(void 0,Object(s.a)(t)).set();return Object(a.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(n.jsx)(n.Fragment,{})},kc=function(){var e=Oc.apply(void 0,Object(s.a)(lc(tc))).get(),t=Object(a.useState)("".concat(30)),c=Object(o.a)(t,2),r=c[0],i=c[1],b=Object(a.useState)([]),l=Object(o.a)(b,2),u=l[0],O=l[1],d=z(),f=Object(o.a)(d,2),h=f[0],v=f[1];return Object(a.useEffect)((function(){return O((function(e){return e.length>0?[]:e}))}),[u]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:gc}),{},{children:[Object(n.jsx)(yc,Object(j.a)({},{callback:function(){v();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));var a=Math.pow(e,2);O(re(a,a*c/100).map((function(e){var t;return Object(n.jsx)(Ac,Object(j.a)({},{pixelChoiceAtom:null!==(t=wc(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()}))})))},name:"paint n% random pixels"})),Object(n.jsx)(fc,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Tc}),{},{children:Object(n.jsx)(h,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})}))]}),u]})};function Rc(e){var t=Math.floor(Math.random()*e),c=wc(t);if(!c)throw Error("It should be defined");return c}var _c=function(){var e=Oc.apply(void 0,Object(s.a)(lc(tc))).get(),t=Object(a.useState)({atom:lc($t)}),c=Object(o.a)(t,2),r=c[0],i=c[1],b=Oc.apply(void 0,Object(s.a)(r.atom)).set(),l=z(),u=Object(o.a)(l,2),O=u[0],d=u[1];return Object(a.useEffect)((function(){b((function(e){return 1-e}))}),[b,r]),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:gc}),{},{children:[Object(n.jsx)(yc,Object(j.a)({},{callback:function(){d(),i({atom:Rc(Math.pow(e,2))})},name:"paint random pixel"})),Object(n.jsx)(O,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},Pc=function(){var e=ac.map((function(e){return Oc.apply(void 0,Object(s.a)(lc(e))).get()})),t=[0,1].map((function(t){var c;return Oc.apply(void 0,Object(s.a)(null!==(c=e[t])&&void 0!==c?c:lc(ec))).set()})),c=Oc.apply(void 0,Object(s.a)(lc(cc))).both(),a=Object(o.a)(c,2),r=a[0],i=a[1],b=z(),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:gc}),{},{children:[Object(n.jsx)(yc,Object(j.a)({},{callback:function(){O(),t[r]((function(t){var c=1-r;return null!==e[c]&&i(c),null!==e[r]?L(t):t}))},name:"re-paint"})),Object(n.jsx)(u,{children:Object(n.jsx)(g,Object(j.a)({},{data:null}))})]}))},zc={height:"100%",width:"100%"},Mc=function(e){var t=e.altControlAtom,c=Oc.apply(void 0,Object(s.a)(t)).get(),a=Object(j.a)(Object(j.a)({},zc),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},Nc=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(a.useState)(lc($t)),b=Object(o.a)(i,2),l=b[0],u=b[1],O=Oc.apply(void 0,Object(s.a)(l)).get(),d=Oc.apply(void 0,Object(s.a)(lc(ac[O]))).get();return Object(a.useEffect)((function(){var e=Qt($t,c);Ec(e),u(e)}),[c]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&l[0]!==$t&&Object(n.jsx)(Mc,Object(j.a)({},{altControlAtom:d}))}))},Lc={display:"flex"},Wc=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,b=Object(a.useState)(null),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(a.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(a.createElement)(Nc,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:E("c-key")}))}));O(e)}),[i,c,r]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Lc}),{},{children:u})),t&&Object(n.jsx)("div",{children:t})]})},Hc=function(){var e=Oc.apply(void 0,Object(s.a)(lc(tc))).get(),t=Object(a.useState)(null),c=Object(o.a)(t,2),r=c[0],i=c[1];return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,a="".concat(c/e,"px"),o=null,b=0;b<e;b++)o=Object(n.jsx)(Wc,Object(j.a)(Object(j.a)({},{length:e,pixelSize:a,defChoice:(e+b+1)%2}),{},{children:o}));Ic(),i(o)}}}),{},{children:r}))},Dc=function(){var e=function(){var e=Object(a.useState)(dc),t=Object(o.a)(e,2),c=t[0],n=t[1];return[c,function(e){var t=e.gridSize;bc.apply(void 0,[[tc,t]].concat(Object(s.a)(ic()))),n(dc)}]}(),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.jsx)(sc,Object(j.a)(Object(j.a)({},{key:c}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(Hc,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(n.jsx)(Pc,{}),Object(n.jsx)(Cc,{}),Object(n.jsx)(_c,{}),Object(n.jsx)(kc,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(pc,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},Bc={display:"flex"},Fc=function(){return Object(n.jsx)(h,{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"5px 0 0 10px",fontWeight:"bold"}}),{},{children:"v.1.3.0"})),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexGrow:1}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Bc}),{},{children:Object(n.jsx)(Ce,{})})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Bc}),{},{children:Object(n.jsx)(Dc,{})})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Bc}),{},{children:Object(n.jsx)(ut,{})})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Bc}),{},{children:Object(n.jsx)(Jt,{})}))]}))]}))})};c(43);i.a.render(Object(n.jsx)(Fc,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0221bf08.chunk.js.map