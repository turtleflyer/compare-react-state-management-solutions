(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),r=c(13),i=c.n(r),j=c(0),b=c(3),o=c(5),l={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},O=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,r=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:l}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(r),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:l}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:l}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},l),{},{backgroundColor:"transparent"})}))},u=new Map;function s(e){var t,c=(null!==(t=u.get(e))&&void 0!==t?t:-1)+1;return u.set(e,c),"".concat(e,"-").concat(c)}var d=5e3;function f(e,t,c,a){return void 0===e||clearTimeout(e),a.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&a.finish()}),d):t.disconnect()}function h(e,t,c,a){var n=null!==a&&void 0!==a?a:{startTime:t,duration:0},r=n.startTime,i=n.duration,j=t-r,b=-j>=d;return{TTI:b?0:Math.max(0,c-t),TBT:b?0:e+Math.max(0,j<50?i-50:i-j)}}var v=PerformanceObserver.supportedEntryTypes,x=v&&v.includes("mark")&&v.includes("longtask");function p(e){return x}var m=function(e){var t=e.children,c=e.settings,a=e.updateStartMeasureCallback,r=c.measureFromCreating,i=c.name,o=Object(n.useState)((function(){return s(null!==i&&void 0!==i?i:"start-use-perf-metrics")})),l=Object(b.a)(o,1)[0],O=Object(n.useState)((function(){return x?{data:null,status:"never"}:{data:null,status:"error"}})),u=Object(b.a)(O,2),v=u[0],m=u[1],y=Object(n.useRef)(!0),g=Object(n.useState)((function(){return x?function(e,t,c){var a,n,r,i=!0,o=0,l=0,O={useEffectRegistered:!1};function u(){t({data:h(o,n.startTime,l,r),status:"done"})}var s=new PerformanceObserver((function(c,s){var h=O.useEffectRegistered;if(a=f(a,s,O,{scheduleNext:!0,finish:u}),i||h){if(i=!1,!n){var v=c.getEntriesByName(e);if(!(v.length>0))return t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})})),void(a=f(a,s,O,{scheduleNext:!1}));var x=Object(b.a)(v,1);n=x[0],s.observe({entryTypes:["longtask"]})}var p=c.getEntriesByType("longtask");p.length>0&&p.every((function(e){var t=e.startTime,c=e.duration;if(r){if(t-l>=d)return a=f(a,s,O,{scheduleNext:!1}),u(),!1;o+=c-50}else r=e;return l=t+c,!0}))}else f(a,s,O,{scheduleNext:!1})}));return c((function(){o=0,l=0,n=void 0,r=void 0,t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),s.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[s,function(){return O.useEffectRegistered=!0,function(){s.disconnect(),a=f(a,s,O,{scheduleNext:!1})}}]}(l,m,a):null})),C=Object(b.a)(g,1)[0];p()&&y.current&&r&&(Object(b.a)(C,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(l));return Object(n.useEffect)((function(){if(p()){var e=Object(b.a)(C,2)[1];return y.current=!1,r&&m((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),e()}}),[]),Object(n.useMemo)((function(){return Object(n.cloneElement)(t,v)}),[v])},y={measureFromCreating:!1};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},y),e),c=Object(n.useRef)((function(){})),r=Object(n.useState)([function(e){var n=e.children;return Object(a.jsx)(m,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:n}))},function(){return c.current()}]),i=Object(b.a)(r,1),o=i[0];return o}var C=c(8),S=16777215;function E(e){var t=Math.round(parseInt(e.slice(1),16)+S*(Math.random()/4+.5));return"#".concat((t=t>S?t-S:t).toString(16).padStart(6,"0"))}function w(e,t){return Object(o.b)({key:s(e),default:t})}var A="choice-for-pixel",T="color-for-alternative",I="alternative-for-choice",k="#AAAAAA";function R(e){return w("".concat(T,"-").concat(e),E(k))}var _=Object(o.b)({key:A,default:0}),N=Object(o.b)({key:T,default:k}),z=Object(o.b)({key:"grid-size",default:32}),M=Object(o.b)({key:"remember-active-choice",default:0}),W=[0,1].map((function(e){return Object(o.b)({key:"".concat(I,"-").concat(e),default:{atom:R(e)}})}));function P(){return s("refresh-key")}var H=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},V={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},D=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},V),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},V),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},V),{},{animationDelay:"0.2s"})}))]}):null}))},F=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,o=e.width,l=void 0===o?65:o,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(H,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(D,Object(j.a)({},{toShow:h.showSpin}))]}))},L=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=Object(o.d)(z),i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),u=l[0],s=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(F,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){s();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(u,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},B={width:200,height:20,display:"block",marginRight:5},X=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},B),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},G={display:"flex",margin:"5px 5px 5px 0"},K=function(){var e=Object(o.e)(M),t=W.map((function(e){return Object(o.c)(e)})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,o=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{key:r}),Object(a.jsx)(X,Object(j.a)({},{callback:(b=i,function(){var a=t[b][0];c[b][1](),a?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:R(b)}))}),name:r})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})};function Y(e,t){if(e<t)throw Error("Number to draw must be less than total");for(var c=t<e/2?[!0,e-t]:[!1,t],a=Object(b.a)(c,2),n=a[0],r=a[1],i=Array(e).fill(null).map((function(e,t){return t})),j=[];i.length>r;){var o=Math.floor(Math.random()*i.length);n&&j.push(i[o]),o<i.length-1?i[o]=i.pop():i.pop()}return n?j:i}var U=[],J=function(e){U.push(e)},q=function(e){return U[e]},Q=function(){U=[]},Z={margin:"-5px 0 0 5px",height:20},$=function(e){var t=e.pixelChoiceAtom,c=Object(o.e)(t);return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},ee=function(){var e=Object(o.d)(z),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),r=c[0],i=c[1],l=Object(n.useState)([]),u=Object(b.a)(l,2),s=u[0],d=u[1],f=g(),h=Object(b.a)(f,2),v=h[0],x=h[1];return Object(n.useEffect)((function(){return d((function(e){return e.length>0?[]:e}))}),[s]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){x();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));var n=Math.pow(e,2);d(Y(n,n*c/100).map((function(e){var t;return Object(a.jsx)($,Object(j.a)({},{pixelChoiceAtom:null!==(t=q(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()}))})))},name:"paint n% random pixels"})),Object(a.jsx)(H,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Z}),{},{children:Object(a.jsx)(v,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]}),s]})};function te(e){var t=Math.floor(Math.random()*e),c=q(t);if(!c)throw Error("It should be defined");return c}var ce=function(){var e=Object(o.d)(z),t=Object(n.useState)({atom:_}),c=Object(b.a)(t,2),r=c[0],i=c[1],l=Object(o.e)(r.atom),u=g(),s=Object(b.a)(u,2),d=s[0],f=s[1];return Object(n.useEffect)((function(){l((function(e){return 1-e}))}),[l,r]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){f(),i({atom:te(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(d,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ae=function(){var e=W.map((function(e){return Object(o.d)(e)})),t=[0,1].map((function(t){var c,a;return Object(o.c)(null!==(c=null===(a=e[t])||void 0===a?void 0:a.atom)&&void 0!==c?c:N)})),c=Object(o.c)(M),n=Object(b.a)(c,2),r=n[0],i=n[1],l=g(),u=Object(b.a)(l,2),s=u[0],d=u[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){d();var c=t[r][0],a=1-r;null!==e[a]&&i(a),null!==e[r]&&t[r][1](E(c))},name:"re-paint"})),Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ne={height:"100%",width:"100%"},re=function(e){var t=e.altControlAtom,c=Object(o.d)(t),n=Object(j.a)(Object(j.a)({},ne),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},ie=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(_),l=Object(b.a)(i,2),O=l[0],u=l[1],s=Object(o.d)(O),d=Object(o.d)(W[s]);return Object(n.useEffect)((function(){var e=w(A,c);J(e),u(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&O!==_&&Object(a.jsx)(re,Object(j.a)({},{altControlAtom:d.atom}))}))},je={display:"flex"},be=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,o=Object(n.useState)(null),l=Object(b.a)(o,2),O=l[0],u=l[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(ie,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:je}),{},{children:O})),t]})},oe=function(){var e=Object(o.d)(z),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,o=0;o<e;o++)b=Object(a.jsx)(be,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+o+1)%2}),{},{children:b}));Q(),i(b)}}}),{},{children:r}))},le=function(){var e=function(){var e=Object(n.useState)(P),t=Object(b.a)(e,2),c=t[0],a=t[1],r=W.map((function(e){return Object(o.e)(e)})),i=Object(o.e)(z);return[c,function(e){var t=e.gridSize;r.every((function(e,t){return e({atom:R(t)})})),i(t),a(P)}]}(),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"},key:c}),{},{children:[Object(a.jsx)(oe,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(a.jsx)(ae,{}),Object(a.jsx)(K,{}),Object(a.jsx)(ce,{}),Object(a.jsx)(ee,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(L,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))},Oe=function(){return Object(a.jsx)(o.a,{children:Object(a.jsx)(le,{})})},ue=c(4),se=c(6);var de="choice-for-pixel",fe=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function he(e){return t="".concat("color-for-alternative","-").concat(e),c=E("#AAAAAA"),[s(t),c];var t,c}function ve(e){var t,c=he(e),a=Object(b.a)(c,2),n=a[0],r=a[1];return t={},Object(se.a)(t,fe[e],n),Object(se.a)(t,n,r),t}var xe={rememberActiveChoice:0},pe=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},me={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},ye=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},me),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},me),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},me),{},{animationDelay:"0.2s"})}))]}):null}))},ge=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,o=e.width,l=void 0===o?65:o,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(pe,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(ye,Object(j.a)({},{toShow:h.showSpin}))]}))};var Ce=function(e,t){return e[t]},Se=function(e,t){return e[t]},Ee=function(e,t){return e[t]};function we(e){return e.gridSize}var Ae,Te=Object(ue.b)((function(e){return{gridSize:we(e)}}))((function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=e.gridSize,i=g({measureFromCreating:!0}),o=Object(b.a)(i,2),l=o[0],u=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(ge,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Ie={width:200,height:20,display:"block",marginRight:5},ke=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},Ie),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))};function Re(e){return{type:Ae.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(Ae||(Ae={}));var _e={display:"flex",margin:"5px 5px 5px 0"},Ne=Object(ue.b)(null,{switchAlternatives:function(e){return{type:Ae.SWITCH_ALTERNATIVES,payload:{choice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i,b=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:_e}),{},{key:e}),Object(a.jsx)(ke,Object(j.a)({},{callback:(i=r,function(){c[i][1](),t(i)}),name:e})),Object(a.jsx)(b,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})})),ze=[],Me=function(e){ze.push(e)},We=function(e){return ze[e]},Pe=function(){ze=[]},He={margin:"-5px 0 0 5px",height:20},Ve=Object(ue.b)((function(e){return{gridSize:we(e)}}),{switchPixelChoice:Re})((function(e){var t=e.gridSize,c=e.switchPixelChoice,r=Object(n.useState)("".concat(30)),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)([]),s=Object(b.a)(u,2),d=s[0],f=s[1],h=g(),v=Object(b.a)(h,2),x=v[0],p=v[1];return Object(n.useEffect)((function(){d.forEach((function(e){return c(e)})),f((function(e){return e.length>0?[]:e}))}),[d,c]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:_e}),{},{children:[Object(a.jsx)(ke,Object(j.a)({},{callback:function(){p();var e=parseInt(o,10),c=e>=0&&e<=100?e:0;l("".concat(c));var a=Math.pow(t,2);f(Y(a,a*c/100).map((function(e){var t;return null!==(t=We(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()})))},name:"paint n% random pixels"})),Object(a.jsx)(pe,Object(j.a)({},{label:"n: ",value:o,onChange:function(e){var t=e.target.value;l(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:He}),{},{children:Object(a.jsx)(x,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]})}));var De,Fe=Object(ue.b)((function(e){return{gridSize:we(e)}}),{switchPixelChoice:Re})((function(e){var t=e.gridSize,c=e.switchPixelChoice,n=g(),r=Object(b.a)(n,2),i=r[0],o=r[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:_e}),{},{children:[Object(a.jsx)(ke,Object(j.a)({},{callback:function(){o(),c(function(e){var t=Math.floor(Math.random()*e),c=We(t);if(!c)throw Error("It should be defined");return c}(Math.pow(t,2)))},name:"paint random pixel"})),Object(a.jsx)(i,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Le=Object(ue.b)(null,{repaintRow:function(){return{type:Ae.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=g(),n=Object(b.a)(c,2),r=n[0],i=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:_e}),{},{children:[Object(a.jsx)(ke,Object(j.a)({},{callback:function(){i(),t()},name:"re-paint"})),Object(a.jsx)(r,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Be={height:"100%",width:"100%"},Xe=Object(ue.b)((function(e,t){var c=t.altControl;return{color:Se(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},Be),{},{backgroundColor:t});return Object(a.jsx)("div",Object(j.a)({},{style:c}))})),Ge=Object(ue.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:Ee(e,fe[Ce(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(a.jsx)(Xe,Object(j.a)({},{altControl:t})):null})),Ke=Object(ue.b)(null,{createPixel:function(e,t){return{type:Ae.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,r=e.createPixel,i={height:t,width:t},o=Object(n.useState)(de),l=Object(b.a)(o,2),O=l[0],u=l[1];return Object(n.useEffect)((function(){var e=s(de);r(e,c),Me(e),u(e)}),[r,c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:O===de?null:Object(a.jsx)(Ge,Object(j.a)({},{choiceForPixel:O}))}))})),Ye={display:"flex"},Ue=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,o=Object(n.useState)(null),l=Object(b.a)(o,2),O=l[0],u=l[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ke,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ye}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Je=Object(ue.b)((function(e){return{gridSize:we(e)}}))((function(e){var t=e.gridSize,c=Object(n.useState)(null),r=Object(b.a)(c,2),i=r[0],o=r[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){for(var c=e.getBoundingClientRect().height,n="".concat(c/t,"px"),r=null,b=0;b<t;b++)r=Object(a.jsx)(Ue,Object(j.a)(Object(j.a)({},{length:t,pixelSize:n,defChoice:(t+b+1)%2}),{},{children:r}));Pe(),o(r)}}}),{},{children:i}))})),qe=c(11);function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,a=c.choice,n=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(se.a)({},n,a));case Ae.SWITCH_PIXEL_CHOICE:var r=t.payload.pixel,i=e[r];return Object(j.a)(Object(j.a)({},e),{},Object(se.a)({},r,1-i));case Ae.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case Ae.REMEMBER_ACTIVE_CHOICE:var o=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:o});case Ae.TURN_ON_ALTERNATIVE:var l=t.payload.choice,O=e[fe[l]];if(!O){var u=ve(l);return Object(j.a)(Object(j.a)({},e),u)}return e;case Ae.SWITCH_ALTERNATIVES:var s,d=t.payload.choice,f=e[fe[d]];if(!f){var h=ve(d);return Object(j.a)(Object(j.a)(Object(j.a)({},e),h),{},{rememberActiveChoice:d})}return Object(j.a)(Object(j.a)({},e),{},(s={},Object(se.a)(s,fe[d],null),Object(se.a)(s,"rememberActiveChoice",1-d),s));case Ae.REPAINT_ROW:var v=e.rememberActiveChoice,x=e[fe[v]],p=1-v;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[fe[p]]?p:v},x?Object(se.a)({},x,E(e[x])):{});default:return e}}function Ze(e){De=Object(j.a)(Object(j.a)({},xe),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),ve(t))}),{}))}function $e(){return s("refresh-key")}var et=function(){var e=function(){var e=Object(C.a)({store:function(){return Ze(32),Object(qe.b)(Qe)},refreshKey:$e}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[a,n,function(e){Ze(e.gridSize),i(Object(qe.b)(Qe)),j($e)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(a.jsx)(ue.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Je,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (connect) library"})})),Object(a.jsx)(Le,{}),Object(a.jsx)(Ne,{}),Object(a.jsx)(Fe,{}),Object(a.jsx)(Ve,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(Te,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))};var tt="choice-for-pixel",ct=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function at(e){return t="".concat("color-for-alternative","-").concat(e),c=E("#AAAAAA"),[s(t),c];var t,c}function nt(e){var t,c=at(e),a=Object(b.a)(c,2),n=a[0],r=a[1];return t={},Object(se.a)(t,ct[e],n),Object(se.a)(t,n,r),t}var rt={rememberActiveChoice:0},it=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},jt={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},bt=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jt),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jt),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jt),{},{animationDelay:"0.2s"})}))]}):null}))},ot=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,o=e.width,l=void 0===o?65:o,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(it,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(bt,Object(j.a)({},{toShow:h.showSpin}))]}))};var lt=function(e,t){return e[t]},Ot=function(e,t){return e[t]},ut=function(e,t){return e[t]};function st(e){return e.gridSize}var dt,ft=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=Object(ue.d)(st),i=g({measureFromCreating:!0}),o=Object(b.a)(i,2),l=o[0],u=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(ot,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ht={width:200,height:20,display:"block",marginRight:5},vt=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},ht),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))};function xt(e){return{type:dt.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(dt||(dt={}));var pt={display:"flex",margin:"5px 5px 5px 0"},mt=function(){var e=Object(ue.c)(),t=[0,1].map((function(){return g()}));function c(c){return function(){var a;t[c][1](),e((a=c,{type:dt.SWITCH_ALTERNATIVES,payload:{choice:a}}))}}return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i=t[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{key:e}),Object(a.jsx)(vt,Object(j.a)({},{callback:c(r),name:e})),Object(a.jsx)(i,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},yt=[],gt=function(e){yt.push(e)},Ct=function(e){return yt[e]},St=function(){yt=[]},Et={margin:"-5px 0 0 5px",height:20},wt=function(){var e=Object(ue.d)(st),t=Object(ue.c)(),c=Object(n.useState)("".concat(30)),r=Object(b.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)([]),u=Object(b.a)(l,2),s=u[0],d=u[1],f=g(),h=Object(b.a)(f,2),v=h[0],x=h[1];return Object(n.useEffect)((function(){s.forEach((function(e){return t(xt(e))})),d((function(e){return e.length>0?[]:e}))}),[t,s]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{children:[Object(a.jsx)(vt,Object(j.a)({},{callback:function(){x();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;o("".concat(c));var a=Math.pow(e,2);d(Y(a,a*c/100).map((function(e){var t;return null!==(t=Ct(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()})))},name:"paint n% random pixels"})),Object(a.jsx)(it,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;o(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Et}),{},{children:Object(a.jsx)(v,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]})};var At,Tt=function(){var e=Object(ue.d)(st),t=Object(ue.c)(),c=g(),n=Object(b.a)(c,2),r=n[0],i=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{children:[Object(a.jsx)(vt,Object(j.a)({},{callback:function(){i(),t(xt(function(e){var t=Math.floor(Math.random()*e),c=Ct(t);if(!c)throw Error("It should be defined");return c}(Math.pow(e,2))))},name:"paint random pixel"})),Object(a.jsx)(r,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},It=function(){var e=Object(ue.c)(),t=g(),c=Object(b.a)(t,2),n=c[0],r=c[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{children:[Object(a.jsx)(vt,Object(j.a)({},{callback:function(){r(),e({type:dt.REPAINT_ROW})},name:"re-paint"})),Object(a.jsx)(n,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},kt={height:"100%",width:"100%"},Rt=function(e){var t=e.altControl,c=Object(ue.d)((function(e){return Ot(e,t)})),n=Object(j.a)(Object(j.a)({},kt),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},_t=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(tt),o=Object(b.a)(i,2),l=o[0],O=o[1],u=Object(ue.d)((function(e){return lt(e,l)})),d=Object(ue.d)((function(e){return ut(e,ct[u])})),f=Object(ue.c)();return Object(n.useEffect)((function(){var e=s(tt);f(function(e,t){return{type:dt.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}(e,c)),gt(e),O(e)}),[c,f]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&l[0]!==tt&&Object(a.jsx)(Rt,Object(j.a)({},{altControl:d}))}))},Nt={display:"flex"},zt=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,o=Object(n.useState)(null),l=Object(b.a)(o,2),O=l[0],u=l[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(_t,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Nt}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Mt=function(){var e=Object(ue.d)(st),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,o=0;o<e;o++)b=Object(a.jsx)(zt,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+o+1)%2}),{},{children:b}));St(),i(b)}}}),{},{children:r}))};function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,a=c.choice,n=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(se.a)({},n,a));case dt.SWITCH_PIXEL_CHOICE:var r=t.payload.pixel,i=e[r];return Object(j.a)(Object(j.a)({},e),{},Object(se.a)({},r,1-i));case dt.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case dt.REMEMBER_ACTIVE_CHOICE:var o=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:o});case dt.TURN_ON_ALTERNATIVE:var l=t.payload.choice,O=e[ct[l]];if(!O){var u=nt(l);return Object(j.a)(Object(j.a)({},e),u)}return e;case dt.SWITCH_ALTERNATIVES:var s,d=t.payload.choice,f=e[ct[d]];if(!f){var h=nt(d);return Object(j.a)(Object(j.a)(Object(j.a)({},e),h),{},{rememberActiveChoice:d})}return Object(j.a)(Object(j.a)({},e),{},(s={},Object(se.a)(s,ct[d],null),Object(se.a)(s,"rememberActiveChoice",1-d),s));case dt.REPAINT_ROW:var v=e.rememberActiveChoice,x=e[ct[v]],p=1-v;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[ct[p]]?p:v},x?Object(se.a)({},x,E(e[x])):{});default:return e}}function Pt(e){At=Object(j.a)(Object(j.a)({},rt),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),nt(t))}),{}))}function Ht(){return s("refresh-key")}var Vt=function(){var e=function(){var e=Object(C.a)({store:function(){return Pt(32),Object(qe.b)(Wt)},refreshKey:Ht}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[a,n,function(e){Pt(e.gridSize),i(Object(qe.b)(Wt)),j(Ht)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(a.jsx)(ue.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Mt,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (hooks) library"})})),Object(a.jsx)(It,{}),Object(a.jsx)(mt,{}),Object(a.jsx)(Tt,{}),Object(a.jsx)(wt,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(ft,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},Dt=c(7),Ft=c(28);function Lt(e,t){return[s(e),t]}var Bt,Xt="choice-for-pixel",Gt="color-for-alternative",Kt="grid-size",Yt="remember-active-choice",Ut="#AAAAAA",Jt=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function qt(e){return Lt("".concat(Gt,"-").concat(e),E(Ut))}function Qt(){return Jt.map((function(e,t){return[e,qt(t)]}))}var Zt=(Bt={},Object(se.a)(Bt,Xt,0),Object(se.a)(Bt,Gt,Ut),Object(se.a)(Bt,Kt,32),Object(se.a)(Bt,Yt,0),Bt),$t=Object(j.a)({},Zt);function ec(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];t.forEach((function(e){var t=Object(b.a)(e,2),c=t[0],a=t[1];$t=Object(j.a)(Object(j.a)({},$t),{},Object(se.a)({},c,a))}))}function tc(e){return[e,$t[e]]}ec.apply(void 0,Object(Dt.a)(Qt()));var cc=Object(Ft.a)(),ac=cc.useInterstate,nc=cc.Scope;function rc(){return s("refresh-key")}var ic=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,o=e.addStyle,l=void 0===o?{}:o,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},jc={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},bc=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jc),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jc),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jc),{},{animationDelay:"0.2s"})}))]}):null}))},oc=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,o=e.width,l=void 0===o?65:o,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(ic,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(a.jsx)(bc,Object(j.a)({},{toShow:h.showSpin}))]}))},lc=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=ac.apply(void 0,Object(Dt.a)(tc(Kt))).get(),i=g({measureFromCreating:!0}),o=Object(b.a)(i,2),l=o[0],u=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(oc,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Oc={width:200,height:20,display:"block",marginRight:5},uc=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},Oc),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},sc={display:"flex",margin:"5px 5px 5px 0"},dc=function(){var e=ac.apply(void 0,Object(Dt.a)(tc(Yt))).set(),t=Jt.map((function(e){return ac.apply(void 0,Object(Dt.a)(tc(e))).set()})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,o=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:sc}),{},{key:r}),Object(a.jsx)(uc,Object(j.a)({},{callback:(b=i,function(){c[b][1](),t[b]((function(t){return t?(e(1-b),null):(e(b),qt(b))}))}),name:r})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},fc=[],hc=function(e){fc.push(e)},vc=function(e){return fc[e]},xc=function(){fc=[]},pc={margin:"-5px 0 0 5px",height:20},mc=function(e){var t=e.pixelChoiceAtom,c=ac.apply(void 0,Object(Dt.a)(t)).set();return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},yc=function(){var e=ac.apply(void 0,Object(Dt.a)(tc(Kt))).get(),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(n.useState)([]),l=Object(b.a)(o,2),u=l[0],s=l[1],d=g(),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(n.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:sc}),{},{children:[Object(a.jsx)(uc,Object(j.a)({},{callback:function(){v();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));var n=Math.pow(e,2);s(Y(n,n*c/100).map((function(e){var t;return Object(a.jsx)(mc,Object(j.a)({},{pixelChoiceAtom:null!==(t=vc(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()}))})))},name:"paint n% random pixels"})),Object(a.jsx)(ic,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:pc}),{},{children:Object(a.jsx)(h,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]}),u]})};function gc(e){var t=Math.floor(Math.random()*e),c=vc(t);if(!c)throw Error("It should be defined");return c}var Cc=function(){var e=ac.apply(void 0,Object(Dt.a)(tc(Kt))).get(),t=Object(n.useState)({atom:tc(Xt)}),c=Object(b.a)(t,2),r=c[0],i=c[1],o=ac.apply(void 0,Object(Dt.a)(r.atom)).set(),l=g(),u=Object(b.a)(l,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){o((function(e){return 1-e}))}),[o,r]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:sc}),{},{children:[Object(a.jsx)(uc,Object(j.a)({},{callback:function(){d(),i({atom:gc(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Sc=function(){var e=Jt.map((function(e){return ac.apply(void 0,Object(Dt.a)(tc(e))).get()})),t=[0,1].map((function(t){var c;return ac.apply(void 0,Object(Dt.a)(null!==(c=e[t])&&void 0!==c?c:tc(Gt))).set()})),c=ac.apply(void 0,Object(Dt.a)(tc(Yt))).both(),n=Object(b.a)(c,2),r=n[0],i=n[1],o=g(),l=Object(b.a)(o,2),u=l[0],s=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:sc}),{},{children:[Object(a.jsx)(uc,Object(j.a)({},{callback:function(){s(),t[r]((function(t){var c=1-r;return null!==e[c]&&i(c),null!==e[r]?E(t):t}))},name:"re-paint"})),Object(a.jsx)(u,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Ec={height:"100%",width:"100%"},wc=function(e){var t=e.altControlAtom,c=ac.apply(void 0,Object(Dt.a)(t)).get(),n=Object(j.a)(Object(j.a)({},Ec),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},Ac=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(tc(Xt)),o=Object(b.a)(i,2),l=o[0],O=o[1],u=ac.apply(void 0,Object(Dt.a)(l)).get(),s=ac.apply(void 0,Object(Dt.a)(tc(Jt[u]))).get();return Object(n.useEffect)((function(){var e=Lt(Xt,c);hc(e),O(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:s&&l[0]!==Xt&&Object(a.jsx)(wc,Object(j.a)({},{altControlAtom:s}))}))},Tc={display:"flex"},Ic=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,o=Object(n.useState)(null),l=Object(b.a)(o,2),O=l[0],u=l[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ac,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Tc}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},kc=function(){var e=ac.apply(void 0,Object(Dt.a)(tc(Kt))).get(),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,o=0;o<e;o++)b=Object(a.jsx)(Ic,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+o+1)%2}),{},{children:b}));xc(),i(b)}}}),{},{children:r}))},Rc=function(){var e=function(){var e=Object(n.useState)(rc),t=Object(b.a)(e,2),c=t[0],a=t[1];return[c,function(e){var t=e.gridSize;ec.apply(void 0,[[Kt,t]].concat(Object(Dt.a)(Qt()))),a(rc)}]}(),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(a.jsx)(nc,Object(j.a)(Object(j.a)({},{key:c}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(kc,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(a.jsx)(Sc,{}),Object(a.jsx)(dc,{}),Object(a.jsx)(Cc,{}),Object(a.jsx)(yc,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(lc,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},_c={display:"flex"},Nc=function(){return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"5px 0 0 10px",fontWeight:"bold"}}),{},{children:"v.1.1.0"})),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexGrow:1}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:_c}),{},{children:Object(a.jsx)(Oe,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:_c}),{},{children:Object(a.jsx)(Rc,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:_c}),{},{children:Object(a.jsx)(et,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:_c}),{},{children:Object(a.jsx)(Vt,{})}))]}))]}))};c(43);i.a.render(Object(a.jsx)(Nc,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c9e76933.chunk.js.map