(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),r=c(13),i=c.n(r),j=c(0),b=c(3),l=c(5),o={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},O=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,r=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(r),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},o),{},{backgroundColor:"transparent"})}))},u=new Map;function s(e){var t,c=(null!==(t=u.get(e))&&void 0!==t?t:-1)+1;return u.set(e,c),"".concat(e,"-").concat(c)}var d=5e3;function v(e,t,c,a){return void 0===e||clearTimeout(e),a.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&a.finish()}),d):t.disconnect()}function h(e,t,c,a){var n=null!==a&&void 0!==a?a:{startTime:t,duration:0},r=n.startTime,i=n.duration,j=t-r,b=-j>=d;return{TTI:b?0:Math.max(0,c-t),TBT:b?0:e+Math.max(0,j<50?i-50:i-j)}}var f=PerformanceObserver.supportedEntryTypes,x=f&&f.includes("mark")&&f.includes("longtask");function p(e){return x}var m=function(e){var t=e.children,c=e.settings,a=e.updateStartMeasureCallback,r=c.measureFromCreating,i=c.name,l=Object(n.useState)((function(){return s(null!==i&&void 0!==i?i:"start-use-perf-metrics")})),o=Object(b.a)(l,1)[0],O=Object(n.useState)((function(){return x?{data:null,status:"never"}:{data:null,status:"error"}})),u=Object(b.a)(O,2),f=u[0],m=u[1],y=Object(n.useRef)(!0),g=Object(n.useState)((function(){return x?function(e,t,c){var a,n,r,i=!0,l=0,o=0,O={useEffectRegistered:!1};function u(){t({data:h(l,n.startTime,o,r),status:"done"})}var s=new PerformanceObserver((function(c,s){var h=O.useEffectRegistered;if(a=v(a,s,O,{scheduleNext:!0,finish:u}),i||h){if(i=!1,!n){var f=c.getEntriesByName(e);if(!(f.length>0))return t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})})),void(a=v(a,s,O,{scheduleNext:!1}));var x=Object(b.a)(f,1);n=x[0],s.observe({entryTypes:["longtask"]})}var p=c.getEntriesByType("longtask");p.length>0&&p.every((function(e){var t=e.startTime,c=e.duration;if(r){if(t-o>=d)return a=v(a,s,O,{scheduleNext:!1}),u(),!1;l+=c-50}else r=e;return o=t+c,!0}))}else v(a,s,O,{scheduleNext:!1})}));return c((function(){l=0,o=0,n=void 0,r=void 0,t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),s.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[s,function(){return O.useEffectRegistered=!0,function(){s.disconnect(),a=v(a,s,O,{scheduleNext:!1})}}]}(o,m,a):null})),C=Object(b.a)(g,1)[0];p()&&y.current&&r&&(Object(b.a)(C,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(o));return Object(n.useEffect)((function(){if(p()){var e=Object(b.a)(C,2)[1];return y.current=!1,r&&m((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),e()}}),[]),Object(n.useMemo)((function(){return Object(n.cloneElement)(t,f)}),[f])},y={measureFromCreating:!1};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},y),e),c=Object(n.useRef)((function(){})),r=Object(n.useState)([function(e){var n=e.children;return Object(a.jsx)(m,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:n}))},function(){return c.current()}]),i=Object(b.a)(r,1),l=i[0];return l}var C=c(8),S=16777215;function E(e){var t=Math.round(parseInt(e.slice(1),16)+S*(Math.random()/4+.5));return"#".concat((t=t>S?t-S:t).toString(16).padStart(6,"0"))}function w(e,t){return Object(l.b)({key:s(e),default:t})}var I="choice-for-pixel",T="color-for-alternative",A="alternative-for-choice",k="#AAAAAA";function R(e){return w("".concat(T,"-").concat(e),E(k))}var _=Object(l.b)({key:I,default:0}),N=Object(l.b)({key:T,default:k}),z=Object(l.b)({key:"grid-size",default:32}),M=Object(l.b)({key:"remember-active-choice",default:0}),P=[0,1].map((function(e){return Object(l.b)({key:"".concat(A,"-").concat(e),default:{atom:R(e)}})}));function L(){return s("refresh-key")}var W=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},H={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},V=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},H),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},H),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},H),{},{animationDelay:"0.2s"})}))]}):null}))},D=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),v=Object(b.a)(d,2),h=v[0],f=v[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(W,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(V,Object(j.a)({},{toShow:h.showSpin}))]}))},F=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=Object(l.d)(z),i=g({measureFromCreating:!0}),o=Object(b.a)(i,2),u=o[0],s=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(D,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){s();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(u,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},B={width:200,height:20,display:"block",marginRight:5},X=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},B),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},G={display:"flex",margin:"5px 5px 5px 0"},U=function(){var e=Object(l.e)(M),t=P.map((function(e){return Object(l.c)(e)})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,l=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{key:r}),Object(a.jsx)(X,Object(j.a)({},{callback:(b=i,function(){var a=t[b][0];c[b][1](),a?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:R(b)}))}),name:r})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})};function K(e,t){if(e<t)throw Error("Number to draw must be less than total");for(var c=t<e/2?[!0,e-t]:[!1,t],a=Object(b.a)(c,2),n=a[0],r=a[1],i=Array(e).fill(null).map((function(e,t){return t})),j=[];i.length>r;){var l=Math.floor(Math.random()*i.length);n&&j.push(i[l]),l<i.length-1?i[l]=i.pop():i.pop()}return n?j:i}var Y=[],J=function(e){Y.push(e)},q=function(e){return Y[e]},Q=function(){Y=[]},Z={margin:"-5px 0 0 5px",height:20},$=function(e){var t=e.pixelChoiceAtom,c=Object(l.e)(t);return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},ee=function(){var e=Object(l.d)(z),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(n.useState)([]),u=Object(b.a)(o,2),s=u[0],d=u[1],v=g(),h=Object(b.a)(v,2),f=h[0],x=h[1];return Object(n.useEffect)((function(){return d((function(e){return e.length>0?[]:e}))}),[s]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){x();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));var n=Math.pow(e,2);d(K(n,n*c/100).map((function(e){var t;return Object(a.jsx)($,Object(j.a)({},{pixelChoiceAtom:null!==(t=q(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()}))})))},name:"paint n% random pixels"})),Object(a.jsx)(W,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Z}),{},{children:Object(a.jsx)(f,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]}),s]})};function te(e){var t=Math.floor(Math.random()*e),c=q(t);if(!c)throw Error("It should be defined");return c}var ce=function(){var e=Object(l.d)(z),t=Object(n.useState)({atom:_}),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(l.e)(r.atom),u=g(),s=Object(b.a)(u,2),d=s[0],v=s[1];return Object(n.useEffect)((function(){o((function(e){return 1-e}))}),[o,r]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){v(),i({atom:te(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(d,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ae=function(){var e=P.map((function(e){return Object(l.d)(e)})),t=[0,1].map((function(t){var c,a;return Object(l.c)(null!==(c=null===(a=e[t])||void 0===a?void 0:a.atom)&&void 0!==c?c:N)})),c=Object(l.c)(M),n=Object(b.a)(c,2),r=n[0],i=n[1],o=g(),u=Object(b.a)(o,2),s=u[0],d=u[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){d();var c=t[r][0],a=1-r;null!==e[a]&&i(a),null!==e[r]&&t[r][1](E(c))},name:"re-paint"})),Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ne={height:"100%",width:"100%"},re=function(e){var t=e.altControlAtom,c=Object(l.d)(t),n=Object(j.a)(Object(j.a)({},ne),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},ie=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(_),o=Object(b.a)(i,2),O=o[0],u=o[1],s=Object(l.d)(O),d=Object(l.d)(P[s]);return Object(n.useEffect)((function(){var e=w(I,c);J(e),u(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&O!==_&&Object(a.jsx)(re,Object(j.a)({},{altControlAtom:d.atom}))}))},je={display:"flex"},be=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(ie,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:je}),{},{children:O})),t]})},le=function(){var e=Object(l.d)(z),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(be,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));Q(),i(b)}}}),{},{children:r}))},oe=function(){var e=function(){var e=Object(n.useState)(L),t=Object(b.a)(e,2),c=t[0],a=t[1],r=P.map((function(e){return Object(l.e)(e)})),i=Object(l.e)(z);return[c,function(e){var t=e.gridSize;r.every((function(e,t){return e({atom:R(t)})})),i(t),a(L)}]}(),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"},key:c}),{},{children:[Object(a.jsx)(le,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(a.jsx)(ae,{}),Object(a.jsx)(U,{}),Object(a.jsx)(ce,{}),Object(a.jsx)(ee,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(F,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))},Oe=function(){return Object(a.jsx)(l.a,{children:Object(a.jsx)(oe,{})})},ue=c(4),se=c(6);var de="choice-for-pixel",ve=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function he(e){return t="".concat("color-for-alternative","-").concat(e),c=E("#AAAAAA"),[s(t),c];var t,c}function fe(e){var t,c=he(e),a=Object(b.a)(c,2),n=a[0],r=a[1];return t={},Object(se.a)(t,ve[e],n),Object(se.a)(t,n,r),t}var xe={rememberActiveChoice:0},pe=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},me={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},ye=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},me),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},me),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},me),{},{animationDelay:"0.2s"})}))]}):null}))},ge=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),v=Object(b.a)(d,2),h=v[0],f=v[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(pe,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(ye,Object(j.a)({},{toShow:h.showSpin}))]}))};var Ce=function(e,t){return e[t]},Se=function(e,t){return e[t]},Ee=function(e,t){return e[t]};function we(e){return e.gridSize}var Ie,Te=Object(ue.b)((function(e){return{gridSize:we(e)}}))((function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=e.gridSize,i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),o=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(ge,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Ae={width:200,height:20,display:"block",marginRight:5},ke=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},Ae),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))};!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.SWITCH_MULTIPLE_PIXELS="pixels/switchMultiplePixels",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(Ie||(Ie={}));var Re={display:"flex",margin:"5px 5px 5px 0"},_e=Object(ue.b)(null,{switchAlternatives:function(e){return{type:Ie.SWITCH_ALTERNATIVES,payload:{choice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i,b=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{key:e}),Object(a.jsx)(ke,Object(j.a)({},{callback:(i=r,function(){c[i][1](),t(i)}),name:e})),Object(a.jsx)(b,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})})),Ne=[],ze=function(e){Ne.push(e)},Me=function(e){return Ne[e]},Pe=function(){Ne=[]},Le={margin:"-5px 0 0 5px",height:20},We=Object(ue.b)((function(e){return{gridSize:we(e)}}),{switchMultiplePixels:function(e){return{type:Ie.SWITCH_MULTIPLE_PIXELS,payload:{pixels:e}}}})((function(e){var t=e.gridSize,c=e.switchMultiplePixels,r=Object(n.useState)("".concat(30)),i=Object(b.a)(r,2),l=i[0],o=i[1],u=g(),s=Object(b.a)(u,2),d=s[0],v=s[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(ke,Object(j.a)({},{callback:function(){v();var e=parseInt(l,10),a=e>=0&&e<=100?e:0;o("".concat(a));var n=Math.pow(t,2);c(K(n,n*a/100).map((function(e){var t;return null!==(t=Me(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()})))},name:"paint n% random pixels"})),Object(a.jsx)(pe,Object(j.a)({},{label:"n: ",value:l,onChange:function(e){var t=e.target.value;o(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Le}),{},{children:Object(a.jsx)(d,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]})}));var He,Ve=Object(ue.b)((function(e){return{gridSize:we(e)}}),{switchPixelChoice:function(e){return{type:Ie.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}})((function(e){var t=e.gridSize,c=e.switchPixelChoice,n=g(),r=Object(b.a)(n,2),i=r[0],l=r[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(ke,Object(j.a)({},{callback:function(){l(),c(function(e){var t=Math.floor(Math.random()*e),c=Me(t);if(!c)throw Error("It should be defined");return c}(Math.pow(t,2)))},name:"paint random pixel"})),Object(a.jsx)(i,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),De=Object(ue.b)(null,{repaintRow:function(){return{type:Ie.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=g(),n=Object(b.a)(c,2),r=n[0],i=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(ke,Object(j.a)({},{callback:function(){i(),t()},name:"re-paint"})),Object(a.jsx)(r,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Fe={height:"100%",width:"100%"},Be=Object(ue.b)((function(e,t){var c=t.altControl;return{color:Se(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},Fe),{},{backgroundColor:t});return Object(a.jsx)("div",Object(j.a)({},{style:c}))})),Xe=Object(ue.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:Ee(e,ve[Ce(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(a.jsx)(Be,Object(j.a)({},{altControl:t})):null})),Ge=Object(ue.b)(null,{createPixel:function(e,t){return{type:Ie.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,r=e.createPixel,i={height:t,width:t},l=Object(n.useState)(de),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=s(de);r(e,c),ze(e),u(e)}),[r,c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:O===de?null:Object(a.jsx)(Xe,Object(j.a)({},{choiceForPixel:O}))}))})),Ue={display:"flex"},Ke=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ge,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ue}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Ye=Object(ue.b)((function(e){return{gridSize:we(e)}}))((function(e){var t=e.gridSize,c=Object(n.useState)(null),r=Object(b.a)(c,2),i=r[0],l=r[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){for(var c=e.getBoundingClientRect().height,n="".concat(c/t,"px"),r=null,b=0;b<t;b++)r=Object(a.jsx)(Ke,Object(j.a)(Object(j.a)({},{length:t,pixelSize:n,defChoice:(t+b+1)%2}),{},{children:r}));Pe(),l(r)}}}),{},{children:i}))})),Je=c(11);function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;function c(t,c){var a=e[c];return Object(j.a)(Object(j.a)({},t),{},Object(se.a)({},c,1-a))}switch(t.type){case Ie.CREATE_NEW_PIXEL_ENTRY:var a=t.payload,n=a.choice,r=a.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(se.a)({},r,n));case Ie.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel;return Object(j.a)(Object(j.a)({},e),c({},i));case Ie.SWITCH_MULTIPLE_PIXELS:var b=t.payload.pixels,l=b.reduce(c,{});return Object(j.a)(Object(j.a)({},e),l);case Ie.CHOOSE_GRID:var o=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:o});case Ie.REMEMBER_ACTIVE_CHOICE:var O=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:O});case Ie.TURN_ON_ALTERNATIVE:var u=t.payload.choice,s=e[ve[u]];if(!s){var d=fe(u);return Object(j.a)(Object(j.a)({},e),d)}return e;case Ie.SWITCH_ALTERNATIVES:var v,h=t.payload.choice,f=e[ve[h]];if(!f){var x=fe(h);return Object(j.a)(Object(j.a)(Object(j.a)({},e),x),{},{rememberActiveChoice:h})}return Object(j.a)(Object(j.a)({},e),{},(v={},Object(se.a)(v,ve[h],null),Object(se.a)(v,"rememberActiveChoice",1-h),v));case Ie.REPAINT_ROW:var p=e.rememberActiveChoice,m=e[ve[p]],y=1-p;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[ve[y]]?y:p},m?Object(se.a)({},m,E(e[m])):{});default:return e}}function Qe(e){He=Object(j.a)(Object(j.a)({},xe),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),fe(t))}),{}))}function Ze(){return s("refresh-key")}var $e=function(){var e=function(){var e=Object(C.a)({store:function(){return Qe(32),Object(Je.b)(qe)},refreshKey:Ze}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[a,n,function(e){Qe(e.gridSize),i(Object(Je.b)(qe)),j(Ze)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(a.jsx)(ue.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Ye,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (connect) library"})})),Object(a.jsx)(De,{}),Object(a.jsx)(_e,{}),Object(a.jsx)(Ve,{}),Object(a.jsx)(We,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(Te,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))};var et="choice-for-pixel",tt=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function ct(e){return t="".concat("color-for-alternative","-").concat(e),c=E("#AAAAAA"),[s(t),c];var t,c}function at(e){var t,c=ct(e),a=Object(b.a)(c,2),n=a[0],r=a[1];return t={},Object(se.a)(t,tt[e],n),Object(se.a)(t,n,r),t}var nt={rememberActiveChoice:0},rt=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},it={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},jt=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},it),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},it),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},it),{},{animationDelay:"0.2s"})}))]}):null}))},bt=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),v=Object(b.a)(d,2),h=v[0],f=v[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(rt,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(jt,Object(j.a)({},{toShow:h.showSpin}))]}))};var lt=function(e,t){return e[t]},ot=function(e,t){return e[t]},Ot=function(e,t){return e[t]};function ut(e){return e.gridSize}var st,dt=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=Object(ue.d)(ut),i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),o=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(bt,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},vt={width:200,height:20,display:"block",marginRight:5},ht=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},vt),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))};!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.SWITCH_MULTIPLE_PIXELS="pixels/switchMultiplePixels",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(st||(st={}));var ft={display:"flex",margin:"5px 5px 5px 0"},xt=function(){var e=Object(ue.c)(),t=[0,1].map((function(){return g()}));function c(c){return function(){var a;t[c][1](),e((a=c,{type:st.SWITCH_ALTERNATIVES,payload:{choice:a}}))}}return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i=t[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:ft}),{},{key:e}),Object(a.jsx)(ht,Object(j.a)({},{callback:c(r),name:e})),Object(a.jsx)(i,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},pt=[],mt=function(e){pt.push(e)},yt=function(e){return pt[e]},gt=function(){pt=[]},Ct={margin:"-5px 0 0 5px",height:20},St=function(){var e=Object(ue.d)(ut),t=Object(ue.c)(),c=Object(n.useState)("".concat(30)),r=Object(b.a)(c,2),i=r[0],l=r[1],o=g(),u=Object(b.a)(o,2),s=u[0],d=u[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:ft}),{},{children:[Object(a.jsx)(ht,Object(j.a)({},{callback:function(){d();var c=parseInt(i,10),a=c>=0&&c<=100?c:0;l("".concat(a));var n,r=Math.pow(e,2);t((n=K(r,r*a/100).map((function(e){var t;return null!==(t=yt(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()})),{type:st.SWITCH_MULTIPLE_PIXELS,payload:{pixels:n}}))},name:"paint n% random pixels"})),Object(a.jsx)(rt,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;l(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ct}),{},{children:Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]})};var Et,wt=function(){var e=Object(ue.d)(ut),t=Object(ue.c)(),c=g(),n=Object(b.a)(c,2),r=n[0],i=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:ft}),{},{children:[Object(a.jsx)(ht,Object(j.a)({},{callback:function(){var c;i(),t((c=function(e){var t=Math.floor(Math.random()*e),c=yt(t);if(!c)throw Error("It should be defined");return c}(Math.pow(e,2)),{type:st.SWITCH_PIXEL_CHOICE,payload:{pixel:c}}))},name:"paint random pixel"})),Object(a.jsx)(r,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},It=function(){var e=Object(ue.c)(),t=g(),c=Object(b.a)(t,2),n=c[0],r=c[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:ft}),{},{children:[Object(a.jsx)(ht,Object(j.a)({},{callback:function(){r(),e({type:st.REPAINT_ROW})},name:"re-paint"})),Object(a.jsx)(n,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Tt={height:"100%",width:"100%"},At=function(e){var t=e.altControl,c=Object(ue.d)((function(e){return ot(e,t)})),n=Object(j.a)(Object(j.a)({},Tt),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},kt=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(et),l=Object(b.a)(i,2),o=l[0],O=l[1],u=Object(ue.d)((function(e){return lt(e,o)})),d=Object(ue.d)((function(e){return Ot(e,tt[u])})),v=Object(ue.c)();return Object(n.useEffect)((function(){var e=s(et);v(function(e,t){return{type:st.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}(e,c)),mt(e),O(e)}),[c,v]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&o[0]!==et&&Object(a.jsx)(At,Object(j.a)({},{altControl:d}))}))},Rt={display:"flex"},_t=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(kt,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Rt}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Nt=function(){var e=Object(ue.d)(ut),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(_t,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));gt(),i(b)}}}),{},{children:r}))};function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;function c(t,c){var a=e[c];return Object(j.a)(Object(j.a)({},t),{},Object(se.a)({},c,1-a))}switch(t.type){case st.CREATE_NEW_PIXEL_ENTRY:var a=t.payload,n=a.choice,r=a.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(se.a)({},r,n));case st.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel;return Object(j.a)(Object(j.a)({},e),c({},i));case st.SWITCH_MULTIPLE_PIXELS:var b=t.payload.pixels,l=b.reduce(c,{});return Object(j.a)(Object(j.a)({},e),l);case st.CHOOSE_GRID:var o=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:o});case st.REMEMBER_ACTIVE_CHOICE:var O=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:O});case st.TURN_ON_ALTERNATIVE:var u=t.payload.choice,s=e[tt[u]];if(!s){var d=at(u);return Object(j.a)(Object(j.a)({},e),d)}return e;case st.SWITCH_ALTERNATIVES:var v,h=t.payload.choice,f=e[tt[h]];if(!f){var x=at(h);return Object(j.a)(Object(j.a)(Object(j.a)({},e),x),{},{rememberActiveChoice:h})}return Object(j.a)(Object(j.a)({},e),{},(v={},Object(se.a)(v,tt[h],null),Object(se.a)(v,"rememberActiveChoice",1-h),v));case st.REPAINT_ROW:var p=e.rememberActiveChoice,m=e[tt[p]],y=1-p;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[tt[y]]?y:p},m?Object(se.a)({},m,E(e[m])):{});default:return e}}function Mt(e){Et=Object(j.a)(Object(j.a)({},nt),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),at(t))}),{}))}function Pt(){return s("refresh-key")}var Lt=function(){var e=function(){var e=Object(C.a)({store:function(){return Mt(32),Object(Je.b)(zt)},refreshKey:Pt}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[a,n,function(e){Mt(e.gridSize),i(Object(Je.b)(zt)),j(Pt)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(a.jsx)(ue.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Nt,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (hooks) library"})})),Object(a.jsx)(It,{}),Object(a.jsx)(xt,{}),Object(a.jsx)(wt,{}),Object(a.jsx)(St,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(dt,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},Wt=c(7),Ht=c(28);function Vt(e,t){return[s(e),t]}var Dt,Ft="choice-for-pixel",Bt="color-for-alternative",Xt="grid-size",Gt="remember-active-choice",Ut="#AAAAAA",Kt=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function Yt(e){return Vt("".concat(Bt,"-").concat(e),E(Ut))}function Jt(){return Kt.map((function(e,t){return[e,Yt(t)]}))}var qt=(Dt={},Object(se.a)(Dt,Ft,0),Object(se.a)(Dt,Bt,Ut),Object(se.a)(Dt,Xt,32),Object(se.a)(Dt,Gt,0),Dt),Qt=Object(j.a)({},qt);function Zt(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];t.forEach((function(e){var t=Object(b.a)(e,2),c=t[0],a=t[1];Qt=Object(j.a)(Object(j.a)({},Qt),{},Object(se.a)({},c,a))}))}function $t(e){return[e,Qt[e]]}Zt.apply(void 0,Object(Wt.a)(Jt()));var ec=Object(Ht.a)(),tc=ec.useInterstate,cc=ec.Scope;function ac(){return s("refresh-key")}var nc=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},rc={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},ic=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},rc),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},rc),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},rc),{},{animationDelay:"0.2s"})}))]}):null}))},jc=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),v=Object(b.a)(d,2),h=v[0],f=v[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(nc,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(ic,Object(j.a)({},{toShow:h.showSpin}))]}))},bc=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=tc.apply(void 0,Object(Wt.a)($t(Xt))).get(),i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),o=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(jc,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},lc={width:200,height:20,display:"block",marginRight:5},oc=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},lc),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},Oc={display:"flex",margin:"5px 5px 5px 0"},uc=function(){var e=tc.apply(void 0,Object(Wt.a)($t(Gt))).set(),t=Kt.map((function(e){return tc.apply(void 0,Object(Wt.a)($t(e))).set()})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,l=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:Oc}),{},{key:r}),Object(a.jsx)(oc,Object(j.a)({},{callback:(b=i,function(){c[b][1](),t[b]((function(t){return t?(e(1-b),null):(e(b),Yt(b))}))}),name:r})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},sc=[],dc=function(e){sc.push(e)},vc=function(e){return sc[e]},hc=function(){sc=[]},fc={margin:"-5px 0 0 5px",height:20},xc=function(e){var t=e.pixelChoiceAtom,c=tc.apply(void 0,Object(Wt.a)(t)).set();return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},pc=function(){var e=tc.apply(void 0,Object(Wt.a)($t(Xt))).get(),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),r=c[0],i=c[1],l=Object(n.useState)([]),o=Object(b.a)(l,2),u=o[0],s=o[1],d=g(),v=Object(b.a)(d,2),h=v[0],f=v[1];return Object(n.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Oc}),{},{children:[Object(a.jsx)(oc,Object(j.a)({},{callback:function(){f();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));var n=Math.pow(e,2);s(K(n,n*c/100).map((function(e){var t;return Object(a.jsx)(xc,Object(j.a)({},{pixelChoiceAtom:null!==(t=vc(e))&&void 0!==t?t:function(){throw Error("It must be defined")}()}))})))},name:"paint n% random pixels"})),Object(a.jsx)(nc,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:fc}),{},{children:Object(a.jsx)(h,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]}),u]})};function mc(e){var t=Math.floor(Math.random()*e),c=vc(t);if(!c)throw Error("It should be defined");return c}var yc=function(){var e=tc.apply(void 0,Object(Wt.a)($t(Xt))).get(),t=Object(n.useState)({atom:$t(Ft)}),c=Object(b.a)(t,2),r=c[0],i=c[1],l=tc.apply(void 0,Object(Wt.a)(r.atom)).set(),o=g(),u=Object(b.a)(o,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){l((function(e){return 1-e}))}),[l,r]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Oc}),{},{children:[Object(a.jsx)(oc,Object(j.a)({},{callback:function(){d(),i({atom:mc(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},gc=function(){var e=Kt.map((function(e){return tc.apply(void 0,Object(Wt.a)($t(e))).get()})),t=[0,1].map((function(t){var c;return tc.apply(void 0,Object(Wt.a)(null!==(c=e[t])&&void 0!==c?c:$t(Bt))).set()})),c=tc.apply(void 0,Object(Wt.a)($t(Gt))).both(),n=Object(b.a)(c,2),r=n[0],i=n[1],l=g(),o=Object(b.a)(l,2),u=o[0],s=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Oc}),{},{children:[Object(a.jsx)(oc,Object(j.a)({},{callback:function(){s(),t[r]((function(t){var c=1-r;return null!==e[c]&&i(c),null!==e[r]?E(t):t}))},name:"re-paint"})),Object(a.jsx)(u,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Cc={height:"100%",width:"100%"},Sc=function(e){var t=e.altControlAtom,c=tc.apply(void 0,Object(Wt.a)(t)).get(),n=Object(j.a)(Object(j.a)({},Cc),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},Ec=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)($t(Ft)),l=Object(b.a)(i,2),o=l[0],O=l[1],u=tc.apply(void 0,Object(Wt.a)(o)).get(),s=tc.apply(void 0,Object(Wt.a)($t(Kt[u]))).get();return Object(n.useEffect)((function(){var e=Vt(Ft,c);dc(e),O(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:s&&o[0]!==Ft&&Object(a.jsx)(Sc,Object(j.a)({},{altControlAtom:s}))}))},wc={display:"flex"},Ic=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ec,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:wc}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Tc=function(){var e=tc.apply(void 0,Object(Wt.a)($t(Xt))).get(),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(Ic,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));hc(),i(b)}}}),{},{children:r}))},Ac=function(){var e=function(){var e=Object(n.useState)(ac),t=Object(b.a)(e,2),c=t[0],a=t[1];return[c,function(e){var t=e.gridSize;Zt.apply(void 0,[[Xt,t]].concat(Object(Wt.a)(Jt()))),a(ac)}]}(),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(a.jsx)(cc,Object(j.a)(Object(j.a)({},{key:c}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Tc,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(a.jsx)(gc,{}),Object(a.jsx)(uc,{}),Object(a.jsx)(yc,{}),Object(a.jsx)(pc,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(bc,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},kc={display:"flex"},Rc=function(){return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"5px 0 0 10px",fontWeight:"bold"}}),{},{children:"v.1.2.0"})),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexGrow:1}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:kc}),{},{children:Object(a.jsx)(Oe,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:kc}),{},{children:Object(a.jsx)(Ac,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:kc}),{},{children:Object(a.jsx)($e,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:kc}),{},{children:Object(a.jsx)(Lt,{})}))]}))]}))};c(43);i.a.render(Object(a.jsx)(Rc,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.266dbbcf.chunk.js.map