(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),i=c(12),r=c.n(i),j=c(0),b=c(4),o=c(3),l={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},u=function(e){var t=e.data,c=e.status;if("done"===c&&t){var a=t.TTI,i=t.TBT;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:l}),{},{children:"TTI: ".concat(Math.round(a),"ms - TBT: ").concat(Math.round(i),"ms")}))}return"pending"===c?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:l}),{},{children:"performance measuring..."})):"error"===c?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:l}),{},{children:"error"})):Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},l),{},{backgroundColor:"transparent"})}))},O=new Map;function s(e){var t,c=(null!==(t=O.get(e))&&void 0!==t?t:-1)+1;return O.set(e,c),"".concat(e,"-").concat(c)}var d=5e3;function v(e,t,c,n){return void 0===e||clearTimeout(e),n.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&n.finish()}),d):t.disconnect()}function f(e,t,c,n){var a=null!==n&&void 0!==n?n:{startTime:t,duration:0},i=a.startTime,r=a.duration,j=t-i,b=-j>=d;return{TTI:b?0:Math.max(0,c-t),TBT:b?0:e+Math.max(0,j<50?r-50:r-j)}}var h=PerformanceObserver.supportedEntryTypes,x=h&&h.includes("mark")&&h.includes("longtask");function p(e){return x}var m=function(e){var t=e.children,c=e.settings,n=e.updateStartMeasureCallback,i=c.measureFromCreating,r=c.name,b=Object(a.useState)((function(){return s(null!==r&&void 0!==r?r:"start-use-perf-metrics")})),l=Object(o.a)(b,1)[0],u=Object(a.useState)((function(){return x?{data:null,status:"never"}:{data:null,status:"error"}})),O=Object(o.a)(u,2),h=O[0],m=O[1],y=Object(a.useRef)(!0),g=Object(a.useState)((function(){return x?function(e,t,c){var n,a,i,r=!0,b=0,l=0,u={useEffectRegistered:!1};function O(){t({data:f(b,a.startTime,l,i),status:"done"})}var s=new PerformanceObserver((function(c,s){var f=u.useEffectRegistered;if(n=v(n,s,u,{scheduleNext:!0,finish:O}),r||f){if(r=!1,!a){var h=c.getEntriesByName(e);if(!(h.length>0))return t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})})),void(n=v(n,s,u,{scheduleNext:!1}));var x=Object(o.a)(h,1);a=x[0],s.observe({entryTypes:["longtask"]})}var p=c.getEntriesByType("longtask");p.length>0&&p.every((function(e){var t=e.startTime,c=e.duration;if(i){if(t-l>=d)return n=v(n,s,u,{scheduleNext:!1}),O(),!1;b+=c-50}else i=e;return l=t+c,!0}))}else v(n,s,u,{scheduleNext:!1})}));return c((function(){b=0,l=0,a=void 0,i=void 0,t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),s.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[s,function(){return u.useEffectRegistered=!0,function(){s.disconnect(),n=v(n,s,u,{scheduleNext:!1})}}]}(l,m,n):null})),C=Object(o.a)(g,1)[0];p()&&y.current&&i&&(Object(o.a)(C,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(l));return Object(a.useEffect)((function(){if(p()){var e=Object(o.a)(C,2)[1];return y.current=!1,i&&m((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),e()}}),[]),Object(a.useMemo)((function(){return Object(a.cloneElement)(t,h)}),[h])},y={measureFromCreating:!1};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},y),e),c=Object(a.useRef)((function(){})),i=Object(a.useState)([function(e){var a=e.children;return Object(n.jsx)(m,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:a}))},function(){return c.current()}]),r=Object(o.a)(i,1),b=r[0];return b}var C=c(13),S=16777215;function w(e){var t=Math.round(parseInt(e.slice(1),16)+S*(Math.random()/4+.5));return"#".concat((t=t>S?t-S:t).toString(16).padStart(6,"0"))}function E(e,t){return Object(b.b)({key:s(e),default:t})}var k="choice-for-pixel",T="color-for-alternative",A="alternative-for-choice",I="#AAAAAA";function R(e){return E("".concat(T,"-").concat(e),w(I))}var z=Object(b.b)({key:k,default:0}),_=Object(b.b)({key:T,default:I}),M=Object(b.b)({key:"grid-size",default:32}),N=Object(b.b)({key:"remember-active-choice",default:0}),P=[0,1].map((function(e){return Object(b.b)({key:"".concat(A,"-").concat(e),default:{atom:R(e)}})}));var F=function(e){var t=e.label,c=e.onChange,a=e.value,i=void 0===a?"":a,r=e.width,b=void 0===r?65:r,o=e.addStyle,l=void 0===o?{}:o,u={width:b};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:u}))]})}))},D={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},V=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},D),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},D),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},D),{},{animationDelay:"0.2s"})}))]}):null}))},W=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(C.a)({inputValue:r,showSpin:!1}),v=Object(o.a)(d,2),f=v[0],h=v[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(F,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;h.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;h.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){h.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:f.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(V,Object(j.a)({},{toShow:f.showSpin}))]}))},B=[],H=function(e){B.push(e)},L=function(e){return B[e]},G=function(){B=[]},X=function(e){var t=e.addStyle,c=void 0===t?{}:t,i=Object(b.d)(M),r=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2)[1],c=P.map((function(e){return Object(b.e)(e)})),n=Object(b.e)(M);return[function(e){var a=e.gridSize;c.every((function(e,t){return e({atom:R(t)})})),n(a),t({})},s("choose-grid-input")]}(),l=Object(o.a)(r,2),O=l[0],d=l[1],v=g({measureFromCreating:!0}),f=Object(o.a)(v,2),h=f[0],x=f[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(W,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){x(),G();var t=parseInt(e,10)||i;O({gridSize:t})},value:"".concat(i),addStyle:{marginBottom:"2px"},key:d})),Object(n.jsx)(h,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))},Y={width:200,height:20,display:"block",marginRight:5},J=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},Y),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},U={display:"flex",margin:"5px 5px 5px 0"},q=function(){var e=Object(b.e)(N),t=P.map((function(e){return Object(b.c)(e)})),c=[0,1].map((function(){return g()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(i,r){var b,o=c[r][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:U}),{},{key:i}),Object(n.jsx)(J,Object(j.a)({},{callback:(b=r,function(){var n=t[b][0];c[b][1](),n?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:R(b)}))}),name:i})),Object(n.jsx)(o,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))}))}))})};function K(e){var t=Math.floor(Math.random()*e),c=L(t);if(!c)throw Error("It should be defined");return c}var Q={margin:"-5px 0 0 5px",height:20},Z=function(e){var t=e.pixelChoiceAtom,c=Object(b.e)(t);return Object(a.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(n.jsx)(n.Fragment,{})},$=function(){var e=Object(b.d)(M),t=Object(a.useState)("".concat(30)),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(a.useState)([]),O=Object(o.a)(l,2),s=O[0],d=O[1],v=g(),f=Object(o.a)(v,2),h=f[0],x=f[1];return Object(a.useEffect)((function(){return d((function(e){return e.length>0?[]:e}))}),[s]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:U}),{},{children:[Object(n.jsx)(J,Object(j.a)({},{callback:function(){x();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;r("".concat(c));for(var a=Math.pow(e,2),b=a*c/100,o=[],l=0;l<b;l++){var u=void 0;do{u=K(a)}while(o.includes(u));o.push(u)}d(o.map((function(e){return Object(n.jsx)(Z,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(n.jsx)(F,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;r(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Q}),{},{children:Object(n.jsx)(h,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})}))]}),s]})},ee=function(){var e=Object(b.d)(M),t=Object(a.useState)({atom:z}),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(b.e)(i.atom),O=g(),s=Object(o.a)(O,2),d=s[0],v=s[1];return Object(a.useEffect)((function(){l((function(e){return 1-e}))}),[l,i]),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:U}),{},{children:[Object(n.jsx)(J,Object(j.a)({},{callback:function(){v(),r({atom:K(Math.pow(e,2))})},name:"paint random pixel"})),Object(n.jsx)(d,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))},te=function(){var e=P.map((function(e){return Object(b.d)(e)})),t=[0,1].map((function(t){var c,n;return Object(b.c)(null!==(c=null===(n=e[t])||void 0===n?void 0:n.atom)&&void 0!==c?c:_)})),c=Object(b.c)(N),a=Object(o.a)(c,2),i=a[0],r=a[1],l=g(),O=Object(o.a)(l,2),s=O[0],d=O[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:U}),{},{children:[Object(n.jsx)(J,Object(j.a)({},{callback:function(){d();var c=t[i][0],n=1-i;null!==e[n]&&r(n),null!==e[i]&&t[i][1](w(c))},name:"re-paint"})),Object(n.jsx)(s,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))},ce=c(8),ne={height:"100%",width:"100%"},ae=function(e){var t=e.altControlAtom,c=Object(b.d)(t),a=Object(j.a)(Object(j.a)({},ne),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},ie=function(e){var t=e.pixelSize,c=e.defChoice,i={height:t,width:t},r=Object(a.useState)(z),l=Object(o.a)(r,2),u=l[0],O=l[1],s=Object(b.d)(u),d=Object(b.d)(P[s]);return Object(a.useEffect)((function(){var e=E(k,c);H(e),O(e)}),[c]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:d&&u!==z&&Object(n.jsx)(ae,Object(j.a)({},{altControlAtom:d.atom}))}))},re={display:"flex"},je=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,b=Object(a.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(a.createElement)(ie,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:s("c-key")}))}))}),[r,c,i]);return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:re}),{},{children:b})),t]})},be=function(){var e=Object(b.d)(M),t=Object(a.useState)(0),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(ce.a)((function(){if(!i)return null;for(var t="".concat(i/e,"px"),c=null,a=0;a<e;a++)c=Object(n.jsx)(je,Object(j.a)(Object(j.a)({},{length:e,pixelSize:t,defChoice:(e+a+1)%2}),{},{children:c}));return c}),[e,i]);return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){var t=e.getBoundingClientRect().height;r(t)}}}),{},{children:l}))},oe=function(){return Object(n.jsx)(b.a,{children:Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(be,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(n.jsx)(te,{}),Object(n.jsx)(q,{}),Object(n.jsx)(ee,{}),Object(n.jsx)($,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(X,{})]}))]}))}))})},le=c(5),ue=c(7),Oe=c(29);function se(e,t){return[s(e),t]}var de,ve="choice-for-pixel",fe="color-for-alternative",he="grid-size",xe="remember-active-choice",pe="#AAAAAA",me=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function ye(e){return se("".concat(fe,"-").concat(e),w(pe))}function ge(){return me.map((function(e,t){return[e,ye(t)]}))}var Ce=(de={},Object(ue.a)(de,ve,0),Object(ue.a)(de,fe,pe),Object(ue.a)(de,he,32),Object(ue.a)(de,xe,0),de),Se=Object(j.a)({},Ce);function we(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];t.forEach((function(e){var t=Object(o.a)(e,2),c=t[0],n=t[1];Se=Object(j.a)(Object(j.a)({},Se),{},Object(ue.a)({},c,n))}))}function Ee(e){return[e,Se[e]]}we.apply(void 0,Object(le.a)(ge()));var ke=Object(Oe.a)(),Te=ke.useInterstate,Ae=ke.Scope;function Ie(){return s("scope")}var Re=function(e){var t=e.label,c=e.onChange,a=e.value,i=void 0===a?"":a,r=e.width,b=void 0===r?65:r,o=e.addStyle,l=void 0===o?{}:o,u={width:b};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:u}))]})}))},ze={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},_e=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},ze),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},ze),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},ze),{},{animationDelay:"0.2s"})}))]}):null}))},Me=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(C.a)({inputValue:r,showSpin:!1}),v=Object(o.a)(d,2),f=v[0],h=v[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(Re,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;h.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;h.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){h.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:f.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(_e,Object(j.a)({},{toShow:f.showSpin}))]}))},Ne=[],Pe=function(e){Ne.push(e)},Fe=function(e){return Ne[e]},De=function(){Ne=[]},Ve=function(e){var t=e.addStyle,c=void 0===t?{}:t,a=e.beAwareWhenChosen,i=Te.apply(void 0,Object(le.a)(Ee(he))).get(),r=g({measureFromCreating:!0}),b=Object(o.a)(r,2),l=b[0],O=b[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(Me,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){O(),De();var t=parseInt(e,10)||i;a({gridSize:t})},value:"".concat(i),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(l,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))},We={width:200,height:20,display:"block",marginRight:5},Be=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},We),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},He={display:"flex",margin:"5px 5px 5px 0"},Le=function(){var e=Te.apply(void 0,Object(le.a)(Ee(xe))).set(),t=me.map((function(e){return Te.apply(void 0,Object(le.a)(Ee(e))).set()})),c=[0,1].map((function(){return g()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(i,r){var b,o=c[r][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:He}),{},{key:i}),Object(n.jsx)(Be,Object(j.a)({},{callback:(b=r,function(){c[b][1](),t[b]((function(t){return t?(e(1-b),null):(e(b),ye(b))}))}),name:i})),Object(n.jsx)(o,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))}))}))})};function Ge(e){var t=Math.floor(Math.random()*e),c=Fe(t);if(!c)throw Error("It should be defined");return c}var Xe={margin:"-5px 0 0 5px",height:20},Ye=function(e){var t=e.pixelChoiceAtom,c=Te.apply(void 0,Object(le.a)(t)).set();return Object(a.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(n.jsx)(n.Fragment,{})},Je=function(){var e=Te.apply(void 0,Object(le.a)(Ee(he))).get(),t=Object(a.useState)("".concat(30)),c=Object(o.a)(t,2),i=c[0],r=c[1],b=Object(a.useState)([]),l=Object(o.a)(b,2),O=l[0],s=l[1],d=g(),v=Object(o.a)(d,2),f=v[0],h=v[1];return Object(a.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[O]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:He}),{},{children:[Object(n.jsx)(Be,Object(j.a)({},{callback:function(){h();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;r("".concat(c));for(var a=Math.pow(e,2),b=a*c/100,o=[],l=0;l<b;l++){var u=void 0;do{u=Ge(a)}while(o.includes(u));o.push(u)}s(o.map((function(e){return Object(n.jsx)(Ye,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(n.jsx)(Re,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;r(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Xe}),{},{children:Object(n.jsx)(f,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})}))]}),O]})},Ue=function(){var e=Te.apply(void 0,Object(le.a)(Ee(he))).get(),t=Object(a.useState)({atom:Ee(ve)}),c=Object(o.a)(t,2),i=c[0],r=c[1],b=Te.apply(void 0,Object(le.a)(i.atom)).set(),l=g(),O=Object(o.a)(l,2),s=O[0],d=O[1];return Object(a.useEffect)((function(){b((function(e){return 1-e}))}),[b,i]),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:He}),{},{children:[Object(n.jsx)(Be,Object(j.a)({},{callback:function(){d(),r({atom:Ge(Math.pow(e,2))})},name:"paint random pixel"})),Object(n.jsx)(s,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))},qe=function(){var e=me.map((function(e){return Te.apply(void 0,Object(le.a)(Ee(e))).get()})),t=[0,1].map((function(t){var c;return Te.apply(void 0,Object(le.a)(null!==(c=e[t])&&void 0!==c?c:Ee(fe))).set()})),c=Te.apply(void 0,Object(le.a)(Ee(xe))).both(),a=Object(o.a)(c,2),i=a[0],r=a[1],b=g(),l=Object(o.a)(b,2),O=l[0],s=l[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:He}),{},{children:[Object(n.jsx)(Be,Object(j.a)({},{callback:function(){s(),t[i]((function(t){var c=1-i;return null!==e[c]&&r(c),null!==e[i]?w(t):t}))},name:"re-paint"})),Object(n.jsx)(O,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))},Ke={height:"100%",width:"100%"},Qe=function(e){var t=e.altControlAtom,c=Te.apply(void 0,Object(le.a)(t)).get(),a=Object(j.a)(Object(j.a)({},Ke),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},Ze=function(e){var t=e.pixelSize,c=e.defChoice,i={height:t,width:t},r=Object(a.useState)(Ee(ve)),b=Object(o.a)(r,2),l=b[0],u=b[1],O=Te.apply(void 0,Object(le.a)(l)).get(),s=Te.apply(void 0,Object(le.a)(Ee(me[O]))).get();return Object(a.useEffect)((function(){var e=se(ve,c);Pe(e),u(e)}),[c]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:s&&l[0]!==ve&&Object(n.jsx)(Qe,Object(j.a)({},{altControlAtom:s}))}))},$e={display:"flex"},et=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,b=Object(a.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(a.createElement)(Ze,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:s("c-key")}))}))}),[r,c,i]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:$e}),{},{children:b})),t&&Object(n.jsx)("div",{children:t})]})},tt=function(){var e=Te.apply(void 0,Object(le.a)(Ee(he))).get(),t=Object(a.useState)(0),c=Object(o.a)(t,2),i=c[0],r=c[1],b=Object(ce.a)((function(){if(!i)return null;for(var t="".concat(i/e,"px"),c=null,a=0;a<e;a++)c=Object(n.jsx)(et,Object(j.a)(Object(j.a)({},{length:e,pixelSize:t,defChoice:(e+a+1)%2}),{},{children:c}));return c}),[e,i]);return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){var t=e.getBoundingClientRect().height;r(t)}}}),{},{children:b}))},ct=function(){var e=function(){var e=Object(a.useState)(Ie),t=Object(o.a)(e,2),c=t[0],n=t[1];return[c,function(e){var t=e.gridSize;we.apply(void 0,[[he,t]].concat(Object(le.a)(ge()))),n(Ie)}]}(),t=Object(o.a)(e,2),c=t[0],i=t[1];return Object(n.jsx)(Ae,Object(j.a)(Object(j.a)({},{key:c}),{},{children:Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(tt,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(n.jsx)(qe,{}),Object(n.jsx)(Le,{}),Object(n.jsx)(Ue,{}),Object(n.jsx)(Je,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(Ve,Object(j.a)({},{beAwareWhenChosen:i}))]}))]}))}))}))},nt=c(6);var at="choice-for-pixel",it=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function rt(e){return t="".concat("color-for-alternative","-").concat(e),c=w("#AAAAAA"),[s(t),c];var t,c}function jt(e){var t,c=rt(e),n=Object(o.a)(c,2),a=n[0],i=n[1];return t={},Object(ue.a)(t,it[e],a),Object(ue.a)(t,a,i),t}var bt={rememberActiveChoice:0},ot=function(e){var t=e.label,c=e.onChange,a=e.value,i=void 0===a?"":a,r=e.width,b=void 0===r?65:r,o=e.addStyle,l=void 0===o?{}:o,u={width:b};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:u}))]})}))},lt={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},ut=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},lt),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},lt),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},lt),{},{animationDelay:"0.2s"})}))]}):null}))},Ot=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,b=e.width,l=void 0===b?65:b,u=e.addStyle,O=void 0===u?{}:u,s=Object(a.useRef)({}),d=Object(C.a)({inputValue:r,showSpin:!1}),v=Object(o.a)(d,2),f=v[0],h=v[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(n.jsx)(ot,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;h.inputValue(t),function(e){var t=s.current,n=s.current.activeTimeoutId;h.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){h.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:f.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(ut,Object(j.a)({},{toShow:f.showSpin}))]}))};var st=function(e,t){return e[t]},dt=function(e,t){return e[t]},vt=function(e,t){return e[t]};function ft(e){return e.gridSize}var ht,xt=[],pt=function(e){xt.push(e)},mt=function(e){return xt[e]},yt=function(){xt=[]},gt="refresh-input",Ct=Object(nt.b)((function(e){return{gridSize:ft(e)}}))((function(e){var t=e.addStyle,c=void 0===t?{}:t,i=e.beAwareWhenChosen,r=e.gridSize,b=Object(a.useState)((function(){return s(gt)})),l=Object(o.a)(b,2),O=l[0],d=l[1],v=g({measureFromCreating:!0}),f=Object(o.a)(v,2),h=f[0],x=f[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(Ot,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){x(),yt();var t=parseInt(e,10)||r;i(t),d(s(gt))},value:"".concat(r),addStyle:{marginBottom:"2px"},key:O})),Object(n.jsx)(h,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))})),St={width:200,height:20,display:"block",marginRight:5},wt=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},St),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))};function Et(e){return{type:ht.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(ht||(ht={}));var kt={display:"flex",margin:"5px 5px 5px 0"},Tt=Object(nt.b)(null,{switchAlternatives:function(e){return{type:ht.SWITCH_ALTERNATIVES,payload:{choice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return g()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,i){var r,b=c[i][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:kt}),{},{key:e}),Object(n.jsx)(wt,Object(j.a)({},{callback:(r=i,function(){c[r][1](),t(r)}),name:e})),Object(n.jsx)(b,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))}))}))})}));function At(e){var t=Math.floor(Math.random()*e),c=mt(t);if(!c)throw Error("It should be defined");return c}var It,Rt={margin:"-5px 0 0 5px",height:20},zt=Object(nt.b)((function(e){return{gridSize:ft(e)}}),{switchPixelChoice:Et})((function(e){var t=e.gridSize,c=e.switchPixelChoice,i=Object(a.useState)("".concat(30)),r=Object(o.a)(i,2),b=r[0],l=r[1],O=Object(a.useState)([]),s=Object(o.a)(O,2),d=s[0],v=s[1],f=g(),h=Object(o.a)(f,2),x=h[0],p=h[1];return Object(a.useEffect)((function(){d.forEach((function(e){return c(e)})),v((function(e){return e.length>0?[]:e}))}),[d,c]),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:kt}),{},{children:[Object(n.jsx)(wt,Object(j.a)({},{callback:function(){p();var e=parseInt(b,10),c=e>=0&&e<=100?e:0;l("".concat(c));for(var n=Math.pow(t,2),a=n*c/100,i=[],r=0;r<a;r++){var j=void 0;do{j=At(n)}while(i.includes(j));i.push(j)}v(i)},name:"paint n% random pixels"})),Object(n.jsx)(ot,Object(j.a)({},{label:"n: ",value:b,onChange:function(e){var t=e.target.value;l(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Rt}),{},{children:Object(n.jsx)(x,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})}))]})})),_t=Object(nt.b)((function(e){return{gridSize:ft(e)}}),{switchPixelChoice:Et})((function(e){var t=e.gridSize,c=e.switchPixelChoice,a=g(),i=Object(o.a)(a,2),r=i[0],b=i[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:kt}),{},{children:[Object(n.jsx)(wt,Object(j.a)({},{callback:function(){b(),c(At(Math.pow(t,2)))},name:"paint random pixel"})),Object(n.jsx)(r,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))})),Mt=Object(nt.b)(null,{repaintRow:function(){return{type:ht.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=g(),a=Object(o.a)(c,2),i=a[0],r=a[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:kt}),{},{children:[Object(n.jsx)(wt,Object(j.a)({},{callback:function(){r(),t()},name:"re-paint"})),Object(n.jsx)(i,{children:Object(n.jsx)(u,Object(j.a)({},{data:null}))})]}))})),Nt={height:"100%",width:"100%"},Pt=Object(nt.b)((function(e,t){var c=t.altControl;return{color:dt(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},Nt),{},{backgroundColor:t});return Object(n.jsx)("div",Object(j.a)({},{style:c}))})),Ft=Object(nt.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:vt(e,it[st(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(n.jsx)(Pt,Object(j.a)({},{altControl:t})):null})),Dt=Object(nt.b)(null,{createPixel:function(e,t){return{type:ht.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,i=e.createPixel,r={height:t,width:t},b=Object(a.useState)(at),l=Object(o.a)(b,2),u=l[0],O=l[1];return Object(a.useEffect)((function(){var e=s(at);i(e,c),pt(e),O(e)}),[i,c]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:u===at?null:Object(n.jsx)(Ft,Object(j.a)({},{choiceForPixel:u}))}))})),Vt={display:"flex"},Wt=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,b=Object(a.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(a.createElement)(Dt,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:s("c-key")}))}))}),[r,c,i]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Vt}),{},{children:b})),t&&Object(n.jsx)("div",{children:t})]})},Bt=Object(nt.b)((function(e){return{gridSize:ft(e)}}))((function(e){var t=e.gridSize,c=Object(a.useState)(0),i=Object(o.a)(c,2),r=i[0],b=i[1],l=Object(ce.a)((function(){if(!r)return null;for(var e="".concat(r/t,"px"),c=null,a=0;a<t;a++)c=Object(n.jsx)(Wt,Object(j.a)(Object(j.a)({},{length:t,pixelSize:e,defChoice:(t+a+1)%2}),{},{children:c}));return c}),[t,r]);return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!r){var t=e.getBoundingClientRect().height;b(t)}}}),{},{children:l}))})),Ht=c(19);function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,n=c.choice,a=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(ue.a)({},a,n));case ht.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel,r=e[i];return Object(j.a)(Object(j.a)({},e),{},Object(ue.a)({},i,1-r));case ht.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case ht.REMEMBER_ACTIVE_CHOICE:var o=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:o});case ht.TURN_ON_ALTERNATIVE:var l=t.payload.choice,u=e[it[l]];if(!u){var O=jt(l);return Object(j.a)(Object(j.a)({},e),O)}return e;case ht.SWITCH_ALTERNATIVES:var s,d=t.payload.choice,v=e[it[d]];if(!v){var f=jt(d);return Object(j.a)(Object(j.a)(Object(j.a)({},e),f),{},{rememberActiveChoice:d})}return Object(j.a)(Object(j.a)({},e),{},(s={},Object(ue.a)(s,it[d],null),Object(ue.a)(s,"rememberActiveChoice",1-d),s));case ht.REPAINT_ROW:var h=e.rememberActiveChoice,x=e[it[h]],p=1-h;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[it[p]]?p:h},x?Object(ue.a)({},x,w(e[x])):{});default:return e}}function Gt(e){It=Object(j.a)(Object(j.a)({},bt),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),jt(t))}),{}))}var Xt=function(){var e=function(){var e=Object(a.useState)((function(){return Gt(32),Object(Ht.b)(Lt)})),t=Object(o.a)(e,2),c=t[0],n=t[1];return[c,function(e){return Gt(e),n(Object(Ht.b)(Lt))}]}(),t=Object(o.a)(e,2),c=t[0],i=t[1];return Object(n.jsx)(nt.a,Object(j.a)(Object(j.a)({},{store:c}),{},{children:Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(Bt,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'react-redux' (connect components) library"})})),Object(n.jsx)(Mt,{}),Object(n.jsx)(Tt,{}),Object(n.jsx)(_t,{}),Object(n.jsx)(zt,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(Ct,Object(j.a)({},{beAwareWhenChosen:i}))]}))]}))}))}))},Yt=function(){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex"}}),{},{children:[Object(n.jsx)("div",{children:Object(n.jsx)(oe,{})}),Object(n.jsx)("div",{children:Object(n.jsx)(ct,{})}),Object(n.jsx)("div",{children:Object(n.jsx)(Xt,{})})]}))};c(44);r.a.render(Object(n.jsx)(Yt,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f37f30dd.chunk.js.map