(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),r=c(15),i=c.n(r),j=c(0),b=c(4),o=c(3),l=new Map;function u(e){var t=0;return l.has(e)&&(t=l.get(e)+1),l.set(e,t),"".concat(e,"-").concat(t)}var s={measureFromCreating:!1},O=function(e){var t=e.children,c=e.startMeasure,n=e.firstTimeRun,r=e.measureFromCreating,i=Object(a.useState)((function(){return u("start")})),b=Object(o.a)(i,1)[0],l=Object(a.useState)((function(){var e=PerformanceObserver.supportedEntryTypes;return!!(e&&e.includes("mark")&&e.includes("longtask"))})),s=Object(o.a)(l,1)[0],O=Object(a.useState)((function(){return s?{data:null,status:"never"}:{data:null,status:"error"}})),d=Object(o.a)(O,2),f=d[0],v=d[1],h=Object(a.useRef)({useEffectRegistered:!1}),x=Object(a.useRef)(null),p=Object(a.useState)((function(){var e,t=!0,n=0,a=0;function r(){v({data:{TTI:e-a,TBT:n},status:"done"})}if(s){var i=new PerformanceObserver((function(c,i){var l=h.current.useEffectRegistered;function u(e){var t=e.scheduleNext,c=x.current;null!==c&&clearTimeout(c),t?x.current=setTimeout((function(){i.disconnect(),x.current=null,h.current.useEffectRegistered&&r()}),5e3):(i.disconnect(),x.current=null)}if(u({scheduleNext:!0}),t||l){if(t=!1,!a){var s=c.getEntriesByName(b);if(!(s.length>0))return u({scheduleNext:!1}),void v((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})}));var O=Object(o.a)(s,1);a=O[0].startTime,e=a,i.observe({entryTypes:["longtask"]})}var d=c.getEntriesByType("longtask");d.length>0&&d.every((function(t){var c=t.startTime,a=t.duration,i=c-e;return i>=5e3?(u({scheduleNext:!1}),r(),!1):(-i<a&&(n+=i>0||-i<50?a-50:a+i,e=c+a),!0)}))}else u({scheduleNext:!1})}));return c.current=function(){n=0,a=0,v((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),i.observe({entryTypes:["mark","longtask"]}),performance.mark(b)},i}return null})),m=Object(o.a)(p,1)[0];return n.current&&r&&m&&(m.observe({entryTypes:["mark","longtask"]}),performance.mark(b)),Object(a.useEffect)((function(){if(h.current.useEffectRegistered=!0,n.current=!1,m)return r&&v((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),function(){var e=x.current;m.disconnect(),null!==e&&clearTimeout(e)}}),[]),Object(a.useMemo)((function(){return Object(a.cloneElement)(t,f)}),[f])};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},s),e),c=t.measureFromCreating,r=Object(a.useRef)((function(){})),i=Object(a.useRef)(!0),b=Object(a.useState)([function(e){var t=e.children;return Object(n.jsx)(O,Object(j.a)(Object(j.a)({},{startMeasure:r,firstTimeRun:i,measureFromCreating:c}),{},{children:t}))},function(){return r.current()}]),l=Object(o.a)(b,1),u=l[0];return u}var f=c(20),v=16777215;function h(e){var t=Math.round(parseInt(e.slice(1),16)+v*(Math.random()/4+.5));return"#".concat((t=t>v?t-v:t).toString(16).padStart(6,"0"))}function x(e,t){return Object(b.b)({key:u(e),default:t})}var p="choice-for-pixel",m="color-for-alternative",y="#AAAAAA",g=Object(b.b)({key:p,default:0}),k=Object(b.b)({key:m,default:y});function w(e){return x("".concat(m,"-").concat(e),h(y))}var S=[0,1].map((function(e){return Object(b.b)({key:"".concat("alternative-for-choice","-").concat(e),default:{atom:w(e)}})})),C=Object(b.b)({key:"grid-size",default:32}),T=Object(b.b)({key:"remember-active-choice",default:0}),E=function(e){var t=e.label,c=e.onChange,a=e.value,r=void 0===a?"":a,i=e.width,b=void 0===i?65:i,o=e.addStyle,l=void 0===o?{}:o,u={width:b};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:u}))]})}))},I={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},R=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},I),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},I),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},I),{},{animationDelay:"0.2s"})}))]}):null}))},A=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,b=e.width,l=void 0===b?65:b,u=e.addStyle,s=void 0===u?{}:u,O=Object(a.useRef)({}),d=Object(f.a)({inputValue:i,showSpin:!1}),v=Object(o.a)(d,2),h=v[0],x=v[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},s)}),{},{children:[Object(n.jsx)(E,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;x.inputValue(t),function(e){var t=O.current,n=O.current.activeTimeoutId;x.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){x.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(R,Object(j.a)({},{toShow:h.showSpin}))]}))},M={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},F=function(e){var t=e.data,c=e.status;if("done"===c&&t){var a=t.TTI,r=t.TBT;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:M}),{},{children:"TTI: ".concat(Math.round(a),"ms - TBT: ").concat(Math.round(r),"ms")}))}return"pending"===c?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:M}),{},{children:"performance measuring..."})):"error"===c?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:M}),{},{children:"error"})):Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},M),{},{backgroundColor:"transparent"})}))},z=[],B=0,D=function(e){z.push(e)},N=function(e){return z[e]},V=function(){return z[B++]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;B=e},J=function(e){var t=e.addStyle,c=void 0===t?{}:t,a=Object(b.e)(C),r=Object(b.e)(T),i=[0,1].map((function(e){return Object(b.e)(S[e])})),l=d({measureFromCreating:!0}),u=Object(o.a)(l,2),s=u[0],O=u[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(A,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){O(),G(),a(parseInt(e,10)),r(0),i.forEach((function(e,t){e((function(e){return e||{atom:w(t)}}))}))},value:"".concat(32),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(s,{children:Object(n.jsx)(F,Object(j.a)({},{data:null}))})]}))},P={width:200,height:20,display:"block",marginRight:5},q=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},P),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},H={display:"flex",margin:"5px 5px 5px 0"},K=function(){var e=Object(b.e)(T),t=[0,1].map((function(e){return Object(b.c)(S[e])})),c=[0,1].map((function(){return d()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,o=c[i][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:H}),{},{key:r}),Object(n.jsx)(q,Object(j.a)({},{callback:(b=i,function(){var n=t[b][0];c[b][1](),n?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:w(b)}))}),name:r})),Object(n.jsx)(o,{children:Object(n.jsx)(F,Object(j.a)({},{data:null}))}))}))})};function L(e){var t=Math.floor(Math.random()*e),c=N(t);if(!c)throw Error("It should be defined");return c}var Q={margin:"-5px 0 0 5px",height:20},U=function(e){var t=e.pixelChoiceAtom,c=Object(b.e)(t);return Object(a.useEffect)((function(){c((function(e){return 1-e}))}),[]),Object(n.jsx)(n.Fragment,{})},W=function(){var e=Object(b.d)(C),t=Object(a.useState)("".concat(30)),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(a.useState)([]),u=Object(o.a)(l,2),s=u[0],O=u[1],f=d(),v=Object(o.a)(f,2),h=v[0],x=v[1];return Object(a.useEffect)((function(){return O((function(e){return e.length>0?[]:e}))}),[s]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:H}),{},{children:[Object(n.jsx)(q,Object(j.a)({},{callback:function(){x();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));for(var a=Math.pow(e,2),b=a*c/100,o=[],l=0;l<b;l++){var u=void 0;do{u=L(a)}while(o.includes(u));o.push(u)}O(o.map((function(e){return Object(n.jsx)(U,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(n.jsx)(E,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Q}),{},{children:Object(n.jsx)(h,{children:Object(n.jsx)(F,Object(j.a)({},{data:null}))})}))]}),s]})},X=function(){var e=Object(b.d)(C),t=Object(a.useState)([g]),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(b.e)(r[0]),u=d(),s=Object(o.a)(u,2),O=s[0],f=s[1];return Object(a.useEffect)((function(){l((function(e){return 1-e}))}),[l,r]),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:H}),{},{children:[Object(n.jsx)(q,Object(j.a)({},{callback:function(){f(),i([L(Math.pow(e,2))])},name:"paint random pixel"})),Object(n.jsx)(O,{children:Object(n.jsx)(F,Object(j.a)({},{data:null}))})]}))},Y=function(){var e=[0,1].map((function(e){return Object(b.d)(S[e])})),t=[0,1].map((function(t){var c,n;return Object(b.c)(null!==(c=null===(n=e[t])||void 0===n?void 0:n.atom)&&void 0!==c?c:k)})),c=Object(b.c)(T),a=Object(o.a)(c,2),r=a[0],i=a[1],l=d(),u=Object(o.a)(l,2),s=u[0],O=u[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:H}),{},{children:[Object(n.jsx)(q,Object(j.a)({},{callback:function(){O();var c=t[r][0],n=1-r;null!==e[n]&&i(n),null!==e[r]&&t[r][1](h(c))},name:"re-paint"})),Object(n.jsx)(s,{children:Object(n.jsx)(F,Object(j.a)({},{data:null}))})]}))},Z=c(9),$={height:"100%",width:"100%"},_=function(e){var t=e.altControlAtom,c=Object(b.d)(t),a=Object(j.a)(Object(j.a)({},$),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},ee=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(a.useState)(g),l=Object(o.a)(i,2),u=l[0],s=l[1],O=Object(b.c)(u),d=Object(o.a)(O,2),f=d[0],v=d[1],h=Object(b.d)(S[f]);return Object(a.useEffect)((function(){if(u===g){var e=V();e||(e=x(p,c),D(e)),s(e)}else v(c)}),[c,u,v]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:h&&u!==g&&Object(n.jsx)(_,Object(j.a)({},{altControlAtom:h.atom}))}))},te={display:"flex"},ce=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,b=Object(a.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(a.createElement)(ee,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:u("c-key")}))}))}),[i,c,r]);return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:te}),{},{children:b})),t]})},ne=function(){var e=Object(b.d)(C),t=Object(a.useState)(0),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(Z.a)((function(){if(!r)return null;for(var t="".concat(r/e,"px"),c=null,a=0;a<e;a++)c=Object(n.jsx)(ce,Object(j.a)(Object(j.a)({},{length:e,pixelSize:t,defChoice:(e+a+1)%2}),{},{children:c}));return c}),[e,r]);return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!r){var t=e.getBoundingClientRect().height;i(t)}}}),{},{children:l}))},ae=function(){return Object(n.jsx)(b.a,{children:Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(ne,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(n.jsx)(Y,{}),Object(n.jsx)(K,{}),Object(n.jsx)(X,{}),Object(n.jsx)(W,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(J,{})]}))]}))}))})},re=c(5),ie=c(23);function je(e,t){return[u(e),t]}var be="choice-for-pixel",oe="color-for-alternative",le="#AAAAAA",ue=[be,0],se=[oe,le];function Oe(e){return je("".concat(oe,"-").concat(e),h(le))}var de=[0,1].map((function(e){return["".concat("alternative-for-choice","-").concat(e),Oe(e)]})),fe=["grid-size",32],ve=["remember-active-choice",0],he=Object(ie.a)().useInterstate,xe=function(e){var t=e.label,c=e.onChange,a=e.value,r=void 0===a?"":a,i=e.width,b=void 0===i?65:i,o=e.addStyle,l=void 0===o?{}:o,u={width:b};return Object(n.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},l)}),{},{children:Object(n.jsxs)("label",{children:[t,Object(n.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:u}))]})}))},pe={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},me=function(e){var t=e.toShow;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0.1s"})})),Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0.2s"})}))]}):null}))},ye=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,b=e.width,l=void 0===b?65:b,u=e.addStyle,s=void 0===u?{}:u,O=Object(a.useRef)({}),d=Object(f.a)({inputValue:i,showSpin:!1}),v=Object(o.a)(d,2),h=v[0],x=v[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},s)}),{},{children:[Object(n.jsx)(xe,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;x.inputValue(t),function(e){var t=O.current,n=O.current.activeTimeoutId;x.showSpin(!0),n&&clearTimeout(n),t.activeTimeoutId=setTimeout((function(){x.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:l,addStyle:{marginRight:10}})),Object(n.jsx)(me,Object(j.a)({},{toShow:h.showSpin}))]}))},ge={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},ke=function(e){var t=e.data,c=e.status;if("done"===c&&t){var a=t.TTI,r=t.TBT;return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:ge}),{},{children:"TTI: ".concat(Math.round(a),"ms - TBT: ").concat(Math.round(r),"ms")}))}return"pending"===c?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:ge}),{},{children:"performance measuring..."})):"error"===c?Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:ge}),{},{children:"error"})):Object(n.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},ge),{},{backgroundColor:"transparent"})}))},we=[],Se=0,Ce=function(e){we.push(e)},Te=function(e){return we[e]},Ee=function(){return we[Se++]},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Se=e},Re=function(e){var t=e.addStyle,c=void 0===t?{}:t,a=he.apply(void 0,Object(re.a)(fe)).set(),r=he.apply(void 0,Object(re.a)(ve)).set(),i=[0,1].map((function(e){return he.apply(void 0,Object(re.a)(de[e])).set()})),b=d({measureFromCreating:!0}),l=Object(o.a)(b,2),u=l[0],s=l[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(n.jsx)(ye,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){s(),Ie(),a(parseInt(e,10)),r(0),i.forEach((function(e,t){e((function(e){return e||Oe(t)}))}))},value:"".concat(32),addStyle:{marginBottom:"2px"}})),Object(n.jsx)(u,{children:Object(n.jsx)(ke,Object(j.a)({},{data:null}))})]}))},Ae={width:200,height:20,display:"block",marginRight:5},Me=function(e){var t=e.callback,c=e.addStyle,a=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},Ae),a);return Object(n.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},Fe={display:"flex",margin:"5px 5px 5px 0"},ze=function(){var e=he.apply(void 0,Object(re.a)(ve)).set(),t=[0,1].map((function(e){return he.apply(void 0,Object(re.a)(de[e])).both()})),c=[0,1].map((function(){return d()}));return Object(n.jsx)(n.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,o=c[i][0];return Object(a.createElement)("div",Object(j.a)(Object(j.a)({},{style:Fe}),{},{key:r}),Object(n.jsx)(Me,Object(j.a)({},{callback:(b=i,function(){c[b][1](),t[b][1]((function(t){return t?(e(1-b),null):(e(b),Oe(b))}))}),name:r})),Object(n.jsx)(o,{children:Object(n.jsx)(ke,Object(j.a)({},{data:null}))}))}))})};function Be(e){var t=Math.floor(Math.random()*e),c=Te(t);if(!c)throw Error("It should be defined");return c}var De={margin:"-5px 0 0 5px",height:20},Ne=function(e){var t=e.pixelChoiceAtom,c=he.apply(void 0,Object(re.a)(t)).set();return Object(a.useEffect)((function(){c((function(e){return 1-e}))}),[]),Object(n.jsx)(n.Fragment,{})},Ve=function(){var e=he.apply(void 0,Object(re.a)(fe)).get(),t=Object(a.useState)("".concat(30)),c=Object(o.a)(t,2),r=c[0],i=c[1],b=Object(a.useState)([]),l=Object(o.a)(b,2),u=l[0],s=l[1],O=d(),f=Object(o.a)(O,2),v=f[0],h=f[1];return Object(a.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[u]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Fe}),{},{children:[Object(n.jsx)(Me,Object(j.a)({},{callback:function(){h();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));for(var a=Math.pow(e,2),b=a*c/100,o=[],l=0;l<b;l++){var u=void 0;do{u=Be(a)}while(o.includes(u));o.push(u)}s(o.map((function(e){return Object(n.jsx)(Ne,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(n.jsx)(xe,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:De}),{},{children:Object(n.jsx)(v,{children:Object(n.jsx)(ke,Object(j.a)({},{data:null}))})}))]}),u]})},Ge=function(){var e=he.apply(void 0,Object(re.a)(fe)).get(),t=Object(a.useState)([ue]),c=Object(o.a)(t,2),r=c[0],i=c[1],b=he.apply(void 0,Object(re.a)(r[0])).set(),l=d(),u=Object(o.a)(l,2),s=u[0],O=u[1];return Object(a.useEffect)((function(){b((function(e){return 1-e}))}),[b,r]),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Fe}),{},{children:[Object(n.jsx)(Me,Object(j.a)({},{callback:function(){O(),i([Be(Math.pow(e,2))])},name:"paint random pixel"})),Object(n.jsx)(s,{children:Object(n.jsx)(ke,Object(j.a)({},{data:null}))})]}))},Je=function(){var e=[0,1].map((function(e){return he.apply(void 0,Object(re.a)(de[e])).get()})),t=[0,1].map((function(t){var c;return he.apply(void 0,Object(re.a)(null!==(c=e[t])&&void 0!==c?c:se)).set()})),c=he.apply(void 0,Object(re.a)(ve)).both(),a=Object(o.a)(c,2),r=a[0],i=a[1],b=d(),l=Object(o.a)(b,2),u=l[0],s=l[1];return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Fe}),{},{children:[Object(n.jsx)(Me,Object(j.a)({},{callback:function(){s(),t[r]((function(t){var c=1-r;return null!==e[c]&&i(c),null!==e[r]?h(t):t}))},name:"re-paint"})),Object(n.jsx)(u,{children:Object(n.jsx)(ke,Object(j.a)({},{data:null}))})]}))},Pe={height:"100%",width:"100%"},qe=function(e){var t=e.altControlAtom,c=he.apply(void 0,Object(re.a)(t)).get(),a=Object(j.a)(Object(j.a)({},Pe),{},{backgroundColor:c});return Object(n.jsx)("div",Object(j.a)({},{style:a}))},He=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(a.useState)(ue),b=Object(o.a)(i,2),l=b[0],u=b[1],s=he.apply(void 0,Object(re.a)(l)).both(),O=Object(o.a)(s,2),d=O[0],f=O[1],v=he.apply(void 0,Object(re.a)(de[d])).get();return Object(a.useEffect)((function(){if(l===ue){var e=Ee();e||(e=je(be,c),Ce(e)),u(e)}else f(c)}),[c,l,f]),Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:v&&l!==ue&&Object(n.jsx)(qe,Object(j.a)({},{altControlAtom:v}))}))},Ke={display:"flex"},Le=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,b=Object(a.useMemo)((function(){return Array(c).fill(null).map((function(){return Object(a.createElement)(He,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:u("c-key")}))}))}),[i,c,r]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ke}),{},{children:b})),t&&Object(n.jsx)("div",{children:t})]})},Qe=function(){var e=he.apply(void 0,Object(re.a)(fe)).get(),t=Object(a.useState)(0),c=Object(o.a)(t,2),r=c[0],i=c[1],b=Object(Z.a)((function(){if(!r)return null;for(var t="".concat(r/e,"px"),c=null,a=0;a<e;a++)c=Object(n.jsx)(Le,Object(j.a)(Object(j.a)({},{length:e,pixelSize:t,defChoice:(e+a+1)%2}),{},{children:c}));return c}),[e,r]);return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!r){var t=e.getBoundingClientRect().height;i(t)}}}),{},{children:b}))},Ue=function(){return Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(n.jsx)(Qe,{}),Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(n.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(n.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(n.jsx)(Je,{}),Object(n.jsx)(ze,{}),Object(n.jsx)(Ge,{}),Object(n.jsx)(Ve,{}),Object(n.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(n.jsx)(Re,{})]}))]}))}))},We=function(){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex"}}),{},{children:[Object(n.jsx)("div",{children:Object(n.jsx)(ae,{})}),Object(n.jsx)("div",{children:Object(n.jsx)(Ue,{})})]}))};c(30);i.a.render(Object(n.jsx)(We,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.6efb794d.chunk.js.map