(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),i=c(12),r=c.n(i),j=c(0),b=c(3),l=c(4),o={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},u=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,i=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(i),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},o),{},{backgroundColor:"transparent"})}))},O=new Map;function s(e){var t,c=(null!==(t=O.get(e))&&void 0!==t?t:-1)+1;return O.set(e,c),"".concat(e,"-").concat(c)}var d=5e3;function f(e,t,c,a){return void 0===e||clearTimeout(e),a.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&a.finish()}),d):t.disconnect()}function h(e,t,c,a){var n=null!==a&&void 0!==a?a:{startTime:t,duration:0},i=n.startTime,r=n.duration,j=t-i,b=-j>=d;return{TTI:b?0:Math.max(0,c-t),TBT:b?0:e+Math.max(0,j<50?r-50:r-j)}}var v=PerformanceObserver.supportedEntryTypes,x=v&&v.includes("mark")&&v.includes("longtask");function p(e){return x}var m=function(e){var t=e.children,c=e.settings,a=e.updateStartMeasureCallback,i=c.measureFromCreating,r=c.name,l=Object(n.useState)((function(){return s(null!==r&&void 0!==r?r:"start-use-perf-metrics")})),o=Object(b.a)(l,1)[0],u=Object(n.useState)((function(){return x?{data:null,status:"never"}:{data:null,status:"error"}})),O=Object(b.a)(u,2),v=O[0],m=O[1],y=Object(n.useRef)(!0),g=Object(n.useState)((function(){return x?function(e,t,c){var a,n,i,r=!0,l=0,o=0,u={useEffectRegistered:!1};function O(){t({data:h(l,n.startTime,o,i),status:"done"})}var s=new PerformanceObserver((function(c,s){var h=u.useEffectRegistered;if(a=f(a,s,u,{scheduleNext:!0,finish:O}),r||h){if(r=!1,!n){var v=c.getEntriesByName(e);if(!(v.length>0))return t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})})),void(a=f(a,s,u,{scheduleNext:!1}));var x=Object(b.a)(v,1);n=x[0],s.observe({entryTypes:["longtask"]})}var p=c.getEntriesByType("longtask");p.length>0&&p.every((function(e){var t=e.startTime,c=e.duration;if(i){if(t-o>=d)return a=f(a,s,u,{scheduleNext:!1}),O(),!1;l+=c-50}else i=e;return o=t+c,!0}))}else f(a,s,u,{scheduleNext:!1})}));return c((function(){l=0,o=0,n=void 0,i=void 0,t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),s.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[s,function(){return u.useEffectRegistered=!0,function(){s.disconnect(),a=f(a,s,u,{scheduleNext:!1})}}]}(o,m,a):null})),C=Object(b.a)(g,1)[0];p()&&y.current&&i&&(Object(b.a)(C,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(o));return Object(n.useEffect)((function(){if(p()){var e=Object(b.a)(C,2)[1];return y.current=!1,i&&m((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),e()}}),[]),Object(n.useMemo)((function(){return Object(n.cloneElement)(t,v)}),[v])},y={measureFromCreating:!1};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},y),e),c=Object(n.useRef)((function(){})),i=Object(n.useState)([function(e){var n=e.children;return Object(a.jsx)(m,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:n}))},function(){return c.current()}]),r=Object(b.a)(i,1),l=r[0];return l}var C=c(10),S=16777215;function w(e){var t=Math.round(parseInt(e.slice(1),16)+S*(Math.random()/4+.5));return"#".concat((t=t>S?t-S:t).toString(16).padStart(6,"0"))}function E(e,t){return Object(l.b)({key:s(e),default:t})}var k="choice-for-pixel",T="color-for-alternative",A="alternative-for-choice",I="#AAAAAA";function R(e){return E("".concat(T,"-").concat(e),w(I))}var z=Object(l.b)({key:k,default:0}),_=Object(l.b)({key:T,default:I}),N=Object(l.b)({key:"grid-size",default:32}),M=Object(l.b)({key:"remember-active-choice",default:0}),P=[0,1].map((function(e){return Object(l.b)({key:"".concat(A,"-").concat(e),default:{atom:R(e)}})}));function F(){return s("refresh-key")}var W=function(e){var t=e.label,c=e.onChange,n=e.value,i=void 0===n?"":n,r=e.width,b=void 0===r?65:r,l=e.addStyle,o=void 0===l?{}:l,u={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:u}))]})}))},D={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},V=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},D),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},D),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},D),{},{animationDelay:"0.2s"})}))]}):null}))},B=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,l=e.width,o=void 0===l?65:l,u=e.addStyle,O=void 0===u?{}:u,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:r,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(a.jsx)(W,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(V,Object(j.a)({},{toShow:h.showSpin}))]}))},H=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,i=Object(l.d)(N),r=g({measureFromCreating:!0}),o=Object(b.a)(r,2),O=o[0],s=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(B,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){s();var t=parseInt(e,10)||i;n({gridSize:t})},value:"".concat(i),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(O,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))},L={width:200,height:20,display:"block",marginRight:5},G=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},L),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},X={display:"flex",margin:"5px 5px 5px 0"},K=function(){var e=Object(l.e)(M),t=P.map((function(e){return Object(l.c)(e)})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(i,r){var b,l=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:X}),{},{key:i}),Object(a.jsx)(G,Object(j.a)({},{callback:(b=r,function(){var a=t[b][0];c[b][1](),a?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:R(b)}))}),name:i})),Object(a.jsx)(l,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))}))}))})},Y=[],J=function(e){Y.push(e)},U=function(e){return Y[e]},q=function(){Y=[]};function Q(e){var t=Math.floor(Math.random()*e),c=U(t);if(!c)throw Error("It should be defined");return c}var Z={margin:"-5px 0 0 5px",height:20},$=function(e){var t=e.pixelChoiceAtom,c=Object(l.e)(t);return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},ee=function(){var e=Object(l.d)(N),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),i=c[0],r=c[1],o=Object(n.useState)([]),O=Object(b.a)(o,2),s=O[0],d=O[1],f=g(),h=Object(b.a)(f,2),v=h[0],x=h[1];return Object(n.useEffect)((function(){return d((function(e){return e.length>0?[]:e}))}),[s]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:X}),{},{children:[Object(a.jsx)(G,Object(j.a)({},{callback:function(){x();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;r("".concat(c));for(var n=Math.pow(e,2),b=n*c/100,l=[],o=0;o<b;o++){var u=void 0;do{u=Q(n)}while(l.includes(u));l.push(u)}d(l.map((function(e){return Object(a.jsx)($,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(a.jsx)(W,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;r(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Z}),{},{children:Object(a.jsx)(v,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})}))]}),s]})},te=function(){var e=Object(l.d)(N),t=Object(n.useState)({atom:z}),c=Object(b.a)(t,2),i=c[0],r=c[1],o=Object(l.e)(i.atom),O=g(),s=Object(b.a)(O,2),d=s[0],f=s[1];return Object(n.useEffect)((function(){o((function(e){return 1-e}))}),[o,i]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:X}),{},{children:[Object(a.jsx)(G,Object(j.a)({},{callback:function(){f(),r({atom:Q(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(d,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))},ce=function(){var e=P.map((function(e){return Object(l.d)(e)})),t=[0,1].map((function(t){var c,a;return Object(l.c)(null!==(c=null===(a=e[t])||void 0===a?void 0:a.atom)&&void 0!==c?c:_)})),c=Object(l.c)(M),n=Object(b.a)(c,2),i=n[0],r=n[1],o=g(),O=Object(b.a)(o,2),s=O[0],d=O[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:X}),{},{children:[Object(a.jsx)(G,Object(j.a)({},{callback:function(){d();var c=t[i][0],a=1-i;null!==e[a]&&r(a),null!==e[i]&&t[i][1](w(c))},name:"re-paint"})),Object(a.jsx)(s,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))},ae={height:"100%",width:"100%"},ne=function(e){var t=e.altControlAtom,c=Object(l.d)(t),n=Object(j.a)(Object(j.a)({},ae),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},ie=function(e){var t=e.pixelSize,c=e.defChoice,i={height:t,width:t},r=Object(n.useState)(z),o=Object(b.a)(r,2),u=o[0],O=o[1],s=Object(l.d)(u),d=Object(l.d)(P[s]);return Object(n.useEffect)((function(){var e=E(k,c);J(e),O(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:d&&u!==z&&Object(a.jsx)(ne,Object(j.a)({},{altControlAtom:d.atom}))}))},re={display:"flex"},je=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),u=o[0],O=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(ie,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:s("c-key")}))}));O(e)}),[r,c,i]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:re}),{},{children:u})),t]})},be=function(){var e=Object(l.d)(N),t=Object(n.useState)(null),c=Object(b.a)(t,2),i=c[0],r=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!i){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(je,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));q(),r(b)}}}),{},{children:i}))},le=function(){var e=function(){var e=Object(n.useState)(F),t=Object(b.a)(e,2),c=t[0],a=t[1],i=P.map((function(e){return Object(l.e)(e)})),r=Object(l.e)(N);return[c,function(e){var t=e.gridSize;i.every((function(e,t){return e({atom:R(t)})})),r(t),a(F)}]}(),t=Object(b.a)(e,2),c=t[0],i=t[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"},key:c}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(be,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(a.jsx)(ce,{}),Object(a.jsx)(K,{}),Object(a.jsx)(te,{}),Object(a.jsx)(ee,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(H,Object(j.a)({},{beAwareWhenChosen:i}))]}))]}))}))},oe=function(){return Object(a.jsx)(l.a,{children:Object(a.jsx)(le,{})})},ue=c(6),Oe=c(7);var se="choice-for-pixel",de=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function fe(e){return t="".concat("color-for-alternative","-").concat(e),c=w("#AAAAAA"),[s(t),c];var t,c}function he(e){var t,c=fe(e),a=Object(b.a)(c,2),n=a[0],i=a[1];return t={},Object(Oe.a)(t,de[e],n),Object(Oe.a)(t,n,i),t}var ve={rememberActiveChoice:0},xe=function(e){var t=e.label,c=e.onChange,n=e.value,i=void 0===n?"":n,r=e.width,b=void 0===r?65:r,l=e.addStyle,o=void 0===l?{}:l,u={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:u}))]})}))},pe={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},me=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0.2s"})}))]}):null}))},ye=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,l=e.width,o=void 0===l?65:l,u=e.addStyle,O=void 0===u?{}:u,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:r,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(a.jsx)(xe,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(me,Object(j.a)({},{toShow:h.showSpin}))]}))};var ge=function(e,t){return e[t]},Ce=function(e,t){return e[t]},Se=function(e,t){return e[t]};function we(e){return e.gridSize}var Ee,ke=Object(ue.b)((function(e){return{gridSize:we(e)}}))((function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,i=e.gridSize,r=g({measureFromCreating:!0}),l=Object(b.a)(r,2),o=l[0],O=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(ye,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){O();var t=parseInt(e,10)||i;n({gridSize:t})},value:"".concat(i),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))})),Te={width:200,height:20,display:"block",marginRight:5},Ae=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},Te),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))};function Ie(e){return{type:Ee.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(Ee||(Ee={}));var Re={display:"flex",margin:"5px 5px 5px 0"},ze=Object(ue.b)(null,{switchAlternatives:function(e){return{type:Ee.SWITCH_ALTERNATIVES,payload:{choice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,i){var r,b=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{key:e}),Object(a.jsx)(Ae,Object(j.a)({},{callback:(r=i,function(){c[r][1](),t(r)}),name:e})),Object(a.jsx)(b,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))}))}))})})),_e=[],Ne=function(e){_e.push(e)},Me=function(e){return _e[e]},Pe=function(){_e=[]};function Fe(e){var t=Math.floor(Math.random()*e),c=Me(t);if(!c)throw Error("It should be defined");return c}var We,De={margin:"-5px 0 0 5px",height:20},Ve=Object(ue.b)((function(e){return{gridSize:we(e)}}),{switchPixelChoice:Ie})((function(e){var t=e.gridSize,c=e.switchPixelChoice,i=Object(n.useState)("".concat(30)),r=Object(b.a)(i,2),l=r[0],o=r[1],O=Object(n.useState)([]),s=Object(b.a)(O,2),d=s[0],f=s[1],h=g(),v=Object(b.a)(h,2),x=v[0],p=v[1];return Object(n.useEffect)((function(){d.forEach((function(e){return c(e)})),f((function(e){return e.length>0?[]:e}))}),[d,c]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(Ae,Object(j.a)({},{callback:function(){p();var e=parseInt(l,10),c=e>=0&&e<=100?e:0;o("".concat(c));for(var a=Math.pow(t,2),n=a*c/100,i=[],r=0;r<n;r++){var j=void 0;do{j=Fe(a)}while(i.includes(j));i.push(j)}f(i)},name:"paint n% random pixels"})),Object(a.jsx)(xe,Object(j.a)({},{label:"n: ",value:l,onChange:function(e){var t=e.target.value;o(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:De}),{},{children:Object(a.jsx)(x,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})}))]})})),Be=Object(ue.b)((function(e){return{gridSize:we(e)}}),{switchPixelChoice:Ie})((function(e){var t=e.gridSize,c=e.switchPixelChoice,n=g(),i=Object(b.a)(n,2),r=i[0],l=i[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(Ae,Object(j.a)({},{callback:function(){l(),c(Fe(Math.pow(t,2)))},name:"paint random pixel"})),Object(a.jsx)(r,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))})),He=Object(ue.b)(null,{repaintRow:function(){return{type:Ee.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=g(),n=Object(b.a)(c,2),i=n[0],r=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(Ae,Object(j.a)({},{callback:function(){r(),t()},name:"re-paint"})),Object(a.jsx)(i,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))})),Le={height:"100%",width:"100%"},Ge=Object(ue.b)((function(e,t){var c=t.altControl;return{color:Ce(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},Le),{},{backgroundColor:t});return Object(a.jsx)("div",Object(j.a)({},{style:c}))})),Xe=Object(ue.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:Se(e,de[ge(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(a.jsx)(Ge,Object(j.a)({},{altControl:t})):null})),Ke=Object(ue.b)(null,{createPixel:function(e,t){return{type:Ee.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,i=e.createPixel,r={height:t,width:t},l=Object(n.useState)(se),o=Object(b.a)(l,2),u=o[0],O=o[1];return Object(n.useEffect)((function(){var e=s(se);i(e,c),Ne(e),O(e)}),[i,c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:u===se?null:Object(a.jsx)(Xe,Object(j.a)({},{choiceForPixel:u}))}))})),Ye={display:"flex"},Je=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),u=o[0],O=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ke,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:s("c-key")}))}));O(e)}),[r,c,i]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ye}),{},{children:u})),t&&Object(a.jsx)("div",{children:t})]})},Ue=Object(ue.b)((function(e){return{gridSize:we(e)}}))((function(e){var t=e.gridSize,c=Object(n.useState)(null),i=Object(b.a)(c,2),r=i[0],l=i[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!r){for(var c=e.getBoundingClientRect().height,n="".concat(c/t,"px"),i=null,b=0;b<t;b++)i=Object(a.jsx)(Je,Object(j.a)(Object(j.a)({},{length:t,pixelSize:n,defChoice:(t+b+1)%2}),{},{children:i}));Pe(),l(i)}}}),{},{children:r}))})),qe=c(18);function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,a=c.choice,n=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(Oe.a)({},n,a));case Ee.SWITCH_PIXEL_CHOICE:var i=t.payload.pixel,r=e[i];return Object(j.a)(Object(j.a)({},e),{},Object(Oe.a)({},i,1-r));case Ee.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case Ee.REMEMBER_ACTIVE_CHOICE:var l=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:l});case Ee.TURN_ON_ALTERNATIVE:var o=t.payload.choice,u=e[de[o]];if(!u){var O=he(o);return Object(j.a)(Object(j.a)({},e),O)}return e;case Ee.SWITCH_ALTERNATIVES:var s,d=t.payload.choice,f=e[de[d]];if(!f){var h=he(d);return Object(j.a)(Object(j.a)(Object(j.a)({},e),h),{},{rememberActiveChoice:d})}return Object(j.a)(Object(j.a)({},e),{},(s={},Object(Oe.a)(s,de[d],null),Object(Oe.a)(s,"rememberActiveChoice",1-d),s));case Ee.REPAINT_ROW:var v=e.rememberActiveChoice,x=e[de[v]],p=1-v;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[de[p]]?p:v},x?Object(Oe.a)({},x,w(e[x])):{});default:return e}}function Ze(e){We=Object(j.a)(Object(j.a)({},ve),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),he(t))}),{}))}function $e(){return s("refresh-key")}var et=function(){var e=function(){var e=Object(C.a)({store:function(){return Ze(32),Object(qe.b)(Qe)},refreshKey:$e}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,i=t[1],r=i.store,j=i.refreshKey;return[a,n,function(e){Ze(e.gridSize),r(Object(qe.b)(Qe)),j($e)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],i=t[2];return Object(a.jsx)(ue.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Ue,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (connect components) library"})})),Object(a.jsx)(He,{}),Object(a.jsx)(ze,{}),Object(a.jsx)(Be,{}),Object(a.jsx)(Ve,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(ke,Object(j.a)({},{beAwareWhenChosen:i}))]}))]}))}))}))},tt=c(5),ct=c(28);function at(e,t){return[s(e),t]}var nt,it="choice-for-pixel",rt="color-for-alternative",jt="grid-size",bt="remember-active-choice",lt="#AAAAAA",ot=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function ut(e){return at("".concat(rt,"-").concat(e),w(lt))}function Ot(){return ot.map((function(e,t){return[e,ut(t)]}))}var st=(nt={},Object(Oe.a)(nt,it,0),Object(Oe.a)(nt,rt,lt),Object(Oe.a)(nt,jt,32),Object(Oe.a)(nt,bt,0),nt),dt=Object(j.a)({},st);function ft(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];t.forEach((function(e){var t=Object(b.a)(e,2),c=t[0],a=t[1];dt=Object(j.a)(Object(j.a)({},dt),{},Object(Oe.a)({},c,a))}))}function ht(e){return[e,dt[e]]}ft.apply(void 0,Object(tt.a)(Ot()));var vt=Object(ct.a)(),xt=vt.useInterstate,pt=vt.Scope;function mt(){return s("refresh-key")}var yt=function(e){var t=e.label,c=e.onChange,n=e.value,i=void 0===n?"":n,r=e.width,b=void 0===r?65:r,l=e.addStyle,o=void 0===l?{}:l,u={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:i,style:u}))]})}))},gt={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},Ct=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},gt),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},gt),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},gt),{},{animationDelay:"0.2s"})}))]}):null}))},St=function(e){var t=e.label,c=e.inputCallback,i=e.value,r=void 0===i?"":i,l=e.width,o=void 0===l?65:l,u=e.addStyle,O=void 0===u?{}:u,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:r,showSpin:!1}),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},O)}),{},{children:[Object(a.jsx)(yt,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;v.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;v.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){v.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:h.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(Ct,Object(j.a)({},{toShow:h.showSpin}))]}))},wt=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,i=xt.apply(void 0,Object(tt.a)(ht(jt))).get(),r=g({measureFromCreating:!0}),l=Object(b.a)(r,2),o=l[0],O=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(St,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){O();var t=parseInt(e,10)||i;n({gridSize:t})},value:"".concat(i),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))},Et={width:200,height:20,display:"block",marginRight:5},kt=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,i=e.name,r=void 0===i?"start":i,b=Object(j.a)(Object(j.a)({},Et),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:r}))},Tt={display:"flex",margin:"5px 5px 5px 0"},At=function(){var e=xt.apply(void 0,Object(tt.a)(ht(bt))).set(),t=ot.map((function(e){return xt.apply(void 0,Object(tt.a)(ht(e))).set()})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(i,r){var b,l=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{key:i}),Object(a.jsx)(kt,Object(j.a)({},{callback:(b=r,function(){c[b][1](),t[b]((function(t){return t?(e(1-b),null):(e(b),ut(b))}))}),name:i})),Object(a.jsx)(l,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))}))}))})},It=[],Rt=function(e){It.push(e)},zt=function(e){return It[e]},_t=function(){It=[]};function Nt(e){var t=Math.floor(Math.random()*e),c=zt(t);if(!c)throw Error("It should be defined");return c}var Mt={margin:"-5px 0 0 5px",height:20},Pt=function(e){var t=e.pixelChoiceAtom,c=xt.apply(void 0,Object(tt.a)(t)).set();return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},Ft=function(){var e=xt.apply(void 0,Object(tt.a)(ht(jt))).get(),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),i=c[0],r=c[1],l=Object(n.useState)([]),o=Object(b.a)(l,2),O=o[0],s=o[1],d=g(),f=Object(b.a)(d,2),h=f[0],v=f[1];return Object(n.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[O]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{children:[Object(a.jsx)(kt,Object(j.a)({},{callback:function(){v();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;r("".concat(c));for(var n=Math.pow(e,2),b=n*c/100,l=[],o=0;o<b;o++){var u=void 0;do{u=Nt(n)}while(l.includes(u));l.push(u)}s(l.map((function(e){return Object(a.jsx)(Pt,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(a.jsx)(yt,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;r(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Mt}),{},{children:Object(a.jsx)(h,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})}))]}),O]})},Wt=function(){var e=xt.apply(void 0,Object(tt.a)(ht(jt))).get(),t=Object(n.useState)({atom:ht(it)}),c=Object(b.a)(t,2),i=c[0],r=c[1],l=xt.apply(void 0,Object(tt.a)(i.atom)).set(),o=g(),O=Object(b.a)(o,2),s=O[0],d=O[1];return Object(n.useEffect)((function(){l((function(e){return 1-e}))}),[l,i]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{children:[Object(a.jsx)(kt,Object(j.a)({},{callback:function(){d(),r({atom:Nt(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(s,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))},Dt=function(){var e=ot.map((function(e){return xt.apply(void 0,Object(tt.a)(ht(e))).get()})),t=[0,1].map((function(t){var c;return xt.apply(void 0,Object(tt.a)(null!==(c=e[t])&&void 0!==c?c:ht(rt))).set()})),c=xt.apply(void 0,Object(tt.a)(ht(bt))).both(),n=Object(b.a)(c,2),i=n[0],r=n[1],l=g(),o=Object(b.a)(l,2),O=o[0],s=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Tt}),{},{children:[Object(a.jsx)(kt,Object(j.a)({},{callback:function(){s(),t[i]((function(t){var c=1-i;return null!==e[c]&&r(c),null!==e[i]?w(t):t}))},name:"re-paint"})),Object(a.jsx)(O,{children:Object(a.jsx)(u,Object(j.a)({},{data:null}))})]}))},Vt={height:"100%",width:"100%"},Bt=function(e){var t=e.altControlAtom,c=xt.apply(void 0,Object(tt.a)(t)).get(),n=Object(j.a)(Object(j.a)({},Vt),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},Ht=function(e){var t=e.pixelSize,c=e.defChoice,i={height:t,width:t},r=Object(n.useState)(ht(it)),l=Object(b.a)(r,2),o=l[0],u=l[1],O=xt.apply(void 0,Object(tt.a)(o)).get(),s=xt.apply(void 0,Object(tt.a)(ht(ot[O]))).get();return Object(n.useEffect)((function(){var e=at(it,c);Rt(e),u(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:s&&o[0]!==it&&Object(a.jsx)(Bt,Object(j.a)({},{altControlAtom:s}))}))},Lt={display:"flex"},Gt=function(e){var t=e.children,c=e.length,i=e.pixelSize,r=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),u=o[0],O=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ht,Object(j.a)(Object(j.a)({},{pixelSize:i,defChoice:r}),{},{key:s("c-key")}))}));O(e)}),[r,c,i]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Lt}),{},{children:u})),t&&Object(a.jsx)("div",{children:t})]})},Xt=function(){var e=xt.apply(void 0,Object(tt.a)(ht(jt))).get(),t=Object(n.useState)(null),c=Object(b.a)(t,2),i=c[0],r=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!i){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(Gt,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));_t(),r(b)}}}),{},{children:i}))},Kt=function(){var e=function(){var e=Object(n.useState)(mt),t=Object(b.a)(e,2),c=t[0],a=t[1];return[c,function(e){var t=e.gridSize;ft.apply(void 0,[[jt,t]].concat(Object(tt.a)(Ot()))),a(mt)}]}(),t=Object(b.a)(e,2),c=t[0],i=t[1];return Object(a.jsx)(pt,Object(j.a)(Object(j.a)({},{key:c}),{},{children:Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"inline-block"}}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Xt,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(a.jsx)(Dt,{}),Object(a.jsx)(At,{}),Object(a.jsx)(Wt,{}),Object(a.jsx)(Ft,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(wt,Object(j.a)({},{beAwareWhenChosen:i}))]}))]}))}))}))},Yt=function(){return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex"}}),{},{children:[Object(a.jsx)("div",{children:Object(a.jsx)(oe,{})}),Object(a.jsx)("div",{children:Object(a.jsx)(Kt,{})}),Object(a.jsx)("div",{children:Object(a.jsx)(et,{})})]}))};c(43);r.a.render(Object(a.jsx)(Yt,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.80a8dfe8.chunk.js.map