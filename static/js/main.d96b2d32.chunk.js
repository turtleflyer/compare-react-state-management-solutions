(this["webpackJsonpcompare-two-implementations"]=this["webpackJsonpcompare-two-implementations"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),r=c(13),i=c.n(r),j=c(0),b=c(3),l=c(5),o={display:"flex",width:170,height:20,fontSize:"12px",color:"white",padding:"1px 3px",backgroundColor:"gray",borderRadius:5,justifyContent:"center"},O=function(e){var t=e.data,c=e.status;if("done"===c&&t){var n=t.TTI,r=t.TBT;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"TTI: ".concat(Math.round(n),"ms - TBT: ").concat(Math.round(r),"ms")}))}return"pending"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"performance measuring..."})):"error"===c?Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:o}),{},{children:"error"})):Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},o),{},{backgroundColor:"transparent"})}))},u=new Map;function s(e){var t,c=(null!==(t=u.get(e))&&void 0!==t?t:-1)+1;return u.set(e,c),"".concat(e,"-").concat(c)}var d=5e3;function h(e,t,c,a){return void 0===e||clearTimeout(e),a.scheduleNext?setTimeout((function(){t.disconnect(),c.useEffectRegistered&&a.finish()}),d):t.disconnect()}function v(e,t,c,a){var n=null!==a&&void 0!==a?a:{startTime:t,duration:0},r=n.startTime,i=n.duration,j=t-r,b=-j>=d;return{TTI:b?0:Math.max(0,c-t),TBT:b?0:e+Math.max(0,j<50?i-50:i-j)}}var f=PerformanceObserver.supportedEntryTypes,x=f&&f.includes("mark")&&f.includes("longtask");function p(e){return x}var m=function(e){var t=e.children,c=e.settings,a=e.updateStartMeasureCallback,r=c.measureFromCreating,i=c.name,l=Object(n.useState)((function(){return s(null!==i&&void 0!==i?i:"start-use-perf-metrics")})),o=Object(b.a)(l,1)[0],O=Object(n.useState)((function(){return x?{data:null,status:"never"}:{data:null,status:"error"}})),u=Object(b.a)(O,2),f=u[0],m=u[1],y=Object(n.useRef)(!0),g=Object(n.useState)((function(){return x?function(e,t,c){var a,n,r,i=!0,l=0,o=0,O={useEffectRegistered:!1};function u(){t({data:v(l,n.startTime,o,r),status:"done"})}var s=new PerformanceObserver((function(c,s){var v=O.useEffectRegistered;if(a=h(a,s,O,{scheduleNext:!0,finish:u}),i||v){if(i=!1,!n){var f=c.getEntriesByName(e);if(!(f.length>0))return t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"error"})})),void(a=h(a,s,O,{scheduleNext:!1}));var x=Object(b.a)(f,1);n=x[0],s.observe({entryTypes:["longtask"]})}var p=c.getEntriesByType("longtask");p.length>0&&p.every((function(e){var t=e.startTime,c=e.duration;if(r){if(t-o>=d)return a=h(a,s,O,{scheduleNext:!1}),u(),!1;l+=c-50}else r=e;return o=t+c,!0}))}else h(a,s,O,{scheduleNext:!1})}));return c((function(){l=0,o=0,n=void 0,r=void 0,t((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),s.observe({entryTypes:["mark","longtask"]}),performance.mark(e)})),[s,function(){return O.useEffectRegistered=!0,function(){s.disconnect(),a=h(a,s,O,{scheduleNext:!1})}}]}(o,m,a):null})),C=Object(b.a)(g,1)[0];p()&&y.current&&r&&(Object(b.a)(C,1)[0].observe({entryTypes:["mark","longtask"]}),performance.mark(o));return Object(n.useEffect)((function(){if(p()){var e=Object(b.a)(C,2)[1];return y.current=!1,r&&m((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:"pending"})})),e()}}),[]),Object(n.useMemo)((function(){return Object(n.cloneElement)(t,f)}),[f])},y={measureFromCreating:!1};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(Object(j.a)({},y),e),c=Object(n.useRef)((function(){})),r=Object(n.useState)([function(e){var n=e.children;return Object(a.jsx)(m,Object(j.a)(Object(j.a)({},{settings:t,updateStartMeasureCallback:function(e){c.current=e}}),{},{children:n}))},function(){return c.current()}]),i=Object(b.a)(r,1),l=i[0];return l}var C=c(8),S=16777215;function E(e){var t=Math.round(parseInt(e.slice(1),16)+S*(Math.random()/4+.5));return"#".concat((t=t>S?t-S:t).toString(16).padStart(6,"0"))}function w(e,t){return Object(l.b)({key:s(e),default:t})}var A="choice-for-pixel",T="color-for-alternative",I="alternative-for-choice",k="#AAAAAA";function R(e){return w("".concat(T,"-").concat(e),E(k))}var _=Object(l.b)({key:A,default:0}),N=Object(l.b)({key:T,default:k}),z=Object(l.b)({key:"grid-size",default:32}),M=Object(l.b)({key:"remember-active-choice",default:0}),W=[0,1].map((function(e){return Object(l.b)({key:"".concat(I,"-").concat(e),default:{atom:R(e)}})}));function P(){return s("refresh-key")}var H=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},V={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},D=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},V),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},V),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},V),{},{animationDelay:"0.2s"})}))]}):null}))},F=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),h=Object(b.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(H,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(D,Object(j.a)({},{toShow:v.showSpin}))]}))},L=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=Object(l.d)(z),i=g({measureFromCreating:!0}),o=Object(b.a)(i,2),u=o[0],s=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(F,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){s();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(u,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},B={width:200,height:20,display:"block",marginRight:5},X=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},B),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},G={display:"flex",margin:"5px 5px 5px 0"},K=function(){var e=Object(l.e)(M),t=W.map((function(e){return Object(l.c)(e)})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,l=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{key:r}),Object(a.jsx)(X,Object(j.a)({},{callback:(b=i,function(){var a=t[b][0];c[b][1](),a?(e(1-b),t[b][1](null)):(e(b),t[b][1]({atom:R(b)}))}),name:r})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},Y=[],U=function(e){Y.push(e)},J=function(e){return Y[e]},q=function(){Y=[]};function Q(e){var t=Math.floor(Math.random()*e),c=J(t);if(!c)throw Error("It should be defined");return c}var Z={margin:"-5px 0 0 5px",height:20},$=function(e){var t=e.pixelChoiceAtom,c=Object(l.e)(t);return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},ee=function(){var e=Object(l.d)(z),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(n.useState)([]),u=Object(b.a)(o,2),s=u[0],d=u[1],h=g(),v=Object(b.a)(h,2),f=v[0],x=v[1];return Object(n.useEffect)((function(){return d((function(e){return e.length>0?[]:e}))}),[s]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){x();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));for(var n=Math.pow(e,2),b=n*c/100,l=[],o=0;o<b;o++){var O=void 0;do{O=Q(n)}while(l.includes(O));l.push(O)}d(l.map((function(e){return Object(a.jsx)($,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(a.jsx)(H,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Z}),{},{children:Object(a.jsx)(f,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]}),s]})},te=function(){var e=Object(l.d)(z),t=Object(n.useState)({atom:_}),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(l.e)(r.atom),u=g(),s=Object(b.a)(u,2),d=s[0],h=s[1];return Object(n.useEffect)((function(){o((function(e){return 1-e}))}),[o,r]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){h(),i({atom:Q(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(d,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ce=function(){var e=W.map((function(e){return Object(l.d)(e)})),t=[0,1].map((function(t){var c,a;return Object(l.c)(null!==(c=null===(a=e[t])||void 0===a?void 0:a.atom)&&void 0!==c?c:N)})),c=Object(l.c)(M),n=Object(b.a)(c,2),r=n[0],i=n[1],o=g(),u=Object(b.a)(o,2),s=u[0],d=u[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:G}),{},{children:[Object(a.jsx)(X,Object(j.a)({},{callback:function(){d();var c=t[r][0],a=1-r;null!==e[a]&&i(a),null!==e[r]&&t[r][1](E(c))},name:"re-paint"})),Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},ae={height:"100%",width:"100%"},ne=function(e){var t=e.altControlAtom,c=Object(l.d)(t),n=Object(j.a)(Object(j.a)({},ae),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},re=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(_),o=Object(b.a)(i,2),O=o[0],u=o[1],s=Object(l.d)(O),d=Object(l.d)(W[s]);return Object(n.useEffect)((function(){var e=w(A,c);U(e),u(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&O!==_&&Object(a.jsx)(ne,Object(j.a)({},{altControlAtom:d.atom}))}))},ie={display:"flex"},je=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(re,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:ie}),{},{children:O})),t]})},be=function(){var e=Object(l.d)(z),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(je,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));q(),i(b)}}}),{},{children:r}))},le=function(){var e=function(){var e=Object(n.useState)(P),t=Object(b.a)(e,2),c=t[0],a=t[1],r=W.map((function(e){return Object(l.e)(e)})),i=Object(l.e)(z);return[c,function(e){var t=e.gridSize;r.every((function(e,t){return e({atom:R(t)})})),i(t),a(P)}]}(),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"},key:c}),{},{children:[Object(a.jsx)(be,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'recoil' library"})})),Object(a.jsx)(ce,{}),Object(a.jsx)(K,{}),Object(a.jsx)(te,{}),Object(a.jsx)(ee,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(L,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))},oe=function(){return Object(a.jsx)(l.a,{children:Object(a.jsx)(le,{})})},Oe=c(4),ue=c(6);var se="choice-for-pixel",de=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function he(e){return t="".concat("color-for-alternative","-").concat(e),c=E("#AAAAAA"),[s(t),c];var t,c}function ve(e){var t,c=he(e),a=Object(b.a)(c,2),n=a[0],r=a[1];return t={},Object(ue.a)(t,de[e],n),Object(ue.a)(t,n,r),t}var fe={rememberActiveChoice:0},xe=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},pe={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},me=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},pe),{},{animationDelay:"0.2s"})}))]}):null}))},ye=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),h=Object(b.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(xe,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(me,Object(j.a)({},{toShow:v.showSpin}))]}))};var ge=function(e,t){return e[t]},Ce=function(e,t){return e[t]},Se=function(e,t){return e[t]};function Ee(e){return e.gridSize}var we,Ae=Object(Oe.b)((function(e){return{gridSize:Ee(e)}}))((function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=e.gridSize,i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),o=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(ye,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Te={width:200,height:20,display:"block",marginRight:5},Ie=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},Te),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))};function ke(e){return{type:we.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(we||(we={}));var Re={display:"flex",margin:"5px 5px 5px 0"},_e=Object(Oe.b)(null,{switchAlternatives:function(e){return{type:we.SWITCH_ALTERNATIVES,payload:{choice:e}}}})((function(e){var t=e.switchAlternatives,c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i,b=c[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{key:e}),Object(a.jsx)(Ie,Object(j.a)({},{callback:(i=r,function(){c[i][1](),t(i)}),name:e})),Object(a.jsx)(b,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})})),Ne=[],ze=function(e){Ne.push(e)},Me=function(e){return Ne[e]},We=function(){Ne=[]};function Pe(e){var t=Math.floor(Math.random()*e),c=Me(t);if(!c)throw Error("It should be defined");return c}var He,Ve={margin:"-5px 0 0 5px",height:20},De=Object(Oe.b)((function(e){return{gridSize:Ee(e)}}),{switchPixelChoice:ke})((function(e){var t=e.gridSize,c=e.switchPixelChoice,r=Object(n.useState)("".concat(30)),i=Object(b.a)(r,2),l=i[0],o=i[1],u=Object(n.useState)([]),s=Object(b.a)(u,2),d=s[0],h=s[1],v=g(),f=Object(b.a)(v,2),x=f[0],p=f[1];return Object(n.useEffect)((function(){d.forEach((function(e){return c(e)})),h((function(e){return e.length>0?[]:e}))}),[d,c]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(Ie,Object(j.a)({},{callback:function(){p();var e=parseInt(l,10),c=e>=0&&e<=100?e:0;o("".concat(c));for(var a=Math.pow(t,2),n=a*c/100,r=[],i=0;i<n;i++){var j=void 0;do{j=Pe(a)}while(r.includes(j));r.push(j)}h(r)},name:"paint n% random pixels"})),Object(a.jsx)(xe,Object(j.a)({},{label:"n: ",value:l,onChange:function(e){var t=e.target.value;o(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ve}),{},{children:Object(a.jsx)(x,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]})})),Fe=Object(Oe.b)((function(e){return{gridSize:Ee(e)}}),{switchPixelChoice:ke})((function(e){var t=e.gridSize,c=e.switchPixelChoice,n=g(),r=Object(b.a)(n,2),i=r[0],l=r[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(Ie,Object(j.a)({},{callback:function(){l(),c(Pe(Math.pow(t,2)))},name:"paint random pixel"})),Object(a.jsx)(i,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Le=Object(Oe.b)(null,{repaintRow:function(){return{type:we.REPAINT_ROW}}})((function(e){var t=e.repaintRow,c=g(),n=Object(b.a)(c,2),r=n[0],i=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Re}),{},{children:[Object(a.jsx)(Ie,Object(j.a)({},{callback:function(){i(),t()},name:"re-paint"})),Object(a.jsx)(r,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))})),Be={height:"100%",width:"100%"},Xe=Object(Oe.b)((function(e,t){var c=t.altControl;return{color:Ce(e,c)}}))((function(e){var t=e.color,c=Object(j.a)(Object(j.a)({},Be),{},{backgroundColor:t});return Object(a.jsx)("div",Object(j.a)({},{style:c}))})),Ge=Object(Oe.b)((function(e,t){var c=t.choiceForPixel;return{possibleAltControl:Se(e,de[ge(e,c)])}}))((function(e){var t=e.possibleAltControl;return t?Object(a.jsx)(Xe,Object(j.a)({},{altControl:t})):null})),Ke=Object(Oe.b)(null,{createPixel:function(e,t){return{type:we.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}})((function(e){var t=e.pixelSize,c=e.defChoice,r=e.createPixel,i={height:t,width:t},l=Object(n.useState)(se),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=s(se);r(e,c),ze(e),u(e)}),[r,c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:i}),{},{children:O===se?null:Object(a.jsx)(Ge,Object(j.a)({},{choiceForPixel:O}))}))})),Ye={display:"flex"},Ue=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Ke,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ye}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Je=Object(Oe.b)((function(e){return{gridSize:Ee(e)}}))((function(e){var t=e.gridSize,c=Object(n.useState)(null),r=Object(b.a)(c,2),i=r[0],l=r[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(e){if(e&&!i){for(var c=e.getBoundingClientRect().height,n="".concat(c/t,"px"),r=null,b=0;b<t;b++)r=Object(a.jsx)(Ue,Object(j.a)(Object(j.a)({},{length:t,pixelSize:n,defChoice:(t+b+1)%2}),{},{children:r}));We(),l(r)}}}),{},{children:i}))})),qe=c(11);function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,a=c.choice,n=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(ue.a)({},n,a));case we.SWITCH_PIXEL_CHOICE:var r=t.payload.pixel,i=e[r];return Object(j.a)(Object(j.a)({},e),{},Object(ue.a)({},r,1-i));case we.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case we.REMEMBER_ACTIVE_CHOICE:var l=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:l});case we.TURN_ON_ALTERNATIVE:var o=t.payload.choice,O=e[de[o]];if(!O){var u=ve(o);return Object(j.a)(Object(j.a)({},e),u)}return e;case we.SWITCH_ALTERNATIVES:var s,d=t.payload.choice,h=e[de[d]];if(!h){var v=ve(d);return Object(j.a)(Object(j.a)(Object(j.a)({},e),v),{},{rememberActiveChoice:d})}return Object(j.a)(Object(j.a)({},e),{},(s={},Object(ue.a)(s,de[d],null),Object(ue.a)(s,"rememberActiveChoice",1-d),s));case we.REPAINT_ROW:var f=e.rememberActiveChoice,x=e[de[f]],p=1-f;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[de[p]]?p:f},x?Object(ue.a)({},x,E(e[x])):{});default:return e}}function Ze(e){He=Object(j.a)(Object(j.a)({},fe),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),ve(t))}),{}))}function $e(){return s("refresh-key")}var et=function(){var e=function(){var e=Object(C.a)({store:function(){return Ze(32),Object(qe.b)(Qe)},refreshKey:$e}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[a,n,function(e){Ze(e.gridSize),i(Object(qe.b)(Qe)),j($e)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(a.jsx)(Oe.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Je,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (connect) library"})})),Object(a.jsx)(Le,{}),Object(a.jsx)(_e,{}),Object(a.jsx)(Fe,{}),Object(a.jsx)(De,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(Ae,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))};var tt="choice-for-pixel",ct=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function at(e){return t="".concat("color-for-alternative","-").concat(e),c=E("#AAAAAA"),[s(t),c];var t,c}function nt(e){var t,c=at(e),a=Object(b.a)(c,2),n=a[0],r=a[1];return t={},Object(ue.a)(t,ct[e],n),Object(ue.a)(t,n,r),t}var rt={rememberActiveChoice:0},it=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},jt={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},bt=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jt),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jt),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},jt),{},{animationDelay:"0.2s"})}))]}):null}))},lt=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),h=Object(b.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(it,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(bt,Object(j.a)({},{toShow:v.showSpin}))]}))};var ot=function(e,t){return e[t]},Ot=function(e,t){return e[t]},ut=function(e,t){return e[t]};function st(e){return e.gridSize}var dt,ht=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=Object(Oe.d)(st),i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),o=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(lt,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},vt={width:200,height:20,display:"block",marginRight:5},ft=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},vt),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))};function xt(e){return{type:dt.SWITCH_PIXEL_CHOICE,payload:{pixel:e}}}!function(e){e.CREATE_NEW_PIXEL_ENTRY="pixels/createNewPixelEntry",e.SWITCH_PIXEL_CHOICE="pixels/switchPixelChoice",e.CHOOSE_GRID="grid/chooseGrid",e.REMEMBER_ACTIVE_CHOICE="management/rememberActiveChoice",e.TURN_ON_ALTERNATIVE="alternatives/turnOnAlternative",e.SWITCH_ALTERNATIVES="alternatives/switchAlternatives",e.REPAINT_ROW="alternatives/repaintRow"}(dt||(dt={}));var pt={display:"flex",margin:"5px 5px 5px 0"},mt=function(){var e=Object(Oe.c)(),t=[0,1].map((function(){return g()}));function c(c){return function(){var a;t[c][1](),e((a=c,{type:dt.SWITCH_ALTERNATIVES,payload:{choice:a}}))}}return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(e,r){var i=t[r][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{key:e}),Object(a.jsx)(ft,Object(j.a)({},{callback:c(r),name:e})),Object(a.jsx)(i,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},yt=[],gt=function(e){yt.push(e)},Ct=function(e){return yt[e]},St=function(){yt=[]};function Et(e){var t=Math.floor(Math.random()*e),c=Ct(t);if(!c)throw Error("It should be defined");return c}var wt,At={margin:"-5px 0 0 5px",height:20},Tt=function(){var e=Object(Oe.d)(st),t=Object(Oe.c)(),c=Object(n.useState)("".concat(30)),r=Object(b.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)([]),u=Object(b.a)(o,2),s=u[0],d=u[1],h=g(),v=Object(b.a)(h,2),f=v[0],x=v[1];return Object(n.useEffect)((function(){s.forEach((function(e){return t(xt(e))})),d((function(e){return e.length>0?[]:e}))}),[t,s]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{children:[Object(a.jsx)(ft,Object(j.a)({},{callback:function(){x();var t=parseInt(i,10),c=t>=0&&t<=100?t:0;l("".concat(c));for(var a=Math.pow(e,2),n=a*c/100,r=[],j=0;j<n;j++){var b=void 0;do{b=Et(a)}while(r.includes(b));r.push(b)}d(r)},name:"paint n% random pixels"})),Object(a.jsx)(it,Object(j.a)({},{label:"n: ",value:i,onChange:function(e){var t=e.target.value;l(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:At}),{},{children:Object(a.jsx)(f,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]})},It=function(){var e=Object(Oe.d)(st),t=Object(Oe.c)(),c=g(),n=Object(b.a)(c,2),r=n[0],i=n[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{children:[Object(a.jsx)(ft,Object(j.a)({},{callback:function(){i(),t(xt(Et(Math.pow(e,2))))},name:"paint random pixel"})),Object(a.jsx)(r,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},kt=function(){var e=Object(Oe.c)(),t=g(),c=Object(b.a)(t,2),n=c[0],r=c[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:pt}),{},{children:[Object(a.jsx)(ft,Object(j.a)({},{callback:function(){r(),e({type:dt.REPAINT_ROW})},name:"re-paint"})),Object(a.jsx)(n,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Rt={height:"100%",width:"100%"},_t=function(e){var t=e.altControl,c=Object(Oe.d)((function(e){return Ot(e,t)})),n=Object(j.a)(Object(j.a)({},Rt),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},Nt=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(tt),l=Object(b.a)(i,2),o=l[0],O=l[1],u=Object(Oe.d)((function(e){return ot(e,o)})),d=Object(Oe.d)((function(e){return ut(e,ct[u])})),h=Object(Oe.c)();return Object(n.useEffect)((function(){var e=s(tt);h(function(e,t){return{type:dt.CREATE_NEW_PIXEL_ENTRY,payload:{pixel:e,choice:t}}}(e,c)),gt(e),O(e)}),[c,h]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:d&&o[0]!==tt&&Object(a.jsx)(_t,Object(j.a)({},{altControl:d}))}))},zt={display:"flex"},Mt=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Nt,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:zt}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Wt=function(){var e=Object(Oe.d)(st),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(Mt,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));St(),i(b)}}}),{},{children:r}))};function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt.CREATE_NEW_PIXEL_ENTRY:var c=t.payload,a=c.choice,n=c.pixel;return Object(j.a)(Object(j.a)({},e),{},Object(ue.a)({},n,a));case dt.SWITCH_PIXEL_CHOICE:var r=t.payload.pixel,i=e[r];return Object(j.a)(Object(j.a)({},e),{},Object(ue.a)({},r,1-i));case dt.CHOOSE_GRID:var b=t.payload.gridSize;return Object(j.a)(Object(j.a)({},e),{},{gridSize:b});case dt.REMEMBER_ACTIVE_CHOICE:var l=t.payload.rememberActiveChoice;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:l});case dt.TURN_ON_ALTERNATIVE:var o=t.payload.choice,O=e[ct[o]];if(!O){var u=nt(o);return Object(j.a)(Object(j.a)({},e),u)}return e;case dt.SWITCH_ALTERNATIVES:var s,d=t.payload.choice,h=e[ct[d]];if(!h){var v=nt(d);return Object(j.a)(Object(j.a)(Object(j.a)({},e),v),{},{rememberActiveChoice:d})}return Object(j.a)(Object(j.a)({},e),{},(s={},Object(ue.a)(s,ct[d],null),Object(ue.a)(s,"rememberActiveChoice",1-d),s));case dt.REPAINT_ROW:var f=e.rememberActiveChoice,x=e[ct[f]],p=1-f;return Object(j.a)(Object(j.a)({},e),{},{rememberActiveChoice:e[ct[p]]?p:f},x?Object(ue.a)({},x,E(e[x])):{});default:return e}}function Ht(e){wt=Object(j.a)(Object(j.a)({},rt),{},{gridSize:e},[0,1].reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),nt(t))}),{}))}function Vt(){return s("refresh-key")}var Dt=function(){var e=function(){var e=Object(C.a)({store:function(){return Ht(32),Object(qe.b)(Pt)},refreshKey:Vt}),t=Object(b.a)(e,2),c=t[0],a=c.store,n=c.refreshKey,r=t[1],i=r.store,j=r.refreshKey;return[a,n,function(e){Ht(e.gridSize),i(Object(qe.b)(Pt)),j(Vt)}]}(),t=Object(b.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(a.jsx)(Oe.a,Object(j.a)(Object(j.a)({},{store:c,key:n}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Wt,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'react-redux' (hooks) library"})})),Object(a.jsx)(kt,{}),Object(a.jsx)(mt,{}),Object(a.jsx)(It,{}),Object(a.jsx)(Tt,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(ht,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},Ft=c(7),Lt=c(28);function Bt(e,t){return[s(e),t]}var Xt,Gt="choice-for-pixel",Kt="color-for-alternative",Yt="grid-size",Ut="remember-active-choice",Jt="#AAAAAA",qt=[0,1].map((function(e){return"".concat("alternative-for-choice","-").concat(e)}));function Qt(e){return Bt("".concat(Kt,"-").concat(e),E(Jt))}function Zt(){return qt.map((function(e,t){return[e,Qt(t)]}))}var $t=(Xt={},Object(ue.a)(Xt,Gt,0),Object(ue.a)(Xt,Kt,Jt),Object(ue.a)(Xt,Yt,32),Object(ue.a)(Xt,Ut,0),Xt),ec=Object(j.a)({},$t);function tc(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];t.forEach((function(e){var t=Object(b.a)(e,2),c=t[0],a=t[1];ec=Object(j.a)(Object(j.a)({},ec),{},Object(ue.a)({},c,a))}))}function cc(e){return[e,ec[e]]}tc.apply(void 0,Object(Ft.a)(Zt()));var ac=Object(Lt.a)(),nc=ac.useInterstate,rc=ac.Scope;function ic(){return s("refresh-key")}var jc=function(e){var t=e.label,c=e.onChange,n=e.value,r=void 0===n?"":n,i=e.width,b=void 0===i?65:i,l=e.addStyle,o=void 0===l?{}:l,O={width:b};return Object(a.jsx)("form",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"block"},o)}),{},{children:Object(a.jsxs)("label",{children:[t,Object(a.jsx)("input",Object(j.a)({},{type:"text",onChange:c,value:r,style:O}))]})}))},bc={width:5,height:5,marginRight:5,borderRadius:"100%",backgroundColor:"#999",animationName:"jump-dot",animationDuration:"0.5s",animationIterationCount:"infinite"},lc=function(e){var t=e.toShow;return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",width:30}}),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},bc),{},{animationDelay:"0s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},bc),{},{animationDelay:"0.1s"})})),Object(a.jsx)("div",Object(j.a)({},{style:Object(j.a)(Object(j.a)({},bc),{},{animationDelay:"0.2s"})}))]}):null}))},oc=function(e){var t=e.label,c=e.inputCallback,r=e.value,i=void 0===r?"":r,l=e.width,o=void 0===l?65:l,O=e.addStyle,u=void 0===O?{}:O,s=Object(n.useRef)({}),d=Object(C.a)({inputValue:i,showSpin:!1}),h=Object(b.a)(d,2),v=h[0],f=h[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:Object(j.a)({display:"flex",alignItems:"center"},u)}),{},{children:[Object(a.jsx)(jc,Object(j.a)({},{label:t,onChange:function(e){var t=e.target.value;f.inputValue(t),function(e){var t=s.current,a=s.current.activeTimeoutId;f.showSpin(!0),a&&clearTimeout(a),t.activeTimeoutId=setTimeout((function(){f.showSpin(!1),t.activeTimeoutId=void 0,c(e)}),3e3)}(t)},value:v.inputValue,width:o,addStyle:{marginRight:10}})),Object(a.jsx)(lc,Object(j.a)({},{toShow:v.showSpin}))]}))},Oc=function(e){var t=e.addStyle,c=void 0===t?{}:t,n=e.beAwareWhenChosen,r=nc.apply(void 0,Object(Ft.a)(cc(Yt))).get(),i=g({measureFromCreating:!0}),l=Object(b.a)(i,2),o=l[0],u=l[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:c}),{},{children:[Object(a.jsx)(oc,Object(j.a)({},{label:"input grid size: ",inputCallback:function(e){u();var t=parseInt(e,10)||r;n({gridSize:t})},value:"".concat(r),addStyle:{marginBottom:"2px"}})),Object(a.jsx)(o,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},uc={width:200,height:20,display:"block",marginRight:5},sc=function(e){var t=e.callback,c=e.addStyle,n=void 0===c?{}:c,r=e.name,i=void 0===r?"start":r,b=Object(j.a)(Object(j.a)({},uc),n);return Object(a.jsx)("button",Object(j.a)(Object(j.a)({},{style:b,type:"button",onClick:t}),{},{children:i}))},dc={display:"flex",margin:"5px 5px 5px 0"},hc=function(){var e=nc.apply(void 0,Object(Ft.a)(cc(Ut))).set(),t=qt.map((function(e){return nc.apply(void 0,Object(Ft.a)(cc(e))).set()})),c=[0,1].map((function(){return g()}));return Object(a.jsx)(a.Fragment,{children:["enable/disable even rows","enable/disable odd rows"].map((function(r,i){var b,l=c[i][0];return Object(n.createElement)("div",Object(j.a)(Object(j.a)({},{style:dc}),{},{key:r}),Object(a.jsx)(sc,Object(j.a)({},{callback:(b=i,function(){c[b][1](),t[b]((function(t){return t?(e(1-b),null):(e(b),Qt(b))}))}),name:r})),Object(a.jsx)(l,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))}))}))})},vc=[],fc=function(e){vc.push(e)},xc=function(e){return vc[e]},pc=function(){vc=[]};function mc(e){var t=Math.floor(Math.random()*e),c=xc(t);if(!c)throw Error("It should be defined");return c}var yc={margin:"-5px 0 0 5px",height:20},gc=function(e){var t=e.pixelChoiceAtom,c=nc.apply(void 0,Object(Ft.a)(t)).set();return Object(n.useEffect)((function(){c((function(e){return 1-e}))}),[c]),Object(a.jsx)(a.Fragment,{})},Cc=function(){var e=nc.apply(void 0,Object(Ft.a)(cc(Yt))).get(),t=Object(n.useState)("".concat(30)),c=Object(b.a)(t,2),r=c[0],i=c[1],l=Object(n.useState)([]),o=Object(b.a)(l,2),u=o[0],s=o[1],d=g(),h=Object(b.a)(d,2),v=h[0],f=h[1];return Object(n.useEffect)((function(){return s((function(e){return e.length>0?[]:e}))}),[u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:dc}),{},{children:[Object(a.jsx)(sc,Object(j.a)({},{callback:function(){f();var t=parseInt(r,10),c=t>=0&&t<=100?t:0;i("".concat(c));for(var n=Math.pow(e,2),b=n*c/100,l=[],o=0;o<b;o++){var O=void 0;do{O=mc(n)}while(l.includes(O));l.push(O)}s(l.map((function(e){return Object(a.jsx)(gc,Object(j.a)({},{pixelChoiceAtom:e}))})))},name:"paint n% random pixels"})),Object(a.jsx)(jc,Object(j.a)({},{label:"n: ",value:r,onChange:function(e){var t=e.target.value;i(t)}}))]})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:yc}),{},{children:Object(a.jsx)(v,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})}))]}),u]})},Sc=function(){var e=nc.apply(void 0,Object(Ft.a)(cc(Yt))).get(),t=Object(n.useState)({atom:cc(Gt)}),c=Object(b.a)(t,2),r=c[0],i=c[1],l=nc.apply(void 0,Object(Ft.a)(r.atom)).set(),o=g(),u=Object(b.a)(o,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){l((function(e){return 1-e}))}),[l,r]),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:dc}),{},{children:[Object(a.jsx)(sc,Object(j.a)({},{callback:function(){d(),i({atom:mc(Math.pow(e,2))})},name:"paint random pixel"})),Object(a.jsx)(s,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},Ec=function(){var e=qt.map((function(e){return nc.apply(void 0,Object(Ft.a)(cc(e))).get()})),t=[0,1].map((function(t){var c;return nc.apply(void 0,Object(Ft.a)(null!==(c=e[t])&&void 0!==c?c:cc(Kt))).set()})),c=nc.apply(void 0,Object(Ft.a)(cc(Ut))).both(),n=Object(b.a)(c,2),r=n[0],i=n[1],l=g(),o=Object(b.a)(l,2),u=o[0],s=o[1];return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:dc}),{},{children:[Object(a.jsx)(sc,Object(j.a)({},{callback:function(){s(),t[r]((function(t){var c=1-r;return null!==e[c]&&i(c),null!==e[r]?E(t):t}))},name:"re-paint"})),Object(a.jsx)(u,{children:Object(a.jsx)(O,Object(j.a)({},{data:null}))})]}))},wc={height:"100%",width:"100%"},Ac=function(e){var t=e.altControlAtom,c=nc.apply(void 0,Object(Ft.a)(t)).get(),n=Object(j.a)(Object(j.a)({},wc),{},{backgroundColor:c});return Object(a.jsx)("div",Object(j.a)({},{style:n}))},Tc=function(e){var t=e.pixelSize,c=e.defChoice,r={height:t,width:t},i=Object(n.useState)(cc(Gt)),l=Object(b.a)(i,2),o=l[0],O=l[1],u=nc.apply(void 0,Object(Ft.a)(o)).get(),s=nc.apply(void 0,Object(Ft.a)(cc(qt[u]))).get();return Object(n.useEffect)((function(){var e=Bt(Gt,c);fc(e),O(e)}),[c]),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:r}),{},{children:s&&o[0]!==Gt&&Object(a.jsx)(Ac,Object(j.a)({},{altControlAtom:s}))}))},Ic={display:"flex"},kc=function(e){var t=e.children,c=e.length,r=e.pixelSize,i=e.defChoice,l=Object(n.useState)(null),o=Object(b.a)(l,2),O=o[0],u=o[1];return Object(n.useEffect)((function(){var e=Array(c).fill(null).map((function(){return Object(n.createElement)(Tc,Object(j.a)(Object(j.a)({},{pixelSize:r,defChoice:i}),{},{key:s("c-key")}))}));u(e)}),[i,c,r]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Ic}),{},{children:O})),t&&Object(a.jsx)("div",{children:t})]})},Rc=function(){var e=nc.apply(void 0,Object(Ft.a)(cc(Yt))).get(),t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{flexGrow:1},ref:function(t){if(t&&!r){for(var c=t.getBoundingClientRect().height,n="".concat(c/e,"px"),b=null,l=0;l<e;l++)b=Object(a.jsx)(kc,Object(j.a)(Object(j.a)({},{length:e,pixelSize:n,defChoice:(e+l+1)%2}),{},{children:b}));pc(),i(b)}}}),{},{children:r}))},_c=function(){var e=function(){var e=Object(n.useState)(ic),t=Object(b.a)(e,2),c=t[0],a=t[1];return[c,function(e){var t=e.gridSize;tc.apply(void 0,[[Yt,t]].concat(Object(Ft.a)(Zt()))),a(ic)}]}(),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(a.jsx)(rc,Object(j.a)(Object(j.a)({},{key:c}),{},{children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",margin:"10px auto 10px 10px"}}),{},{children:[Object(a.jsx)(Rc,{}),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{margin:"10px 0 auto 5px"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"0 0 10px"}}),{},{children:Object(a.jsx)("strong",{children:"Implemented using 'use-interstate' library"})})),Object(a.jsx)(Ec,{}),Object(a.jsx)(hc,{}),Object(a.jsx)(Sc,{}),Object(a.jsx)(Cc,{}),Object(a.jsx)("div",Object(j.a)({},{style:{borderTop:"0.5px solid gray",margin:"15px 0"}})),Object(a.jsx)(Oc,Object(j.a)({},{beAwareWhenChosen:r}))]}))]}))}))},Nc={display:"flex"},zc=function(){return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 20px)"}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:{margin:"5px 0 0 10px",fontWeight:"bold"}}),{},{children:"v.1.0.0"})),Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},{style:{display:"flex",flexGrow:1}}),{},{children:[Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Nc}),{},{children:Object(a.jsx)(oe,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Nc}),{},{children:Object(a.jsx)(_c,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Nc}),{},{children:Object(a.jsx)(et,{})})),Object(a.jsx)("div",Object(j.a)(Object(j.a)({},{style:Nc}),{},{children:Object(a.jsx)(Dt,{})}))]}))]}))};c(43);i.a.render(Object(a.jsx)(zc,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d96b2d32.chunk.js.map